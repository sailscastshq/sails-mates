{"version":3,"file":"main.js","sources":["webpack://mellow-react/./node_modules/@sailshq/lodash/lib/index.js","webpack://mellow-react/./node_modules/deep-extend/lib/deep-extend.js","webpack://mellow-react/./node_modules/ini/ini.js","webpack://mellow-react/./node_modules/minimist/index.js","webpack://mellow-react/./node_modules/rc/index.js","webpack://mellow-react/./node_modules/rc/lib/utils.js","webpack://mellow-react/./node_modules/rttc/index.js","webpack://mellow-react/./node_modules/rttc/lib/GRAMMAR.js","webpack://mellow-react/./node_modules/rttc/lib/cast.js","webpack://mellow-react/./node_modules/rttc/lib/coerce-exemplar.js","webpack://mellow-react/./node_modules/rttc/lib/coerce.js","webpack://mellow-react/./node_modules/rttc/lib/compile.js","webpack://mellow-react/./node_modules/rttc/lib/dehydrate.js","webpack://mellow-react/./node_modules/rttc/lib/get-base-val.js","webpack://mellow-react/./node_modules/rttc/lib/get-default-exemplar.js","webpack://mellow-react/./node_modules/rttc/lib/get-display-type-label.js","webpack://mellow-react/./node_modules/rttc/lib/get-display-type.js","webpack://mellow-react/./node_modules/rttc/lib/get-invalidity-message.js","webpack://mellow-react/./node_modules/rttc/lib/get-noun-phrase.js","webpack://mellow-react/./node_modules/rttc/lib/get-path-info.js","webpack://mellow-react/./node_modules/rttc/lib/get-pattern-from-exemplar.js","webpack://mellow-react/./node_modules/rttc/lib/get-rdt.js","webpack://mellow-react/./node_modules/rttc/lib/helpers/build-schema-iterator.js","webpack://mellow-react/./node_modules/rttc/lib/helpers/build-two-headed-schema-cursor.js","webpack://mellow-react/./node_modules/rttc/lib/helpers/consolidate-errors.js","webpack://mellow-react/./node_modules/rttc/lib/helpers/infer-primitive.js","webpack://mellow-react/./node_modules/rttc/lib/helpers/rebuild-recursive.js","webpack://mellow-react/./node_modules/rttc/lib/helpers/sanitize.js","webpack://mellow-react/./node_modules/rttc/lib/helpers/types.js","webpack://mellow-react/./node_modules/rttc/lib/helpers/validate-recursive.js","webpack://mellow-react/./node_modules/rttc/lib/hydrate.js","webpack://mellow-react/./node_modules/rttc/lib/infer-display-type.js","webpack://mellow-react/./node_modules/rttc/lib/infer.js","webpack://mellow-react/./node_modules/rttc/lib/intersection.js","webpack://mellow-react/./node_modules/rttc/lib/is-equal.js","webpack://mellow-react/./node_modules/rttc/lib/is-invalid-example.js","webpack://mellow-react/./node_modules/rttc/lib/is-specific.js","webpack://mellow-react/./node_modules/rttc/lib/parse-human.js","webpack://mellow-react/./node_modules/rttc/lib/parse.js","webpack://mellow-react/./node_modules/rttc/lib/rebuild.js","webpack://mellow-react/./node_modules/rttc/lib/reify.js","webpack://mellow-react/./node_modules/rttc/lib/sample.js","webpack://mellow-react/./node_modules/rttc/lib/stringify-human.js","webpack://mellow-react/./node_modules/rttc/lib/stringify.js","webpack://mellow-react/./node_modules/rttc/lib/type-info.js","webpack://mellow-react/./node_modules/rttc/lib/union.js","webpack://mellow-react/./node_modules/rttc/lib/validate-exemplar-strict.js","webpack://mellow-react/./node_modules/rttc/lib/validate-strict.js","webpack://mellow-react/./node_modules/rttc/lib/validate.js","webpack://mellow-react/./node_modules/sails/accessible/rc.js","webpack://mellow-react/./node_modules/sails/lib/app/configuration/rc.js","webpack://mellow-react/./node_modules/strip-json-comments/index.js","webpack://mellow-react/./app.js"],"sourcesContent":["/////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n// Originally from https://github.com/lodash/lodash/blob/3.10.1/lodash.src.js\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//\n// Patches:\n//\n// ### Wed Nov 2, 2016\n// I added a hotfix based on https://github.com/lodash/lodash/commit/95bc54a3ddc7a25f5e134f5b376a0d1d96118f49\n// in order to solve https://github.com/lodash/lodash/issues/2768.\n// -@mikermcneil\n//\n// ### Tue Apr 3, 2018\n// I added a patch based on https://github.com/lodash/lodash/commit/d8e069cc3410082e44eb18fcf8e7f3d08ebe1d4a\n// in order to resolve https://hackerone.com/reports/310443\n// -@mikermcneil\n//\n// ### Mon Aug 19, 2018\n// I added a patch based on https://github.com/lodash/lodash/pull/4336/files\n// in order to resolve https://snyk.io/vuln/SNYK-JS-LODASH-73638\n// -@rachaelshaw\n//\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n/**\n * @license\n * lodash 3.10.2 <https://github.com/treelinehq/lodash>\n * A fork of Lodash 3.10.1 <https://lodash.com/> with minor patches made by Mike McNeil.\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n;(function() {\n\n  /** Used as a safe reference for `undefined` in pre-ES5 environments. */\n  var undefined;\n\n  /** Used as the semantic version number. */\n  var VERSION = '3.10.2';\n\n  /** Used to compose bitmasks for wrapper metadata. */\n  var BIND_FLAG = 1,\n      BIND_KEY_FLAG = 2,\n      CURRY_BOUND_FLAG = 4,\n      CURRY_FLAG = 8,\n      CURRY_RIGHT_FLAG = 16,\n      PARTIAL_FLAG = 32,\n      PARTIAL_RIGHT_FLAG = 64,\n      ARY_FLAG = 128,\n      REARG_FLAG = 256;\n\n  /** Used as default options for `_.trunc`. */\n  var DEFAULT_TRUNC_LENGTH = 30,\n      DEFAULT_TRUNC_OMISSION = '...';\n\n  /** Used to detect when a function becomes hot. */\n  var HOT_COUNT = 150,\n      HOT_SPAN = 16;\n\n  /** Used as the size to enable large array optimizations. */\n  var LARGE_ARRAY_SIZE = 200;\n\n  /** Used to indicate the type of lazy iteratees. */\n  var LAZY_FILTER_FLAG = 1,\n      LAZY_MAP_FLAG = 2;\n\n  /** Used as the `TypeError` message for \"Functions\" methods. */\n  var FUNC_ERROR_TEXT = 'Expected a function';\n\n  /** Used as the internal argument placeholder. */\n  var PLACEHOLDER = '__lodash_placeholder__';\n\n  /** `Object#toString` result references. */\n  var argsTag = '[object Arguments]',\n      arrayTag = '[object Array]',\n      // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n      // Patched from https://github.com/lodash/lodash/blob/95bc54a3ddc7a25f5e134f5b376a0d1d96118f49/lodash.js#L86-L108\n      asyncTag = '[object AsyncFunction]',\n      genTag = '[object GeneratorFunction]',\n      proxyTag = '[object Proxy]',\n      // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n      boolTag = '[object Boolean]',\n      dateTag = '[object Date]',\n      errorTag = '[object Error]',\n      funcTag = '[object Function]',\n      mapTag = '[object Map]',\n      numberTag = '[object Number]',\n      objectTag = '[object Object]',\n      regexpTag = '[object RegExp]',\n      setTag = '[object Set]',\n      stringTag = '[object String]',\n      weakMapTag = '[object WeakMap]';\n\n  var arrayBufferTag = '[object ArrayBuffer]',\n      float32Tag = '[object Float32Array]',\n      float64Tag = '[object Float64Array]',\n      int8Tag = '[object Int8Array]',\n      int16Tag = '[object Int16Array]',\n      int32Tag = '[object Int32Array]',\n      uint8Tag = '[object Uint8Array]',\n      uint8ClampedTag = '[object Uint8ClampedArray]',\n      uint16Tag = '[object Uint16Array]',\n      uint32Tag = '[object Uint32Array]';\n\n  /** Used to match empty string literals in compiled template source. */\n  var reEmptyStringLeading = /\\b__p \\+= '';/g,\n      reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n      reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n  /** Used to match HTML entities and HTML characters. */\n  var reEscapedHtml = /&(?:amp|lt|gt|quot|#39|#96);/g,\n      reUnescapedHtml = /[&<>\"'`]/g,\n      reHasEscapedHtml = RegExp(reEscapedHtml.source),\n      reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n\n  /** Used to match template delimiters. */\n  var reEscape = /<%-([\\s\\S]+?)%>/g,\n      reEvaluate = /<%([\\s\\S]+?)%>/g,\n      reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\n  /** Used to match property names within property paths. */\n  var reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\n\\\\]|\\\\.)*?\\1)\\]/,\n      reIsPlainProp = /^\\w*$/,\n      rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\n\\\\]|\\\\.)*?)\\2)\\]/g;\n\n  /**\n   * Used to match `RegExp` [syntax characters](http://ecma-international.org/ecma-262/6.0/#sec-patterns)\n   * and those outlined by [`EscapeRegExpPattern`](http://ecma-international.org/ecma-262/6.0/#sec-escaperegexppattern).\n   */\n  var reRegExpChars = /^[:!,]|[\\\\^$.*+?()[\\]{}|\\/]|(^[0-9a-fA-Fnrtuvx])|([\\n\\r\\u2028\\u2029])/g,\n      reHasRegExpChars = RegExp(reRegExpChars.source);\n\n  /** Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks). */\n  var reComboMark = /[\\u0300-\\u036f\\ufe20-\\ufe23]/g;\n\n  /** Used to match backslashes in property paths. */\n  var reEscapeChar = /\\\\(\\\\)?/g;\n\n  /** Used to match [ES template delimiters](http://ecma-international.org/ecma-262/6.0/#sec-template-literal-lexical-components). */\n  var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n  /** Used to match `RegExp` flags from their coerced string values. */\n  var reFlags = /\\w*$/;\n\n  /** Used to detect hexadecimal string values. */\n  var reHasHexPrefix = /^0[xX]/;\n\n  /** Used to detect host constructors (Safari > 5). */\n  var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n  /** Used to detect unsigned integer values. */\n  var reIsUint = /^\\d+$/;\n\n  /** Used to match latin-1 supplementary letters (excluding mathematical operators). */\n  var reLatin1 = /[\\xc0-\\xd6\\xd8-\\xde\\xdf-\\xf6\\xf8-\\xff]/g;\n\n  /** Used to ensure capturing order of template delimiters. */\n  var reNoMatch = /($^)/;\n\n  /** Used to match unescaped characters in compiled string literals. */\n  var reUnescapedString = /['\\n\\r\\u2028\\u2029\\\\]/g;\n\n  /** Used to match words to create compound words. */\n  var reWords = (function() {\n    var upper = '[A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde]',\n        lower = '[a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff]+';\n\n    return RegExp(upper + '+(?=' + upper + lower + ')|' + upper + '?' + lower + '|' + upper + '+|[0-9]+', 'g');\n  }());\n\n  /** Used to assign default `context` object properties. */\n  var contextProps = [\n    'Array', 'ArrayBuffer', 'Date', 'Error', 'Float32Array', 'Float64Array',\n    'Function', 'Int8Array', 'Int16Array', 'Int32Array', 'Math', 'Number',\n    'Object', 'RegExp', 'Set', 'String', '_', 'clearTimeout', 'isFinite',\n    'parseFloat', 'parseInt', 'setTimeout', 'TypeError', 'Uint8Array',\n    'Uint8ClampedArray', 'Uint16Array', 'Uint32Array', 'WeakMap'\n  ];\n\n  /** Used to fix the JScript `[[DontEnum]]` bug. */\n  var shadowProps = [\n    'constructor', 'hasOwnProperty', 'isPrototypeOf', 'propertyIsEnumerable',\n    'toLocaleString', 'toString', 'valueOf'\n  ];\n\n  /** Used to make template sourceURLs easier to identify. */\n  var templateCounter = -1;\n\n  /** Used to identify `toStringTag` values of typed arrays. */\n  var typedArrayTags = {};\n  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\n  typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\n  typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\n  typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\n  typedArrayTags[uint32Tag] = true;\n  typedArrayTags[argsTag] = typedArrayTags[arrayTag] =\n  typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\n  typedArrayTags[dateTag] = typedArrayTags[errorTag] =\n  typedArrayTags[funcTag] = typedArrayTags[mapTag] =\n  typedArrayTags[numberTag] = typedArrayTags[objectTag] =\n  typedArrayTags[regexpTag] = typedArrayTags[setTag] =\n  typedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;\n\n  /** Used to identify `toStringTag` values supported by `_.clone`. */\n  var cloneableTags = {};\n  cloneableTags[argsTag] = cloneableTags[arrayTag] =\n  cloneableTags[arrayBufferTag] = cloneableTags[boolTag] =\n  cloneableTags[dateTag] = cloneableTags[float32Tag] =\n  cloneableTags[float64Tag] = cloneableTags[int8Tag] =\n  cloneableTags[int16Tag] = cloneableTags[int32Tag] =\n  cloneableTags[numberTag] = cloneableTags[objectTag] =\n  cloneableTags[regexpTag] = cloneableTags[stringTag] =\n  cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\n  cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\n  cloneableTags[errorTag] = cloneableTags[funcTag] =\n  cloneableTags[mapTag] = cloneableTags[setTag] =\n  cloneableTags[weakMapTag] = false;\n\n  /** Used to map latin-1 supplementary letters to basic latin letters. */\n  var deburredLetters = {\n    '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n    '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n    '\\xc7': 'C',  '\\xe7': 'c',\n    '\\xd0': 'D',  '\\xf0': 'd',\n    '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n    '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n    '\\xcC': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n    '\\xeC': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n    '\\xd1': 'N',  '\\xf1': 'n',\n    '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n    '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n    '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n    '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n    '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n    '\\xc6': 'Ae', '\\xe6': 'ae',\n    '\\xde': 'Th', '\\xfe': 'th',\n    '\\xdf': 'ss'\n  };\n\n  /** Used to map characters to HTML entities. */\n  var htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '`': '&#96;'\n  };\n\n  /** Used to map HTML entities to characters. */\n  var htmlUnescapes = {\n    '&amp;': '&',\n    '&lt;': '<',\n    '&gt;': '>',\n    '&quot;': '\"',\n    '&#39;': \"'\",\n    '&#96;': '`'\n  };\n\n  /** Used to determine if values are of the language type `Object`. */\n  var objectTypes = {\n    'function': true,\n    'object': true\n  };\n\n  /** Used to escape characters for inclusion in compiled regexes. */\n  var regexpEscapes = {\n    '0': 'x30', '1': 'x31', '2': 'x32', '3': 'x33', '4': 'x34',\n    '5': 'x35', '6': 'x36', '7': 'x37', '8': 'x38', '9': 'x39',\n    'A': 'x41', 'B': 'x42', 'C': 'x43', 'D': 'x44', 'E': 'x45', 'F': 'x46',\n    'a': 'x61', 'b': 'x62', 'c': 'x63', 'd': 'x64', 'e': 'x65', 'f': 'x66',\n    'n': 'x6e', 'r': 'x72', 't': 'x74', 'u': 'x75', 'v': 'x76', 'x': 'x78'\n  };\n\n  /** Used to escape characters for inclusion in compiled string literals. */\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  /** Detect free variable `exports`. */\n  var freeExports = objectTypes[typeof exports] && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = objectTypes[typeof module] && module && !module.nodeType && module;\n\n  /** Detect free variable `global` from Node.js. */\n  var freeGlobal = freeExports && freeModule && typeof global == 'object' && global && global.Object && global;\n\n  /** Detect free variable `self`. */\n  var freeSelf = objectTypes[typeof self] && self && self.Object && self;\n\n  /** Detect free variable `window`. */\n  var freeWindow = objectTypes[typeof window] && window && window.Object && window;\n\n  /** Detect the popular CommonJS extension `module.exports`. */\n  var moduleExports = freeModule && freeModule.exports === freeExports && freeExports;\n\n  /**\n   * Used as a reference to the global object.\n   *\n   * The `this` value is used if it's the global object to avoid Greasemonkey's\n   * restricted `window` object, otherwise the `window` object is used.\n   */\n  var root = freeGlobal || ((freeWindow !== (this && this.window)) && freeWindow) || freeSelf || this;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * The base implementation of `compareAscending` which compares values and\n   * sorts them in ascending order without guaranteeing a stable sort.\n   *\n   * @private\n   * @param {*} value The value to compare.\n   * @param {*} other The other value to compare.\n   * @returns {number} Returns the sort order indicator for `value`.\n   */\n  function baseCompareAscending(value, other) {\n    if (value !== other) {\n      var valIsNull = value === null,\n          valIsUndef = value === undefined,\n          valIsReflexive = value === value;\n\n      var othIsNull = other === null,\n          othIsUndef = other === undefined,\n          othIsReflexive = other === other;\n\n      if ((value > other && !othIsNull) || !valIsReflexive ||\n          (valIsNull && !othIsUndef && othIsReflexive) ||\n          (valIsUndef && othIsReflexive)) {\n        return 1;\n      }\n      if ((value < other && !valIsNull) || !othIsReflexive ||\n          (othIsNull && !valIsUndef && valIsReflexive) ||\n          (othIsUndef && valIsReflexive)) {\n        return -1;\n      }\n    }\n    return 0;\n  }\n\n  /**\n   * The base implementation of `_.findIndex` and `_.findLastIndex` without\n   * support for callback shorthands and `this` binding.\n   *\n   * @private\n   * @param {Array} array The array to search.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseFindIndex(array, predicate, fromRight) {\n    var length = array.length,\n        index = fromRight ? length : -1;\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (predicate(array[index], index, array)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.indexOf` without support for binary searches.\n   *\n   * @private\n   * @param {Array} array The array to search.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOf(array, value, fromIndex) {\n    if (value !== value) {\n      return indexOfNaN(array, fromIndex);\n    }\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.isFunction` without support for environments\n   * with incorrect `typeof` results.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n   */\n  function baseIsFunction(value) {\n    // Avoid a Chakra JIT bug in compatibility modes of IE 11.\n    // See https://github.com/jashkenas/underscore/issues/1621 for more details.\n    return typeof value == 'function' || false;\n  }\n\n  /**\n   * Converts `value` to a string if it's not one. An empty string is returned\n   * for `null` or `undefined` values.\n   *\n   * @private\n   * @param {*} value The value to process.\n   * @returns {string} Returns the string.\n   */\n  function baseToString(value) {\n    return value == null ? '' : (value + '');\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimLeft` to get the index of the first character\n   * of `string` that is not found in `chars`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @param {string} chars The characters to find.\n   * @returns {number} Returns the index of the first character not found in `chars`.\n   */\n  function charsLeftIndex(string, chars) {\n    var index = -1,\n        length = string.length;\n\n    while (++index < length && chars.indexOf(string.charAt(index)) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimRight` to get the index of the last character\n   * of `string` that is not found in `chars`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @param {string} chars The characters to find.\n   * @returns {number} Returns the index of the last character not found in `chars`.\n   */\n  function charsRightIndex(string, chars) {\n    var index = string.length;\n\n    while (index-- && chars.indexOf(string.charAt(index)) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.sortBy` to compare transformed elements of a collection and stable\n   * sort them in ascending order.\n   *\n   * @private\n   * @param {Object} object The object to compare.\n   * @param {Object} other The other object to compare.\n   * @returns {number} Returns the sort order indicator for `object`.\n   */\n  function compareAscending(object, other) {\n    return baseCompareAscending(object.criteria, other.criteria) || (object.index - other.index);\n  }\n\n  /**\n   * Used by `_.sortByOrder` to compare multiple properties of a value to another\n   * and stable sort them.\n   *\n   * If `orders` is unspecified, all valuess are sorted in ascending order. Otherwise,\n   * a value is sorted in ascending order if its corresponding order is \"asc\", and\n   * descending if \"desc\".\n   *\n   * @private\n   * @param {Object} object The object to compare.\n   * @param {Object} other The other object to compare.\n   * @param {boolean[]} orders The order to sort by for each property.\n   * @returns {number} Returns the sort order indicator for `object`.\n   */\n  function compareMultiple(object, other, orders) {\n    var index = -1,\n        objCriteria = object.criteria,\n        othCriteria = other.criteria,\n        length = objCriteria.length,\n        ordersLength = orders.length;\n\n    while (++index < length) {\n      var result = baseCompareAscending(objCriteria[index], othCriteria[index]);\n      if (result) {\n        if (index >= ordersLength) {\n          return result;\n        }\n        var order = orders[index];\n        return result * ((order === 'asc' || order === true) ? 1 : -1);\n      }\n    }\n    // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n    // that causes it, under certain circumstances, to provide the same value for\n    // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n    // for more details.\n    //\n    // This also ensures a stable sort in V8 and other engines.\n    // See https://code.google.com/p/v8/issues/detail?id=90 for more details.\n    return object.index - other.index;\n  }\n\n  /**\n   * Used by `_.deburr` to convert latin-1 supplementary letters to basic latin letters.\n   *\n   * @private\n   * @param {string} letter The matched letter to deburr.\n   * @returns {string} Returns the deburred letter.\n   */\n  function deburrLetter(letter) {\n    return deburredLetters[letter];\n  }\n\n  /**\n   * Used by `_.escape` to convert characters to HTML entities.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeHtmlChar(chr) {\n    return htmlEscapes[chr];\n  }\n\n  /**\n   * Used by `_.escapeRegExp` to escape characters for inclusion in compiled regexes.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @param {string} leadingChar The capture group for a leading character.\n   * @param {string} whitespaceChar The capture group for a whitespace character.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeRegExpChar(chr, leadingChar, whitespaceChar) {\n    if (leadingChar) {\n      chr = regexpEscapes[chr];\n    } else if (whitespaceChar) {\n      chr = stringEscapes[chr];\n    }\n    return '\\\\' + chr;\n  }\n\n  /**\n   * Used by `_.template` to escape characters for inclusion in compiled string literals.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeStringChar(chr) {\n    return '\\\\' + stringEscapes[chr];\n  }\n\n  /**\n   * Gets the index at which the first occurrence of `NaN` is found in `array`.\n   *\n   * @private\n   * @param {Array} array The array to search.\n   * @param {number} fromIndex The index to search from.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched `NaN`, else `-1`.\n   */\n  function indexOfNaN(array, fromIndex, fromRight) {\n    var length = array.length,\n        index = fromIndex + (fromRight ? 0 : -1);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      var other = array[index];\n      if (other !== other) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * Checks if `value` is a host object in IE < 9.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n   */\n  var isHostObject = (function() {\n    try {\n      Object({ 'toString': 0 } + '');\n    } catch(e) {\n      return function() { return false; };\n    }\n    return function(value) {\n      // IE < 9 presents many host objects as `Object` objects that can coerce\n      // to strings despite having improperly defined `toString` methods.\n      return typeof value.toString != 'function' && typeof (value + '') == 'string';\n    };\n  }());\n\n  /**\n   * Checks if `value` is object-like.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n   */\n  function isObjectLike(value) {\n    return !!value && typeof value == 'object';\n  }\n\n  /**\n   * Used by `trimmedLeftIndex` and `trimmedRightIndex` to determine if a\n   * character code is whitespace.\n   *\n   * @private\n   * @param {number} charCode The character code to inspect.\n   * @returns {boolean} Returns `true` if `charCode` is whitespace, else `false`.\n   */\n  function isSpace(charCode) {\n    return ((charCode <= 160 && (charCode >= 9 && charCode <= 13) || charCode == 32 || charCode == 160) || charCode == 5760 || charCode == 6158 ||\n      (charCode >= 8192 && (charCode <= 8202 || charCode == 8232 || charCode == 8233 || charCode == 8239 || charCode == 8287 || charCode == 12288 || charCode == 65279)));\n  }\n\n  /**\n   * Replaces all `placeholder` elements in `array` with an internal placeholder\n   * and returns an array of their indexes.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {*} placeholder The placeholder to replace.\n   * @returns {Array} Returns the new array of placeholder indexes.\n   */\n  function replaceHolders(array, placeholder) {\n    var index = -1,\n        length = array.length,\n        resIndex = -1,\n        result = [];\n\n    while (++index < length) {\n      if (array[index] === placeholder) {\n        array[index] = PLACEHOLDER;\n        result[++resIndex] = index;\n      }\n    }\n    return result;\n  }\n\n  // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n  // Patched from https://github.com/lodash/lodash/commit/d8e069cc3410082e44eb18fcf8e7f3d08ebe1d4a#diff-001d0647fb00f8336795faccdec19a31R1249\n  // and https://github.com/lodash/lodash/pull/4336/commits/a01e4fa727e7294cb7b2845570ba96b206926790\n  //```\n  /**\n   * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {string} key The key of the property to get.\n   * @returns {*} Returns the property value.\n   */\n  function safeGet(object, key) {\n    return key == '__proto__' || (key === 'constructor' && typeof object[key] === 'function')\n      ? undefined\n      : object[key];\n  }\n  //```\n  // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\n  /**\n   * An implementation of `_.uniq` optimized for sorted arrays without support\n   * for callback shorthands and `this` binding.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {Function} [iteratee] The function invoked per iteration.\n   * @returns {Array} Returns the new duplicate free array.\n   */\n  function sortedUniq(array, iteratee) {\n    var seen,\n        index = -1,\n        length = array.length,\n        resIndex = -1,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index],\n          computed = iteratee ? iteratee(value, index, array) : value;\n\n      if (!index || seen !== computed) {\n        seen = computed;\n        result[++resIndex] = value;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimLeft` to get the index of the first non-whitespace\n   * character of `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the index of the first non-whitespace character.\n   */\n  function trimmedLeftIndex(string) {\n    var index = -1,\n        length = string.length;\n\n    while (++index < length && isSpace(string.charCodeAt(index))) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimRight` to get the index of the last non-whitespace\n   * character of `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the index of the last non-whitespace character.\n   */\n  function trimmedRightIndex(string) {\n    var index = string.length;\n\n    while (index-- && isSpace(string.charCodeAt(index))) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.unescape` to convert HTML entities to characters.\n   *\n   * @private\n   * @param {string} chr The matched character to unescape.\n   * @returns {string} Returns the unescaped character.\n   */\n  function unescapeHtmlChar(chr) {\n    return htmlUnescapes[chr];\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Create a new pristine `lodash` function using the given `context` object.\n   *\n   * @static\n   * @memberOf _\n   * @category Utility\n   * @param {Object} [context=root] The context object.\n   * @returns {Function} Returns a new `lodash` function.\n   * @example\n   *\n   * _.mixin({ 'foo': _.constant('foo') });\n   *\n   * var lodash = _.runInContext();\n   * lodash.mixin({ 'bar': lodash.constant('bar') });\n   *\n   * _.isFunction(_.foo);\n   * // => true\n   * _.isFunction(_.bar);\n   * // => false\n   *\n   * lodash.isFunction(lodash.foo);\n   * // => false\n   * lodash.isFunction(lodash.bar);\n   * // => true\n   *\n   * // using `context` to mock `Date#getTime` use in `_.now`\n   * var mock = _.runInContext({\n   *   'Date': function() {\n   *     return { 'getTime': getTimeMock };\n   *   }\n   * });\n   *\n   * // or creating a suped-up `defer` in Node.js\n   * var defer = _.runInContext({ 'setTimeout': setImmediate }).defer;\n   */\n  function runInContext(context) {\n    // Avoid issues with some ES3 environments that attempt to use values, named\n    // after built-in constructors like `Object`, for the creation of literals.\n    // ES5 clears this up by stating that literals must use built-in constructors.\n    // See https://es5.github.io/#x11.1.5 for more details.\n    context = context ? _.defaults(root.Object(), context, _.pick(root, contextProps)) : root;\n\n    /** Native constructor references. */\n    var Array = context.Array,\n        Date = context.Date,\n        Error = context.Error,\n        Function = context.Function,\n        Math = context.Math,\n        Number = context.Number,\n        Object = context.Object,\n        RegExp = context.RegExp,\n        String = context.String,\n        TypeError = context.TypeError;\n\n    /** Used for native method references. */\n    var arrayProto = Array.prototype,\n        errorProto = Error.prototype,\n        objectProto = Object.prototype,\n        stringProto = String.prototype;\n\n    /** Used to resolve the decompiled source of functions. */\n    var fnToString = Function.prototype.toString;\n\n    /** Used to check objects for own properties. */\n    var hasOwnProperty = objectProto.hasOwnProperty;\n\n    /** Used to generate unique IDs. */\n    var idCounter = 0;\n\n    /**\n     * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n     * of values.\n     */\n    var objToString = objectProto.toString;\n\n    /** Used to restore the original `_` reference in `_.noConflict`. */\n    var oldDash = root._;\n\n    /** Used to detect if a method is native. */\n    var reIsNative = RegExp('^' +\n      fnToString.call(hasOwnProperty).replace(/[\\\\^$.*+?()[\\]{}|]/g, '\\\\$&')\n      .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n    );\n\n    /** Native method references. */\n    var ArrayBuffer = context.ArrayBuffer,\n        clearTimeout = context.clearTimeout,\n        parseFloat = context.parseFloat,\n        pow = Math.pow,\n        propertyIsEnumerable = objectProto.propertyIsEnumerable,\n        Set = getNative(context, 'Set'),\n        setTimeout = context.setTimeout,\n        splice = arrayProto.splice,\n        Uint8Array = context.Uint8Array,\n        WeakMap = getNative(context, 'WeakMap');\n\n    /* Native method references for those with the same name as other `lodash` methods. */\n    var nativeCeil = Math.ceil,\n        nativeCreate = getNative(Object, 'create'),\n        nativeFloor = Math.floor,\n        nativeIsArray = getNative(Array, 'isArray'),\n        nativeIsFinite = context.isFinite,\n        nativeKeys = getNative(Object, 'keys'),\n        nativeMax = Math.max,\n        nativeMin = Math.min,\n        nativeNow = getNative(Date, 'now'),\n        nativeParseInt = context.parseInt,\n        nativeRandom = Math.random;\n\n    /** Used as references for `-Infinity` and `Infinity`. */\n    var NEGATIVE_INFINITY = Number.NEGATIVE_INFINITY,\n        POSITIVE_INFINITY = Number.POSITIVE_INFINITY;\n\n    /** Used as references for the maximum length and index of an array. */\n    var MAX_ARRAY_LENGTH = 4294967295,\n        MAX_ARRAY_INDEX = MAX_ARRAY_LENGTH - 1,\n        HALF_MAX_ARRAY_LENGTH = MAX_ARRAY_LENGTH >>> 1;\n\n    /**\n     * Used as the [maximum length](http://ecma-international.org/ecma-262/6.0/#sec-number.max_safe_integer)\n     * of an array-like value.\n     */\n    var MAX_SAFE_INTEGER = 9007199254740991;\n\n    /** Used to store function metadata. */\n    var metaMap = WeakMap && new WeakMap;\n\n    /** Used to lookup unminified function names. */\n    var realNames = {};\n\n    /** Used to lookup a type array constructors by `toStringTag`. */\n    var ctorByTag = {};\n    ctorByTag[float32Tag] = context.Float32Array;\n    ctorByTag[float64Tag] = context.Float64Array;\n    ctorByTag[int8Tag] = context.Int8Array;\n    ctorByTag[int16Tag] = context.Int16Array;\n    ctorByTag[int32Tag] = context.Int32Array;\n    ctorByTag[uint8Tag] = Uint8Array;\n    ctorByTag[uint8ClampedTag] = context.Uint8ClampedArray;\n    ctorByTag[uint16Tag] = context.Uint16Array;\n    ctorByTag[uint32Tag] = context.Uint32Array;\n\n    /** Used to avoid iterating over non-enumerable properties in IE < 9. */\n    var nonEnumProps = {};\n    nonEnumProps[arrayTag] = nonEnumProps[dateTag] = nonEnumProps[numberTag] = { 'constructor': true, 'toLocaleString': true, 'toString': true, 'valueOf': true };\n    nonEnumProps[boolTag] = nonEnumProps[stringTag] = { 'constructor': true, 'toString': true, 'valueOf': true };\n    nonEnumProps[errorTag] = nonEnumProps[funcTag] = nonEnumProps[regexpTag] = { 'constructor': true, 'toString': true };\n    nonEnumProps[objectTag] = { 'constructor': true };\n\n    arrayEach(shadowProps, function(key) {\n      for (var tag in nonEnumProps) {\n        if (hasOwnProperty.call(nonEnumProps, tag)) {\n          var props = nonEnumProps[tag];\n          props[key] = hasOwnProperty.call(props, key);\n        }\n      }\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object which wraps `value` to enable implicit chaining.\n     * Methods that operate on and return arrays, collections, and functions can\n     * be chained together. Methods that retrieve a single value or may return a\n     * primitive value will automatically end the chain returning the unwrapped\n     * value. Explicit chaining may be enabled using `_.chain`. The execution of\n     * chained methods is lazy, that is, execution is deferred until `_#value`\n     * is implicitly or explicitly called.\n     *\n     * Lazy evaluation allows several methods to support shortcut fusion. Shortcut\n     * fusion is an optimization strategy which merge iteratee calls; this can help\n     * to avoid the creation of intermediate data structures and greatly reduce the\n     * number of iteratee executions.\n     *\n     * Chaining is supported in custom builds as long as the `_#value` method is\n     * directly or indirectly included in the build.\n     *\n     * In addition to lodash methods, wrappers have `Array` and `String` methods.\n     *\n     * The wrapper `Array` methods are:\n     * `concat`, `join`, `pop`, `push`, `reverse`, `shift`, `slice`, `sort`,\n     * `splice`, and `unshift`\n     *\n     * The wrapper `String` methods are:\n     * `replace` and `split`\n     *\n     * The wrapper methods that support shortcut fusion are:\n     * `compact`, `drop`, `dropRight`, `dropRightWhile`, `dropWhile`, `filter`,\n     * `first`, `initial`, `last`, `map`, `pluck`, `reject`, `rest`, `reverse`,\n     * `slice`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, `toArray`,\n     * and `where`\n     *\n     * The chainable wrapper methods are:\n     * `after`, `ary`, `assign`, `at`, `before`, `bind`, `bindAll`, `bindKey`,\n     * `callback`, `chain`, `chunk`, `commit`, `compact`, `concat`, `constant`,\n     * `countBy`, `create`, `curry`, `debounce`, `defaults`, `defaultsDeep`,\n     * `defer`, `delay`, `difference`, `drop`, `dropRight`, `dropRightWhile`,\n     * `dropWhile`, `fill`, `filter`, `flatten`, `flattenDeep`, `flow`, `flowRight`,\n     * `forEach`, `forEachRight`, `forIn`, `forInRight`, `forOwn`, `forOwnRight`,\n     * `functions`, `groupBy`, `indexBy`, `initial`, `intersection`, `invert`,\n     * `invoke`, `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`,\n     * `matchesProperty`, `memoize`, `merge`, `method`, `methodOf`, `mixin`,\n     * `modArgs`, `negate`, `omit`, `once`, `pairs`, `partial`, `partialRight`,\n     * `partition`, `pick`, `plant`, `pluck`, `property`, `propertyOf`, `pull`,\n     * `pullAt`, `push`, `range`, `rearg`, `reject`, `remove`, `rest`, `restParam`,\n     * `reverse`, `set`, `shuffle`, `slice`, `sort`, `sortBy`, `sortByAll`,\n     * `sortByOrder`, `splice`, `spread`, `take`, `takeRight`, `takeRightWhile`,\n     * `takeWhile`, `tap`, `throttle`, `thru`, `times`, `toArray`, `toPlainObject`,\n     * `transform`, `union`, `uniq`, `unshift`, `unzip`, `unzipWith`, `values`,\n     * `valuesIn`, `where`, `without`, `wrap`, `xor`, `zip`, `zipObject`, `zipWith`\n     *\n     * The wrapper methods that are **not** chainable by default are:\n     * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clone`, `cloneDeep`,\n     * `deburr`, `endsWith`, `escape`, `escapeRegExp`, `every`, `find`, `findIndex`,\n     * `findKey`, `findLast`, `findLastIndex`, `findLastKey`, `findWhere`, `first`,\n     * `floor`, `get`, `gt`, `gte`, `has`, `identity`, `includes`, `indexOf`,\n     * `inRange`, `isArguments`, `isArray`, `isBoolean`, `isDate`, `isElement`,\n     * `isEmpty`, `isEqual`, `isError`, `isFinite` `isFunction`, `isMatch`,\n     * `isNative`, `isNaN`, `isNull`, `isNumber`, `isObject`, `isPlainObject`,\n     * `isRegExp`, `isString`, `isUndefined`, `isTypedArray`, `join`, `kebabCase`,\n     * `last`, `lastIndexOf`, `lt`, `lte`, `max`, `min`, `noConflict`, `noop`,\n     * `now`, `pad`, `padLeft`, `padRight`, `parseInt`, `pop`, `random`, `reduce`,\n     * `reduceRight`, `repeat`, `result`, `round`, `runInContext`, `shift`, `size`,\n     * `snakeCase`, `some`, `sortedIndex`, `sortedLastIndex`, `startCase`,\n     * `startsWith`, `sum`, `template`, `trim`, `trimLeft`, `trimRight`, `trunc`,\n     * `unescape`, `uniqueId`, `value`, and `words`\n     *\n     * The wrapper method `sample` will return a wrapped value when `n` is provided,\n     * otherwise an unwrapped value is returned.\n     *\n     * @name _\n     * @constructor\n     * @category Chain\n     * @param {*} value The value to wrap in a `lodash` instance.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var wrapped = _([1, 2, 3]);\n     *\n     * // returns an unwrapped value\n     * wrapped.reduce(function(total, n) {\n     *   return total + n;\n     * });\n     * // => 6\n     *\n     * // returns a wrapped value\n     * var squares = wrapped.map(function(n) {\n     *   return n * n;\n     * });\n     *\n     * _.isArray(squares);\n     * // => false\n     *\n     * _.isArray(squares.value());\n     * // => true\n     */\n    function lodash(value) {\n      if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n        if (value instanceof LodashWrapper) {\n          return value;\n        }\n        if (hasOwnProperty.call(value, '__chain__') && hasOwnProperty.call(value, '__wrapped__')) {\n          return wrapperClone(value);\n        }\n      }\n      return new LodashWrapper(value);\n    }\n\n    /**\n     * The function whose prototype all chaining wrappers inherit from.\n     *\n     * @private\n     */\n    function baseLodash() {\n      // No operation performed.\n    }\n\n    /**\n     * The base constructor for creating `lodash` wrapper objects.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     * @param {boolean} [chainAll] Enable chaining for all wrapper methods.\n     * @param {Array} [actions=[]] Actions to peform to resolve the unwrapped value.\n     */\n    function LodashWrapper(value, chainAll, actions) {\n      this.__wrapped__ = value;\n      this.__actions__ = actions || [];\n      this.__chain__ = !!chainAll;\n    }\n\n    /**\n     * An object environment feature flags.\n     *\n     * @static\n     * @memberOf _\n     * @type Object\n     */\n    var support = lodash.support = {};\n\n    (function(x) {\n      var Ctor = function() { this.x = x; },\n          object = { '0': x, 'length': x },\n          props = [];\n\n      Ctor.prototype = { 'valueOf': x, 'y': x };\n      for (var key in new Ctor) { props.push(key); }\n\n      /**\n       * Detect if `name` or `message` properties of `Error.prototype` are\n       * enumerable by default (IE < 9, Safari < 5.1).\n       *\n       * @memberOf _.support\n       * @type boolean\n       */\n      support.enumErrorProps = propertyIsEnumerable.call(errorProto, 'message') ||\n        propertyIsEnumerable.call(errorProto, 'name');\n\n      /**\n       * Detect if `prototype` properties are enumerable by default.\n       *\n       * Firefox < 3.6, Opera > 9.50 - Opera < 11.60, and Safari < 5.1\n       * (if the prototype or a property on the prototype has been set)\n       * incorrectly set the `[[Enumerable]]` value of a function's `prototype`\n       * property to `true`.\n       *\n       * @memberOf _.support\n       * @type boolean\n       */\n      support.enumPrototypes = propertyIsEnumerable.call(Ctor, 'prototype');\n\n      /**\n       * Detect if properties shadowing those on `Object.prototype` are non-enumerable.\n       *\n       * In IE < 9 an object's own properties, shadowing non-enumerable ones,\n       * are made non-enumerable as well (a.k.a the JScript `[[DontEnum]]` bug).\n       *\n       * @memberOf _.support\n       * @type boolean\n       */\n      support.nonEnumShadows = !/valueOf/.test(props);\n\n      /**\n       * Detect if own properties are iterated after inherited properties (IE < 9).\n       *\n       * @memberOf _.support\n       * @type boolean\n       */\n      support.ownLast = props[0] != 'x';\n\n      /**\n       * Detect if `Array#shift` and `Array#splice` augment array-like objects\n       * correctly.\n       *\n       * Firefox < 10, compatibility modes of IE 8, and IE < 9 have buggy Array\n       * `shift()` and `splice()` functions that fail to remove the last element,\n       * `value[0]`, of array-like objects even though the \"length\" property is\n       * set to `0`. The `shift()` method is buggy in compatibility modes of IE 8,\n       * while `splice()` is buggy regardless of mode in IE < 9.\n       *\n       * @memberOf _.support\n       * @type boolean\n       */\n      support.spliceObjects = (splice.call(object, 0, 1), !object[0]);\n\n      /**\n       * Detect lack of support for accessing string characters by index.\n       *\n       * IE < 8 can't access characters by index. IE 8 can only access characters\n       * by index on string literals, not string objects.\n       *\n       * @memberOf _.support\n       * @type boolean\n       */\n      support.unindexedChars = ('x'[0] + Object('x')[0]) != 'xx';\n    }(1, 0));\n\n    /**\n     * By default, the template delimiters used by lodash are like those in\n     * embedded Ruby (ERB). Change the following template settings to use\n     * alternative delimiters.\n     *\n     * @static\n     * @memberOf _\n     * @type Object\n     */\n    lodash.templateSettings = {\n\n      /**\n       * Used to detect `data` property values to be HTML-escaped.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'escape': reEscape,\n\n      /**\n       * Used to detect code to be evaluated.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'evaluate': reEvaluate,\n\n      /**\n       * Used to detect `data` property values to inject.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'interpolate': reInterpolate,\n\n      /**\n       * Used to reference the data object in the template text.\n       *\n       * @memberOf _.templateSettings\n       * @type string\n       */\n      'variable': '',\n\n      /**\n       * Used to import variables into the compiled template.\n       *\n       * @memberOf _.templateSettings\n       * @type Object\n       */\n      'imports': {\n\n        /**\n         * A reference to the `lodash` function.\n         *\n         * @memberOf _.templateSettings.imports\n         * @type Function\n         */\n        '_': lodash\n      }\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     */\n    function LazyWrapper(value) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__dir__ = 1;\n      this.__filtered__ = false;\n      this.__iteratees__ = [];\n      this.__takeCount__ = POSITIVE_INFINITY;\n      this.__views__ = [];\n    }\n\n    /**\n     * Creates a clone of the lazy wrapper object.\n     *\n     * @private\n     * @name clone\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the cloned `LazyWrapper` object.\n     */\n    function lazyClone() {\n      var result = new LazyWrapper(this.__wrapped__);\n      result.__actions__ = arrayCopy(this.__actions__);\n      result.__dir__ = this.__dir__;\n      result.__filtered__ = this.__filtered__;\n      result.__iteratees__ = arrayCopy(this.__iteratees__);\n      result.__takeCount__ = this.__takeCount__;\n      result.__views__ = arrayCopy(this.__views__);\n      return result;\n    }\n\n    /**\n     * Reverses the direction of lazy iteration.\n     *\n     * @private\n     * @name reverse\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the new reversed `LazyWrapper` object.\n     */\n    function lazyReverse() {\n      if (this.__filtered__) {\n        var result = new LazyWrapper(this);\n        result.__dir__ = -1;\n        result.__filtered__ = true;\n      } else {\n        result = this.clone();\n        result.__dir__ *= -1;\n      }\n      return result;\n    }\n\n    /**\n     * Extracts the unwrapped value from its lazy wrapper.\n     *\n     * @private\n     * @name value\n     * @memberOf LazyWrapper\n     * @returns {*} Returns the unwrapped value.\n     */\n    function lazyValue() {\n      var array = this.__wrapped__.value(),\n          dir = this.__dir__,\n          isArr = isArray(array),\n          isRight = dir < 0,\n          arrLength = isArr ? array.length : 0,\n          view = getView(0, arrLength, this.__views__),\n          start = view.start,\n          end = view.end,\n          length = end - start,\n          index = isRight ? end : (start - 1),\n          iteratees = this.__iteratees__,\n          iterLength = iteratees.length,\n          resIndex = 0,\n          takeCount = nativeMin(length, this.__takeCount__);\n\n      if (!isArr || arrLength < LARGE_ARRAY_SIZE || (arrLength == length && takeCount == length)) {\n        return baseWrapperValue(array, this.__actions__);\n      }\n      var result = [];\n\n      outer:\n      while (length-- && resIndex < takeCount) {\n        index += dir;\n\n        var iterIndex = -1,\n            value = array[index];\n\n        while (++iterIndex < iterLength) {\n          var data = iteratees[iterIndex],\n              iteratee = data.iteratee,\n              type = data.type,\n              computed = iteratee(value);\n\n          if (type == LAZY_MAP_FLAG) {\n            value = computed;\n          } else if (!computed) {\n            if (type == LAZY_FILTER_FLAG) {\n              continue outer;\n            } else {\n              break outer;\n            }\n          }\n        }\n        result[resIndex++] = value;\n      }\n      return result;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a cache object to store key/value pairs.\n     *\n     * @private\n     * @static\n     * @name Cache\n     * @memberOf _.memoize\n     */\n    function MapCache() {\n      this.__data__ = {};\n    }\n\n    /**\n     * Removes `key` and its value from the cache.\n     *\n     * @private\n     * @name delete\n     * @memberOf _.memoize.Cache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed successfully, else `false`.\n     */\n    function mapDelete(key) {\n      return this.has(key) && delete this.__data__[key];\n    }\n\n    /**\n     * Gets the cached value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf _.memoize.Cache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the cached value.\n     */\n    function mapGet(key) {\n      return key == '__proto__' ? undefined : this.__data__[key];\n    }\n\n    /**\n     * Checks if a cached value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf _.memoize.Cache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function mapHas(key) {\n      return key != '__proto__' && hasOwnProperty.call(this.__data__, key);\n    }\n\n    /**\n     * Sets `value` to `key` of the cache.\n     *\n     * @private\n     * @name set\n     * @memberOf _.memoize.Cache\n     * @param {string} key The key of the value to cache.\n     * @param {*} value The value to cache.\n     * @returns {Object} Returns the cache object.\n     */\n    function mapSet(key, value) {\n      if (key != '__proto__') {\n        this.__data__[key] = value;\n      }\n      return this;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     *\n     * Creates a cache object to store unique values.\n     *\n     * @private\n     * @param {Array} [values] The values to cache.\n     */\n    function SetCache(values) {\n      var length = values ? values.length : 0;\n\n      this.data = { 'hash': nativeCreate(null), 'set': new Set };\n      while (length--) {\n        this.push(values[length]);\n      }\n    }\n\n    /**\n     * Checks if `value` is in `cache` mimicking the return signature of\n     * `_.indexOf` by returning `0` if the value is found, else `-1`.\n     *\n     * @private\n     * @param {Object} cache The cache to search.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns `0` if `value` is found, else `-1`.\n     */\n    function cacheIndexOf(cache, value) {\n      var data = cache.data,\n          result = (typeof value == 'string' || isObject(value)) ? data.set.has(value) : data.hash[value];\n\n      return result ? 0 : -1;\n    }\n\n    /**\n     * Adds `value` to the cache.\n     *\n     * @private\n     * @name push\n     * @memberOf SetCache\n     * @param {*} value The value to cache.\n     */\n    function cachePush(value) {\n      var data = this.data;\n      if (typeof value == 'string' || isObject(value)) {\n        data.set.add(value);\n      } else {\n        data.hash[value] = true;\n      }\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a new array joining `array` with `other`.\n     *\n     * @private\n     * @param {Array} array The array to join.\n     * @param {Array} other The other array to join.\n     * @returns {Array} Returns the new concatenated array.\n     */\n    function arrayConcat(array, other) {\n      var index = -1,\n          length = array.length,\n          othIndex = -1,\n          othLength = other.length,\n          result = Array(length + othLength);\n\n      while (++index < length) {\n        result[index] = array[index];\n      }\n      while (++othIndex < othLength) {\n        result[index++] = other[othIndex];\n      }\n      return result;\n    }\n\n    /**\n     * Copies the values of `source` to `array`.\n     *\n     * @private\n     * @param {Array} source The array to copy values from.\n     * @param {Array} [array=[]] The array to copy values to.\n     * @returns {Array} Returns `array`.\n     */\n    function arrayCopy(source, array) {\n      var index = -1,\n          length = source.length;\n\n      array || (array = Array(length));\n      while (++index < length) {\n        array[index] = source[index];\n      }\n      return array;\n    }\n\n    /**\n     * A specialized version of `_.forEach` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns `array`.\n     */\n    function arrayEach(array, iteratee) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        if (iteratee(array[index], index, array) === false) {\n          break;\n        }\n      }\n      return array;\n    }\n\n    /**\n     * A specialized version of `_.forEachRight` for arrays without support for\n     * callback shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns `array`.\n     */\n    function arrayEachRight(array, iteratee) {\n      var length = array.length;\n\n      while (length--) {\n        if (iteratee(array[length], length, array) === false) {\n          break;\n        }\n      }\n      return array;\n    }\n\n    /**\n     * A specialized version of `_.every` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     */\n    function arrayEvery(array, predicate) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        if (!predicate(array[index], index, array)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * A specialized version of `baseExtremum` for arrays which invokes `iteratee`\n     * with one argument: (value).\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} comparator The function used to compare values.\n     * @param {*} exValue The initial extremum value.\n     * @returns {*} Returns the extremum value.\n     */\n    function arrayExtremum(array, iteratee, comparator, exValue) {\n      var index = -1,\n          length = array.length,\n          computed = exValue,\n          result = computed;\n\n      while (++index < length) {\n        var value = array[index],\n            current = +iteratee(value);\n\n        if (comparator(current, computed)) {\n          computed = current;\n          result = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.filter` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function arrayFilter(array, predicate) {\n      var index = -1,\n          length = array.length,\n          resIndex = -1,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result[++resIndex] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.map` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function arrayMap(array, iteratee) {\n      var index = -1,\n          length = array.length,\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = iteratee(array[index], index, array);\n      }\n      return result;\n    }\n\n    /**\n     * Appends the elements of `values` to `array`.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to append.\n     * @returns {Array} Returns `array`.\n     */\n    function arrayPush(array, values) {\n      var index = -1,\n          length = values.length,\n          offset = array.length;\n\n      while (++index < length) {\n        array[offset + index] = values[index];\n      }\n      return array;\n    }\n\n    /**\n     * A specialized version of `_.reduce` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @param {boolean} [initFromArray] Specify using the first element of `array`\n     *  as the initial value.\n     * @returns {*} Returns the accumulated value.\n     */\n    function arrayReduce(array, iteratee, accumulator, initFromArray) {\n      var index = -1,\n          length = array.length;\n\n      if (initFromArray && length) {\n        accumulator = array[++index];\n      }\n      while (++index < length) {\n        accumulator = iteratee(accumulator, array[index], index, array);\n      }\n      return accumulator;\n    }\n\n    /**\n     * A specialized version of `_.reduceRight` for arrays without support for\n     * callback shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @param {boolean} [initFromArray] Specify using the last element of `array`\n     *  as the initial value.\n     * @returns {*} Returns the accumulated value.\n     */\n    function arrayReduceRight(array, iteratee, accumulator, initFromArray) {\n      var length = array.length;\n      if (initFromArray && length) {\n        accumulator = array[--length];\n      }\n      while (length--) {\n        accumulator = iteratee(accumulator, array[length], length, array);\n      }\n      return accumulator;\n    }\n\n    /**\n     * A specialized version of `_.some` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function arraySome(array, predicate) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        if (predicate(array[index], index, array)) {\n          return true;\n        }\n      }\n      return false;\n    }\n\n    /**\n     * A specialized version of `_.sum` for arrays without support for callback\n     * shorthands and `this` binding..\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {number} Returns the sum.\n     */\n    function arraySum(array, iteratee) {\n      var length = array.length,\n          result = 0;\n\n      while (length--) {\n        result += +iteratee(array[length]) || 0;\n      }\n      return result;\n    }\n\n    /**\n     * Used by `_.defaults` to customize its `_.assign` use.\n     *\n     * @private\n     * @param {*} objectValue The destination object property value.\n     * @param {*} sourceValue The source object property value.\n     * @returns {*} Returns the value to assign to the destination object.\n     */\n    function assignDefaults(objectValue, sourceValue) {\n      return objectValue === undefined ? sourceValue : objectValue;\n    }\n\n    /**\n     * Used by `_.template` to customize its `_.assign` use.\n     *\n     * **Note:** This function is like `assignDefaults` except that it ignores\n     * inherited property values when checking if a property is `undefined`.\n     *\n     * @private\n     * @param {*} objectValue The destination object property value.\n     * @param {*} sourceValue The source object property value.\n     * @param {string} key The key associated with the object and source values.\n     * @param {Object} object The destination object.\n     * @returns {*} Returns the value to assign to the destination object.\n     */\n    function assignOwnDefaults(objectValue, sourceValue, key, object) {\n      return (objectValue === undefined || !hasOwnProperty.call(object, key))\n        ? sourceValue\n        : objectValue;\n    }\n\n    /**\n     * A specialized version of `_.assign` for customizing assigned values without\n     * support for argument juggling, multiple sources, and `this` binding `customizer`\n     * functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {Function} customizer The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     */\n    function assignWith(object, source, customizer) {\n      var index = -1,\n          props = keys(source),\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index],\n            value = object[key],\n            result = customizer(value, source[key], key, object, source);\n\n        if ((result === result ? (result !== value) : (value === value)) ||\n            (value === undefined && !(key in object))) {\n          object[key] = result;\n        }\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `_.assign` without support for argument juggling,\n     * multiple sources, and `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssign(object, source) {\n      return source == null\n        ? object\n        : baseCopy(source, keys(source), object);\n    }\n\n    /**\n     * The base implementation of `_.at` without support for string collections\n     * and individual key arguments.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {number[]|string[]} props The property names or indexes of elements to pick.\n     * @returns {Array} Returns the new array of picked elements.\n     */\n    function baseAt(collection, props) {\n      var index = -1,\n          isNil = collection == null,\n          isArr = !isNil && isArrayLike(collection),\n          length = isArr ? collection.length : 0,\n          propsLength = props.length,\n          result = Array(propsLength);\n\n      while(++index < propsLength) {\n        var key = props[index];\n        if (isArr) {\n          result[index] = isIndex(key, length) ? collection[key] : undefined;\n        } else {\n          result[index] = isNil ? undefined : collection[key];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Copies properties of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy properties from.\n     * @param {Array} props The property names to copy.\n     * @param {Object} [object={}] The object to copy properties to.\n     * @returns {Object} Returns `object`.\n     */\n    function baseCopy(source, props, object) {\n      object || (object = {});\n\n      var index = -1,\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index];\n        object[key] = source[key];\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `_.callback` which supports specifying the\n     * number of arguments to provide to `func`.\n     *\n     * @private\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {number} [argCount] The number of arguments to provide to `func`.\n     * @returns {Function} Returns the callback.\n     */\n    function baseCallback(func, thisArg, argCount) {\n      var type = typeof func;\n      if (type == 'function') {\n        return thisArg === undefined\n          ? func\n          : bindCallback(func, thisArg, argCount);\n      }\n      if (func == null) {\n        return identity;\n      }\n      if (type == 'object') {\n        return baseMatches(func);\n      }\n      return thisArg === undefined\n        ? property(func)\n        : baseMatchesProperty(func, thisArg);\n    }\n\n    /**\n     * The base implementation of `_.clone` without support for argument juggling\n     * and `this` binding `customizer` functions.\n     *\n     * @private\n     * @param {*} value The value to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @param {Function} [customizer] The function to customize cloning values.\n     * @param {string} [key] The key of `value`.\n     * @param {Object} [object] The object `value` belongs to.\n     * @param {Array} [stackA=[]] Tracks traversed source objects.\n     * @param {Array} [stackB=[]] Associates clones with source counterparts.\n     * @returns {*} Returns the cloned value.\n     */\n    function baseClone(value, isDeep, customizer, key, object, stackA, stackB) {\n      var result;\n      if (customizer) {\n        result = object ? customizer(value, key, object) : customizer(value);\n      }\n      if (result !== undefined) {\n        return result;\n      }\n      if (!isObject(value)) {\n        return value;\n      }\n      var isArr = isArray(value);\n      if (isArr) {\n        result = initCloneArray(value);\n        if (!isDeep) {\n          return arrayCopy(value, result);\n        }\n      } else {\n        var tag = objToString.call(value),\n            isFunc = tag == funcTag;\n\n        if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n          if (isHostObject(value)) {\n            return object ? value : {};\n          }\n          result = initCloneObject(isFunc ? {} : value);\n          if (!isDeep) {\n            return baseAssign(result, value);\n          }\n        } else {\n          return cloneableTags[tag]\n            ? initCloneByTag(value, tag, isDeep)\n            : (object ? value : {});\n        }\n      }\n      // Check for circular references and return its corresponding clone.\n      stackA || (stackA = []);\n      stackB || (stackB = []);\n\n      var length = stackA.length;\n      while (length--) {\n        if (stackA[length] == value) {\n          return stackB[length];\n        }\n      }\n      // Add the source value to the stack of traversed objects and associate it with its clone.\n      stackA.push(value);\n      stackB.push(result);\n\n      // Recursively populate clone (susceptible to call stack limits).\n      (isArr ? arrayEach : baseForOwn)(value, function(subValue, key) {\n        result[key] = baseClone(subValue, isDeep, customizer, key, value, stackA, stackB);\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.create` without support for assigning\n     * properties to the created object.\n     *\n     * @private\n     * @param {Object} prototype The object to inherit from.\n     * @returns {Object} Returns the new object.\n     */\n    var baseCreate = (function() {\n      function object() {}\n      return function(prototype) {\n        if (isObject(prototype)) {\n          object.prototype = prototype;\n          var result = new object;\n          object.prototype = undefined;\n        }\n        return result || {};\n      };\n    }());\n\n    /**\n     * The base implementation of `_.delay` and `_.defer` which accepts an index\n     * of where to slice the arguments to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {Object} args The arguments provide to `func`.\n     * @returns {number} Returns the timer id.\n     */\n    function baseDelay(func, wait, args) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return setTimeout(function() { func.apply(undefined, args); }, wait);\n    }\n\n    /**\n     * The base implementation of `_.difference` which accepts a single array\n     * of values to exclude.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Array} values The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     */\n    function baseDifference(array, values) {\n      var length = array ? array.length : 0,\n          result = [];\n\n      if (!length) {\n        return result;\n      }\n      var index = -1,\n          indexOf = getIndexOf(),\n          isCommon = indexOf === baseIndexOf,\n          cache = (isCommon && values.length >= LARGE_ARRAY_SIZE) ? createCache(values) : null,\n          valuesLength = values.length;\n\n      if (cache) {\n        indexOf = cacheIndexOf;\n        isCommon = false;\n        values = cache;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index];\n\n        if (isCommon && value === value) {\n          var valuesIndex = valuesLength;\n          while (valuesIndex--) {\n            if (values[valuesIndex] === value) {\n              continue outer;\n            }\n          }\n          result.push(value);\n        }\n        else if (indexOf(values, value, 0) < 0) {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.forEach` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object|string} Returns `collection`.\n     */\n    var baseEach = createBaseEach(baseForOwn);\n\n    /**\n     * The base implementation of `_.forEachRight` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object|string} Returns `collection`.\n     */\n    var baseEachRight = createBaseEach(baseForOwnRight, true);\n\n    /**\n     * The base implementation of `_.every` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`\n     */\n    function baseEvery(collection, predicate) {\n      var result = true;\n      baseEach(collection, function(value, index, collection) {\n        result = !!predicate(value, index, collection);\n        return result;\n      });\n      return result;\n    }\n\n    /**\n     * Gets the extremum value of `collection` invoking `iteratee` for each value\n     * in `collection` to generate the criterion by which the value is ranked.\n     * The `iteratee` is invoked with three arguments: (value, index|key, collection).\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} comparator The function used to compare values.\n     * @param {*} exValue The initial extremum value.\n     * @returns {*} Returns the extremum value.\n     */\n    function baseExtremum(collection, iteratee, comparator, exValue) {\n      var computed = exValue,\n          result = computed;\n\n      baseEach(collection, function(value, index, collection) {\n        var current = +iteratee(value, index, collection);\n        if (comparator(current, computed) || (current === exValue && current === result)) {\n          computed = current;\n          result = value;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.fill` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     */\n    function baseFill(array, value, start, end) {\n      var length = array.length;\n\n      start = start == null ? 0 : (+start || 0);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (end === undefined || end > length) ? length : (+end || 0);\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : (end >>> 0);\n      start >>>= 0;\n\n      while (start < length) {\n        array[start++] = value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.filter` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function baseFilter(collection, predicate) {\n      var result = [];\n      baseEach(collection, function(value, index, collection) {\n        if (predicate(value, index, collection)) {\n          result.push(value);\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.find`, `_.findLast`, `_.findKey`, and `_.findLastKey`,\n     * without support for callback shorthands and `this` binding, which iterates\n     * over `collection` using the provided `eachFunc`.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {Function} eachFunc The function to iterate over `collection`.\n     * @param {boolean} [retKey] Specify returning the key of the found element\n     *  instead of the element itself.\n     * @returns {*} Returns the found element or its key, else `undefined`.\n     */\n    function baseFind(collection, predicate, eachFunc, retKey) {\n      var result;\n      eachFunc(collection, function(value, key, collection) {\n        if (predicate(value, key, collection)) {\n          result = retKey ? key : value;\n          return false;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.flatten` with added support for restricting\n     * flattening and specifying the start index.\n     *\n     * @private\n     * @param {Array} array The array to flatten.\n     * @param {boolean} [isDeep] Specify a deep flatten.\n     * @param {boolean} [isStrict] Restrict flattening to arrays-like objects.\n     * @param {Array} [result=[]] The initial result value.\n     * @returns {Array} Returns the new flattened array.\n     */\n    function baseFlatten(array, isDeep, isStrict, result) {\n      result || (result = []);\n\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        var value = array[index];\n        if (isObjectLike(value) && isArrayLike(value) &&\n            (isStrict || isArray(value) || isArguments(value))) {\n          if (isDeep) {\n            // Recursively flatten arrays (susceptible to call stack limits).\n            baseFlatten(value, isDeep, isStrict, result);\n          } else {\n            arrayPush(result, value);\n          }\n        } else if (!isStrict) {\n          result[result.length] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `baseForIn` and `baseForOwn` which iterates\n     * over `object` properties returned by `keysFunc` invoking `iteratee` for\n     * each property. Iteratee functions may exit iteration early by explicitly\n     * returning `false`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseFor = createBaseFor();\n\n    /**\n     * This function is like `baseFor` except that it iterates over properties\n     * in the opposite order.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseForRight = createBaseFor(true);\n\n    /**\n     * The base implementation of `_.forIn` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForIn(object, iteratee) {\n      return baseFor(object, iteratee, keysIn);\n    }\n\n    /**\n     * The base implementation of `_.forOwn` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwn(object, iteratee) {\n      return baseFor(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.forOwnRight` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwnRight(object, iteratee) {\n      return baseForRight(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.functions` which creates an array of\n     * `object` function property names filtered from those provided.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} props The property names to filter.\n     * @returns {Array} Returns the new array of filtered property names.\n     */\n    function baseFunctions(object, props) {\n      var index = -1,\n          length = props.length,\n          resIndex = -1,\n          result = [];\n\n      while (++index < length) {\n        var key = props[index];\n        if (isFunction(object[key])) {\n          result[++resIndex] = key;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `get` without support for string paths\n     * and default values.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array} path The path of the property to get.\n     * @param {string} [pathKey] The key representation of path.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseGet(object, path, pathKey) {\n      if (object == null) {\n        return;\n      }\n      object = toObject(object);\n      if (pathKey !== undefined && pathKey in object) {\n        path = [pathKey];\n      }\n      var index = 0,\n          length = path.length;\n\n      while (object != null && index < length) {\n        object = toObject(object)[path[index++]];\n      }\n      return (index && index == length) ? object : undefined;\n    }\n\n    /**\n     * The base implementation of `_.isEqual` without support for `this` binding\n     * `customizer` functions.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize comparing values.\n     * @param {boolean} [isLoose] Specify performing partial comparisons.\n     * @param {Array} [stackA] Tracks traversed `value` objects.\n     * @param {Array} [stackB] Tracks traversed `other` objects.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     */\n    function baseIsEqual(value, other, customizer, isLoose, stackA, stackB) {\n      if (value === other) {\n        return true;\n      }\n      if (value == null || other == null || (!isObject(value) && !isObjectLike(other))) {\n        return value !== value && other !== other;\n      }\n      return baseIsEqualDeep(value, other, baseIsEqual, customizer, isLoose, stackA, stackB);\n    }\n\n    /**\n     * A specialized version of `baseIsEqual` for arrays and objects which performs\n     * deep comparisons and tracks traversed objects enabling objects with circular\n     * references to be compared.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Function} [customizer] The function to customize comparing objects.\n     * @param {boolean} [isLoose] Specify performing partial comparisons.\n     * @param {Array} [stackA=[]] Tracks traversed `value` objects.\n     * @param {Array} [stackB=[]] Tracks traversed `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseIsEqualDeep(object, other, equalFunc, customizer, isLoose, stackA, stackB) {\n      var objIsArr = isArray(object),\n          othIsArr = isArray(other),\n          objTag = arrayTag,\n          othTag = arrayTag;\n\n      if (!objIsArr) {\n        objTag = objToString.call(object);\n        if (objTag == argsTag) {\n          objTag = objectTag;\n        } else if (objTag != objectTag) {\n          objIsArr = isTypedArray(object);\n        }\n      }\n      if (!othIsArr) {\n        othTag = objToString.call(other);\n        if (othTag == argsTag) {\n          othTag = objectTag;\n        } else if (othTag != objectTag) {\n          othIsArr = isTypedArray(other);\n        }\n      }\n      var objIsObj = objTag == objectTag && !isHostObject(object),\n          othIsObj = othTag == objectTag && !isHostObject(other),\n          isSameTag = objTag == othTag;\n\n      if (isSameTag && !(objIsArr || objIsObj)) {\n        return equalByTag(object, other, objTag);\n      }\n      if (!isLoose) {\n        var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n            othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n        if (objIsWrapped || othIsWrapped) {\n          return equalFunc(objIsWrapped ? object.value() : object, othIsWrapped ? other.value() : other, customizer, isLoose, stackA, stackB);\n        }\n      }\n      if (!isSameTag) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      // For more information on detecting circular references see https://es5.github.io/#JO.\n      stackA || (stackA = []);\n      stackB || (stackB = []);\n\n      var length = stackA.length;\n      while (length--) {\n        if (stackA[length] == object) {\n          return stackB[length] == other;\n        }\n      }\n      // Add `object` and `other` to the stack of traversed objects.\n      stackA.push(object);\n      stackB.push(other);\n\n      var result = (objIsArr ? equalArrays : equalObjects)(object, other, equalFunc, customizer, isLoose, stackA, stackB);\n\n      stackA.pop();\n      stackB.pop();\n\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.isMatch` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} matchData The propery names, values, and compare flags to match.\n     * @param {Function} [customizer] The function to customize comparing objects.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     */\n    function baseIsMatch(object, matchData, customizer) {\n      var index = matchData.length,\n          length = index,\n          noCustomizer = !customizer;\n\n      if (object == null) {\n        return !length;\n      }\n      object = toObject(object);\n      while (index--) {\n        var data = matchData[index];\n        if ((noCustomizer && data[2])\n              ? data[1] !== object[data[0]]\n              : !(data[0] in object)\n            ) {\n          return false;\n        }\n      }\n      while (++index < length) {\n        data = matchData[index];\n        var key = data[0],\n            objValue = object[key],\n            srcValue = data[1];\n\n        if (noCustomizer && data[2]) {\n          if (objValue === undefined && !(key in object)) {\n            return false;\n          }\n        } else {\n          var result = customizer ? customizer(objValue, srcValue, key) : undefined;\n          if (!(result === undefined ? baseIsEqual(srcValue, objValue, customizer, true) : result)) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.map` without support for callback shorthands\n     * and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function baseMap(collection, iteratee) {\n      var index = -1,\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value, key, collection) {\n        result[++index] = iteratee(value, key, collection);\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.matches` which does not clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new function.\n     */\n    function baseMatches(source) {\n      var matchData = getMatchData(source);\n      if (matchData.length == 1 && matchData[0][2]) {\n        var key = matchData[0][0],\n            value = matchData[0][1];\n\n        return function(object) {\n          if (object == null) {\n            return false;\n          }\n          object = toObject(object);\n          return object[key] === value && (value !== undefined || (key in object));\n        };\n      }\n      return function(object) {\n        return baseIsMatch(object, matchData);\n      };\n    }\n\n    /**\n     * The base implementation of `_.matchesProperty` which does not clone `srcValue`.\n     *\n     * @private\n     * @param {string} path The path of the property to get.\n     * @param {*} srcValue The value to compare.\n     * @returns {Function} Returns the new function.\n     */\n    function baseMatchesProperty(path, srcValue) {\n      var isArr = isArray(path),\n          isCommon = isKey(path) && isStrictComparable(srcValue),\n          pathKey = (path + '');\n\n      path = toPath(path);\n      return function(object) {\n        if (object == null) {\n          return false;\n        }\n        var key = pathKey;\n        object = toObject(object);\n        if ((isArr || !isCommon) && !(key in object)) {\n          object = path.length == 1 ? object : baseGet(object, baseSlice(path, 0, -1));\n          if (object == null) {\n            return false;\n          }\n          key = last(path);\n          object = toObject(object);\n        }\n        return object[key] === srcValue\n          ? (srcValue !== undefined || (key in object))\n          : baseIsEqual(srcValue, object[key], undefined, true);\n      };\n    }\n\n    /**\n     * The base implementation of `_.merge` without support for argument juggling,\n     * multiple sources, and `this` binding `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {Function} [customizer] The function to customize merged values.\n     * @param {Array} [stackA=[]] Tracks traversed source objects.\n     * @param {Array} [stackB=[]] Associates values with source counterparts.\n     * @returns {Object} Returns `object`.\n     */\n    function baseMerge(object, source, customizer, stackA, stackB) {\n      if (!isObject(object)) {\n        return object;\n      }\n      var isSrcArr = isArrayLike(source) && (isArray(source) || isTypedArray(source)),\n          props = isSrcArr ? undefined : keys(source);\n\n      arrayEach(props || source, function(srcValue, key) {\n        if (props) {\n          key = srcValue;\n          srcValue = source[key];\n        }\n        if (isObjectLike(srcValue)) {\n          stackA || (stackA = []);\n          stackB || (stackB = []);\n          baseMergeDeep(object, source, key, baseMerge, customizer, stackA, stackB);\n        }\n        else {\n          var value = object[key],\n              result = customizer ? customizer(value, srcValue, key, object, source) : undefined,\n              isCommon = result === undefined;\n\n          if (isCommon) {\n            result = srcValue;\n          }\n          if ((result !== undefined || (isSrcArr && !(key in object))) &&\n              (isCommon || (result === result ? (result !== value) : (value === value)))) {\n            object[key] = result;\n          }\n        }\n      });\n      return object;\n    }\n\n    /**\n     * A specialized version of `baseMerge` for arrays and objects which performs\n     * deep merges and tracks traversed objects enabling objects with circular\n     * references to be merged.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {string} key The key of the value to merge.\n     * @param {Function} mergeFunc The function to merge values.\n     * @param {Function} [customizer] The function to customize merged values.\n     * @param {Array} [stackA=[]] Tracks traversed source objects.\n     * @param {Array} [stackB=[]] Associates values with source counterparts.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseMergeDeep(object, source, key, mergeFunc, customizer, stackA, stackB) {\n      var length = stackA.length,\n          // srcValue = source[key];\n          srcValue = safeGet(source, key);// patched from https://github.com/lodash/lodash/commit/d8e069cc3410082e44eb18fcf8e7f3d08ebe1d4a#diff-001d0647fb00f8336795faccdec19a31R1249\n\n      while (length--) {\n        if (stackA[length] == srcValue) {\n          object[key] = stackB[length];\n          return;\n        }\n      }\n      var value = safeGet(object, key),\n          result = customizer ? customizer(value, srcValue, key, object, source) : undefined,\n          isCommon = result === undefined;\n\n      if (isCommon) {\n        result = srcValue;\n        if (isArrayLike(srcValue) && (isArray(srcValue) || isTypedArray(srcValue))) {\n          result = isArray(value)\n            ? value\n            : (isArrayLike(value) ? arrayCopy(value) : []);\n        }\n        else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n          result = isArguments(value)\n            ? toPlainObject(value)\n            : (isPlainObject(value) ? value : {});\n        }\n        else {\n          isCommon = false;\n        }\n      }\n      // Add the source value to the stack of traversed objects and associate\n      // it with its merged value.\n      stackA.push(srcValue);\n      stackB.push(result);\n\n      if (isCommon) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        object[key] = mergeFunc(result, srcValue, customizer, stackA, stackB);\n      } else if (result === result ? (result !== value) : (value === value)) {\n        object[key] = result;\n      }\n    }\n\n    /**\n     * The base implementation of `_.property` without support for deep paths.\n     *\n     * @private\n     * @param {string} key The key of the property to get.\n     * @returns {Function} Returns the new function.\n     */\n    function baseProperty(key) {\n      return function(object) {\n        return object == null ? undefined : toObject(object)[key];\n      };\n    }\n\n    /**\n     * A specialized version of `baseProperty` which supports deep paths.\n     *\n     * @private\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new function.\n     */\n    function basePropertyDeep(path) {\n      var pathKey = (path + '');\n      path = toPath(path);\n      return function(object) {\n        return baseGet(object, path, pathKey);\n      };\n    }\n\n    /**\n     * The base implementation of `_.pullAt` without support for individual\n     * index arguments and capturing the removed elements.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {number[]} indexes The indexes of elements to remove.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAt(array, indexes) {\n      var length = array ? indexes.length : 0;\n      while (length--) {\n        var index = indexes[length];\n        if (index != previous && isIndex(index)) {\n          var previous = index;\n          splice.call(array, index, 1);\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.random` without support for argument juggling\n     * and returning floating-point numbers.\n     *\n     * @private\n     * @param {number} min The minimum possible value.\n     * @param {number} max The maximum possible value.\n     * @returns {number} Returns the random number.\n     */\n    function baseRandom(min, max) {\n      return min + nativeFloor(nativeRandom() * (max - min + 1));\n    }\n\n    /**\n     * The base implementation of `_.reduce` and `_.reduceRight` without support\n     * for callback shorthands and `this` binding, which iterates over `collection`\n     * using the provided `eachFunc`.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {*} accumulator The initial value.\n     * @param {boolean} initFromCollection Specify using the first or last element\n     *  of `collection` as the initial value.\n     * @param {Function} eachFunc The function to iterate over `collection`.\n     * @returns {*} Returns the accumulated value.\n     */\n    function baseReduce(collection, iteratee, accumulator, initFromCollection, eachFunc) {\n      eachFunc(collection, function(value, index, collection) {\n        accumulator = initFromCollection\n          ? (initFromCollection = false, value)\n          : iteratee(accumulator, value, index, collection);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `setData` without support for hot loop detection.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetData = !metaMap ? identity : function(func, data) {\n      metaMap.set(func, data);\n      return func;\n    };\n\n    /**\n     * The base implementation of `_.slice` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseSlice(array, start, end) {\n      var index = -1,\n          length = array.length;\n\n      start = start == null ? 0 : (+start || 0);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (end === undefined || end > length) ? length : (+end || 0);\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : ((end - start) >>> 0);\n      start >>>= 0;\n\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = array[index + start];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.some` without support for callback shorthands\n     * and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function baseSome(collection, predicate) {\n      var result;\n\n      baseEach(collection, function(value, index, collection) {\n        result = predicate(value, index, collection);\n        return !result;\n      });\n      return !!result;\n    }\n\n    /**\n     * The base implementation of `_.sortBy` which uses `comparer` to define\n     * the sort order of `array` and replaces criteria objects with their\n     * corresponding values.\n     *\n     * @private\n     * @param {Array} array The array to sort.\n     * @param {Function} comparer The function to define sort order.\n     * @returns {Array} Returns `array`.\n     */\n    function baseSortBy(array, comparer) {\n      var length = array.length;\n\n      array.sort(comparer);\n      while (length--) {\n        array[length] = array[length].value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.sortByOrder` without param guards.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n     * @param {boolean[]} orders The sort orders of `iteratees`.\n     * @returns {Array} Returns the new sorted array.\n     */\n    function baseSortByOrder(collection, iteratees, orders) {\n      var callback = getCallback(),\n          index = -1;\n\n      iteratees = arrayMap(iteratees, function(iteratee) { return callback(iteratee); });\n\n      var result = baseMap(collection, function(value) {\n        var criteria = arrayMap(iteratees, function(iteratee) { return iteratee(value); });\n        return { 'criteria': criteria, 'index': ++index, 'value': value };\n      });\n\n      return baseSortBy(result, function(object, other) {\n        return compareMultiple(object, other, orders);\n      });\n    }\n\n    /**\n     * The base implementation of `_.sum` without support for callback shorthands\n     * and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {number} Returns the sum.\n     */\n    function baseSum(collection, iteratee) {\n      var result = 0;\n      baseEach(collection, function(value, index, collection) {\n        result += +iteratee(value, index, collection) || 0;\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.uniq` without support for callback shorthands\n     * and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The function invoked per iteration.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseUniq(array, iteratee) {\n      var index = -1,\n          indexOf = getIndexOf(),\n          length = array.length,\n          isCommon = indexOf === baseIndexOf,\n          isLarge = isCommon && length >= LARGE_ARRAY_SIZE,\n          seen = isLarge ? createCache() : null,\n          result = [];\n\n      if (seen) {\n        indexOf = cacheIndexOf;\n        isCommon = false;\n      } else {\n        isLarge = false;\n        seen = iteratee ? [] : result;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value, index, array) : value;\n\n        if (isCommon && value === value) {\n          var seenIndex = seen.length;\n          while (seenIndex--) {\n            if (seen[seenIndex] === computed) {\n              continue outer;\n            }\n          }\n          if (iteratee) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n        else if (indexOf(seen, computed, 0) < 0) {\n          if (iteratee || isLarge) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.values` and `_.valuesIn` which creates an\n     * array of `object` property values corresponding to the property names\n     * of `props`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array} props The property names to get values for.\n     * @returns {Object} Returns the array of property values.\n     */\n    function baseValues(object, props) {\n      var index = -1,\n          length = props.length,\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = object[props[index]];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.dropRightWhile`, `_.dropWhile`, `_.takeRightWhile`,\n     * and `_.takeWhile` without support for callback shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {boolean} [isDrop] Specify dropping elements instead of taking them.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseWhile(array, predicate, isDrop, fromRight) {\n      var length = array.length,\n          index = fromRight ? length : -1;\n\n      while ((fromRight ? index-- : ++index < length) && predicate(array[index], index, array)) {}\n      return isDrop\n        ? baseSlice(array, (fromRight ? 0 : index), (fromRight ? index + 1 : length))\n        : baseSlice(array, (fromRight ? index + 1 : 0), (fromRight ? length : index));\n    }\n\n    /**\n     * The base implementation of `wrapperValue` which returns the result of\n     * performing a sequence of actions on the unwrapped `value`, where each\n     * successive action is supplied the return value of the previous.\n     *\n     * @private\n     * @param {*} value The unwrapped value.\n     * @param {Array} actions Actions to peform to resolve the unwrapped value.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseWrapperValue(value, actions) {\n      var result = value;\n      if (result instanceof LazyWrapper) {\n        result = result.value();\n      }\n      var index = -1,\n          length = actions.length;\n\n      while (++index < length) {\n        var action = actions[index];\n        result = action.func.apply(action.thisArg, arrayPush([result], action.args));\n      }\n      return result;\n    }\n\n    /**\n     * Performs a binary search of `array` to determine the index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function binaryIndex(array, value, retHighest) {\n      var low = 0,\n          high = array ? array.length : low;\n\n      if (typeof value == 'number' && value === value && high <= HALF_MAX_ARRAY_LENGTH) {\n        while (low < high) {\n          var mid = (low + high) >>> 1,\n              computed = array[mid];\n\n          if ((retHighest ? (computed <= value) : (computed < value)) && computed !== null) {\n            low = mid + 1;\n          } else {\n            high = mid;\n          }\n        }\n        return high;\n      }\n      return binaryIndexBy(array, value, identity, retHighest);\n    }\n\n    /**\n     * This function is like `binaryIndex` except that it invokes `iteratee` for\n     * `value` and each element of `array` to compute their sort ranking. The\n     * iteratee is invoked with one argument; (value).\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function binaryIndexBy(array, value, iteratee, retHighest) {\n      value = iteratee(value);\n\n      var low = 0,\n          high = array ? array.length : 0,\n          valIsNaN = value !== value,\n          valIsNull = value === null,\n          valIsUndef = value === undefined;\n\n      while (low < high) {\n        var mid = nativeFloor((low + high) / 2),\n            computed = iteratee(array[mid]),\n            isDef = computed !== undefined,\n            isReflexive = computed === computed;\n\n        if (valIsNaN) {\n          var setLow = isReflexive || retHighest;\n        } else if (valIsNull) {\n          setLow = isReflexive && isDef && (retHighest || computed != null);\n        } else if (valIsUndef) {\n          setLow = isReflexive && (retHighest || isDef);\n        } else if (computed == null) {\n          setLow = false;\n        } else {\n          setLow = retHighest ? (computed <= value) : (computed < value);\n        }\n        if (setLow) {\n          low = mid + 1;\n        } else {\n          high = mid;\n        }\n      }\n      return nativeMin(high, MAX_ARRAY_INDEX);\n    }\n\n    /**\n     * A specialized version of `baseCallback` which only supports `this` binding\n     * and specifying the number of arguments to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {number} [argCount] The number of arguments to provide to `func`.\n     * @returns {Function} Returns the callback.\n     */\n    function bindCallback(func, thisArg, argCount) {\n      if (typeof func != 'function') {\n        return identity;\n      }\n      if (thisArg === undefined) {\n        return func;\n      }\n      switch (argCount) {\n        case 1: return function(value) {\n          return func.call(thisArg, value);\n        };\n        case 3: return function(value, index, collection) {\n          return func.call(thisArg, value, index, collection);\n        };\n        case 4: return function(accumulator, value, index, collection) {\n          return func.call(thisArg, accumulator, value, index, collection);\n        };\n        case 5: return function(value, other, key, object, source) {\n          return func.call(thisArg, value, other, key, object, source);\n        };\n      }\n      return function() {\n        return func.apply(thisArg, arguments);\n      };\n    }\n\n    /**\n     * Creates a clone of the given array buffer.\n     *\n     * @private\n     * @param {ArrayBuffer} buffer The array buffer to clone.\n     * @returns {ArrayBuffer} Returns the cloned array buffer.\n     */\n    function bufferClone(buffer) {\n      var result = new ArrayBuffer(buffer.byteLength),\n          view = new Uint8Array(result);\n\n      view.set(new Uint8Array(buffer));\n      return result;\n    }\n\n    /**\n     * Creates an array that is the composition of partially applied arguments,\n     * placeholders, and provided arguments into a single array of arguments.\n     *\n     * @private\n     * @param {Array|Object} args The provided arguments.\n     * @param {Array} partials The arguments to prepend to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgs(args, partials, holders) {\n      var holdersLength = holders.length,\n          argsIndex = -1,\n          argsLength = nativeMax(args.length - holdersLength, 0),\n          leftIndex = -1,\n          leftLength = partials.length,\n          result = Array(leftLength + argsLength);\n\n      while (++leftIndex < leftLength) {\n        result[leftIndex] = partials[leftIndex];\n      }\n      while (++argsIndex < holdersLength) {\n        result[holders[argsIndex]] = args[argsIndex];\n      }\n      while (argsLength--) {\n        result[leftIndex++] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * This function is like `composeArgs` except that the arguments composition\n     * is tailored for `_.partialRight`.\n     *\n     * @private\n     * @param {Array|Object} args The provided arguments.\n     * @param {Array} partials The arguments to append to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgsRight(args, partials, holders) {\n      var holdersIndex = -1,\n          holdersLength = holders.length,\n          argsIndex = -1,\n          argsLength = nativeMax(args.length - holdersLength, 0),\n          rightIndex = -1,\n          rightLength = partials.length,\n          result = Array(argsLength + rightLength);\n\n      while (++argsIndex < argsLength) {\n        result[argsIndex] = args[argsIndex];\n      }\n      var offset = argsIndex;\n      while (++rightIndex < rightLength) {\n        result[offset + rightIndex] = partials[rightIndex];\n      }\n      while (++holdersIndex < holdersLength) {\n        result[offset + holders[holdersIndex]] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * Creates a `_.countBy`, `_.groupBy`, `_.indexBy`, or `_.partition` function.\n     *\n     * @private\n     * @param {Function} setter The function to set keys and values of the accumulator object.\n     * @param {Function} [initializer] The function to initialize the accumulator object.\n     * @returns {Function} Returns the new aggregator function.\n     */\n    function createAggregator(setter, initializer) {\n      return function(collection, iteratee, thisArg) {\n        var result = initializer ? initializer() : {};\n        iteratee = getCallback(iteratee, thisArg, 3);\n\n        if (isArray(collection)) {\n          var index = -1,\n              length = collection.length;\n\n          while (++index < length) {\n            var value = collection[index];\n            setter(result, value, iteratee(value, index, collection), collection);\n          }\n        } else {\n          baseEach(collection, function(value, key, collection) {\n            setter(result, value, iteratee(value, key, collection), collection);\n          });\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a `_.assign`, `_.defaults`, or `_.merge` function.\n     *\n     * @private\n     * @param {Function} assigner The function to assign values.\n     * @returns {Function} Returns the new assigner function.\n     */\n    function createAssigner(assigner) {\n      return restParam(function(object, sources) {\n        var index = -1,\n            length = object == null ? 0 : sources.length,\n            customizer = length > 2 ? sources[length - 2] : undefined,\n            guard = length > 2 ? sources[2] : undefined,\n            thisArg = length > 1 ? sources[length - 1] : undefined;\n\n        if (typeof customizer == 'function') {\n          customizer = bindCallback(customizer, thisArg, 5);\n          length -= 2;\n        } else {\n          customizer = typeof thisArg == 'function' ? thisArg : undefined;\n          length -= (customizer ? 1 : 0);\n        }\n        if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n          customizer = length < 3 ? undefined : customizer;\n          length = 1;\n        }\n        while (++index < length) {\n          var source = sources[index];\n          if (source) {\n            assigner(object, source, customizer);\n          }\n        }\n        return object;\n      });\n    }\n\n    /**\n     * Creates a `baseEach` or `baseEachRight` function.\n     *\n     * @private\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseEach(eachFunc, fromRight) {\n      return function(collection, iteratee) {\n        var length = collection ? getLength(collection) : 0;\n        if (!isLength(length)) {\n          return eachFunc(collection, iteratee);\n        }\n        var index = fromRight ? length : -1,\n            iterable = toObject(collection);\n\n        while ((fromRight ? index-- : ++index < length)) {\n          if (iteratee(iterable[index], index, iterable) === false) {\n            break;\n          }\n        }\n        return collection;\n      };\n    }\n\n    /**\n     * Creates a base function for `_.forIn` or `_.forInRight`.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseFor(fromRight) {\n      return function(object, iteratee, keysFunc) {\n        var iterable = toObject(object),\n            props = keysFunc(object),\n            length = props.length,\n            index = fromRight ? length : -1;\n\n        while ((fromRight ? index-- : ++index < length)) {\n          var key = props[index];\n          if (iteratee(iterable[key], key, iterable) === false) {\n            break;\n          }\n        }\n        return object;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` and invokes it with the `this`\n     * binding of `thisArg`.\n     *\n     * @private\n     * @param {Function} func The function to bind.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @returns {Function} Returns the new bound function.\n     */\n    function createBindWrapper(func, thisArg) {\n      var Ctor = createCtorWrapper(func);\n\n      function wrapper() {\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(thisArg, arguments);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `Set` cache object to optimize linear searches of large arrays.\n     *\n     * @private\n     * @param {Array} [values] The values to cache.\n     * @returns {null|Object} Returns the new cache object if `Set` is supported, else `null`.\n     */\n    function createCache(values) {\n      return (nativeCreate && Set) ? new SetCache(values) : null;\n    }\n\n    /**\n     * Creates a function that produces compound words out of the words in a\n     * given string.\n     *\n     * @private\n     * @param {Function} callback The function to combine each word.\n     * @returns {Function} Returns the new compounder function.\n     */\n    function createCompounder(callback) {\n      return function(string) {\n        var index = -1,\n            array = words(deburr(string)),\n            length = array.length,\n            result = '';\n\n        while (++index < length) {\n          result = callback(result, array[index], index);\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that produces an instance of `Ctor` regardless of\n     * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n     *\n     * @private\n     * @param {Function} Ctor The constructor to wrap.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCtorWrapper(Ctor) {\n      return function() {\n        // Use a `switch` statement to work with class constructors.\n        // See http://ecma-international.org/ecma-262/6.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n        // for more details.\n        var args = arguments;\n        switch (args.length) {\n          case 0: return new Ctor;\n          case 1: return new Ctor(args[0]);\n          case 2: return new Ctor(args[0], args[1]);\n          case 3: return new Ctor(args[0], args[1], args[2]);\n          case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n          case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n          case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n          case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n        }\n        var thisBinding = baseCreate(Ctor.prototype),\n            result = Ctor.apply(thisBinding, args);\n\n        // Mimic the constructor's `return` behavior.\n        // See https://es5.github.io/#x13.2.2 for more details.\n        return isObject(result) ? result : thisBinding;\n      };\n    }\n\n    /**\n     * Creates a `_.curry` or `_.curryRight` function.\n     *\n     * @private\n     * @param {boolean} flag The curry bit flag.\n     * @returns {Function} Returns the new curry function.\n     */\n    function createCurry(flag) {\n      function curryFunc(func, arity, guard) {\n        if (guard && isIterateeCall(func, arity, guard)) {\n          arity = undefined;\n        }\n        var result = createWrapper(func, flag, undefined, undefined, undefined, undefined, undefined, arity);\n        result.placeholder = curryFunc.placeholder;\n        return result;\n      }\n      return curryFunc;\n    }\n\n    /**\n     * Creates a `_.defaults` or `_.defaultsDeep` function.\n     *\n     * @private\n     * @param {Function} assigner The function to assign values.\n     * @param {Function} customizer The function to customize assigned values.\n     * @returns {Function} Returns the new defaults function.\n     */\n    function createDefaults(assigner, customizer) {\n      return restParam(function(args) {\n        var object = args[0];\n        if (object == null) {\n          return object;\n        }\n        args.push(customizer);\n        return assigner.apply(undefined, args);\n      });\n    }\n\n    /**\n     * Creates a `_.max` or `_.min` function.\n     *\n     * @private\n     * @param {Function} comparator The function used to compare values.\n     * @param {*} exValue The initial extremum value.\n     * @returns {Function} Returns the new extremum function.\n     */\n    function createExtremum(comparator, exValue) {\n      return function(collection, iteratee, thisArg) {\n        if (thisArg && isIterateeCall(collection, iteratee, thisArg)) {\n          iteratee = undefined;\n        }\n        iteratee = getCallback(iteratee, thisArg, 3);\n        if (iteratee.length == 1) {\n          collection = isArray(collection) ? collection : toIterable(collection);\n          var result = arrayExtremum(collection, iteratee, comparator, exValue);\n          if (!(collection.length && result === exValue)) {\n            return result;\n          }\n        }\n        return baseExtremum(collection, iteratee, comparator, exValue);\n      };\n    }\n\n    /**\n     * Creates a `_.find` or `_.findLast` function.\n     *\n     * @private\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFind(eachFunc, fromRight) {\n      return function(collection, predicate, thisArg) {\n        predicate = getCallback(predicate, thisArg, 3);\n        if (isArray(collection)) {\n          var index = baseFindIndex(collection, predicate, fromRight);\n          return index > -1 ? collection[index] : undefined;\n        }\n        return baseFind(collection, predicate, eachFunc);\n      };\n    }\n\n    /**\n     * Creates a `_.findIndex` or `_.findLastIndex` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFindIndex(fromRight) {\n      return function(array, predicate, thisArg) {\n        if (!(array && array.length)) {\n          return -1;\n        }\n        predicate = getCallback(predicate, thisArg, 3);\n        return baseFindIndex(array, predicate, fromRight);\n      };\n    }\n\n    /**\n     * Creates a `_.findKey` or `_.findLastKey` function.\n     *\n     * @private\n     * @param {Function} objectFunc The function to iterate over an object.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFindKey(objectFunc) {\n      return function(object, predicate, thisArg) {\n        predicate = getCallback(predicate, thisArg, 3);\n        return baseFind(object, predicate, objectFunc, true);\n      };\n    }\n\n    /**\n     * Creates a `_.flow` or `_.flowRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new flow function.\n     */\n    function createFlow(fromRight) {\n      return function() {\n        var wrapper,\n            length = arguments.length,\n            index = fromRight ? length : -1,\n            leftIndex = 0,\n            funcs = Array(length);\n\n        while ((fromRight ? index-- : ++index < length)) {\n          var func = funcs[leftIndex++] = arguments[index];\n          if (typeof func != 'function') {\n            throw new TypeError(FUNC_ERROR_TEXT);\n          }\n          if (!wrapper && LodashWrapper.prototype.thru && getFuncName(func) == 'wrapper') {\n            wrapper = new LodashWrapper([], true);\n          }\n        }\n        index = wrapper ? -1 : length;\n        while (++index < length) {\n          func = funcs[index];\n\n          var funcName = getFuncName(func),\n              data = funcName == 'wrapper' ? getData(func) : undefined;\n\n          if (data && isLaziable(data[0]) && data[1] == (ARY_FLAG | CURRY_FLAG | PARTIAL_FLAG | REARG_FLAG) && !data[4].length && data[9] == 1) {\n            wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);\n          } else {\n            wrapper = (func.length == 1 && isLaziable(func)) ? wrapper[funcName]() : wrapper.thru(func);\n          }\n        }\n        return function() {\n          var args = arguments,\n              value = args[0];\n\n          if (wrapper && args.length == 1 && isArray(value) && value.length >= LARGE_ARRAY_SIZE) {\n            return wrapper.plant(value).value();\n          }\n          var index = 0,\n              result = length ? funcs[index].apply(this, args) : value;\n\n          while (++index < length) {\n            result = funcs[index].call(this, result);\n          }\n          return result;\n        };\n      };\n    }\n\n    /**\n     * Creates a function for `_.forEach` or `_.forEachRight`.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to iterate over an array.\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @returns {Function} Returns the new each function.\n     */\n    function createForEach(arrayFunc, eachFunc) {\n      return function(collection, iteratee, thisArg) {\n        return (typeof iteratee == 'function' && thisArg === undefined && isArray(collection))\n          ? arrayFunc(collection, iteratee)\n          : eachFunc(collection, bindCallback(iteratee, thisArg, 3));\n      };\n    }\n\n    /**\n     * Creates a function for `_.forIn` or `_.forInRight`.\n     *\n     * @private\n     * @param {Function} objectFunc The function to iterate over an object.\n     * @returns {Function} Returns the new each function.\n     */\n    function createForIn(objectFunc) {\n      return function(object, iteratee, thisArg) {\n        if (typeof iteratee != 'function' || thisArg !== undefined) {\n          iteratee = bindCallback(iteratee, thisArg, 3);\n        }\n        return objectFunc(object, iteratee, keysIn);\n      };\n    }\n\n    /**\n     * Creates a function for `_.forOwn` or `_.forOwnRight`.\n     *\n     * @private\n     * @param {Function} objectFunc The function to iterate over an object.\n     * @returns {Function} Returns the new each function.\n     */\n    function createForOwn(objectFunc) {\n      return function(object, iteratee, thisArg) {\n        if (typeof iteratee != 'function' || thisArg !== undefined) {\n          iteratee = bindCallback(iteratee, thisArg, 3);\n        }\n        return objectFunc(object, iteratee);\n      };\n    }\n\n    /**\n     * Creates a function for `_.mapKeys` or `_.mapValues`.\n     *\n     * @private\n     * @param {boolean} [isMapKeys] Specify mapping keys instead of values.\n     * @returns {Function} Returns the new map function.\n     */\n    function createObjectMapper(isMapKeys) {\n      return function(object, iteratee, thisArg) {\n        var result = {};\n        iteratee = getCallback(iteratee, thisArg, 3);\n\n        baseForOwn(object, function(value, key, object) {\n          var mapped = iteratee(value, key, object);\n          key = isMapKeys ? mapped : key;\n          value = isMapKeys ? value : mapped;\n          result[key] = value;\n        });\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function for `_.padLeft` or `_.padRight`.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify padding from the right.\n     * @returns {Function} Returns the new pad function.\n     */\n    function createPadDir(fromRight) {\n      return function(string, length, chars) {\n        string = baseToString(string);\n        return (fromRight ? string : '') + createPadding(string, length, chars) + (fromRight ? '' : string);\n      };\n    }\n\n    /**\n     * Creates a `_.partial` or `_.partialRight` function.\n     *\n     * @private\n     * @param {boolean} flag The partial bit flag.\n     * @returns {Function} Returns the new partial function.\n     */\n    function createPartial(flag) {\n      var partialFunc = restParam(function(func, partials) {\n        var holders = replaceHolders(partials, partialFunc.placeholder);\n        return createWrapper(func, flag, undefined, partials, holders);\n      });\n      return partialFunc;\n    }\n\n    /**\n     * Creates a function for `_.reduce` or `_.reduceRight`.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to iterate over an array.\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @returns {Function} Returns the new each function.\n     */\n    function createReduce(arrayFunc, eachFunc) {\n      return function(collection, iteratee, accumulator, thisArg) {\n        var initFromArray = arguments.length < 3;\n        return (typeof iteratee == 'function' && thisArg === undefined && isArray(collection))\n          ? arrayFunc(collection, iteratee, accumulator, initFromArray)\n          : baseReduce(collection, getCallback(iteratee, thisArg, 4), accumulator, initFromArray, eachFunc);\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` and invokes it with optional `this`\n     * binding of, partial application, and currying.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to reference.\n     * @param {number} bitmask The bitmask of flags. See `createWrapper` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [partialsRight] The arguments to append to those provided to the new function.\n     * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createHybridWrapper(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n      var isAry = bitmask & ARY_FLAG,\n          isBind = bitmask & BIND_FLAG,\n          isBindKey = bitmask & BIND_KEY_FLAG,\n          isCurry = bitmask & CURRY_FLAG,\n          isCurryBound = bitmask & CURRY_BOUND_FLAG,\n          isCurryRight = bitmask & CURRY_RIGHT_FLAG,\n          Ctor = isBindKey ? undefined : createCtorWrapper(func);\n\n      function wrapper() {\n        // Avoid `arguments` object use disqualifying optimizations by\n        // converting it to an array before providing it to other functions.\n        var length = arguments.length,\n            index = length,\n            args = Array(length);\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        if (partials) {\n          args = composeArgs(args, partials, holders);\n        }\n        if (partialsRight) {\n          args = composeArgsRight(args, partialsRight, holdersRight);\n        }\n        if (isCurry || isCurryRight) {\n          var placeholder = wrapper.placeholder,\n              argsHolders = replaceHolders(args, placeholder);\n\n          length -= argsHolders.length;\n          if (length < arity) {\n            var newArgPos = argPos ? arrayCopy(argPos) : undefined,\n                newArity = nativeMax(arity - length, 0),\n                newsHolders = isCurry ? argsHolders : undefined,\n                newHoldersRight = isCurry ? undefined : argsHolders,\n                newPartials = isCurry ? args : undefined,\n                newPartialsRight = isCurry ? undefined : args;\n\n            bitmask |= (isCurry ? PARTIAL_FLAG : PARTIAL_RIGHT_FLAG);\n            bitmask &= ~(isCurry ? PARTIAL_RIGHT_FLAG : PARTIAL_FLAG);\n\n            if (!isCurryBound) {\n              bitmask &= ~(BIND_FLAG | BIND_KEY_FLAG);\n            }\n            var newData = [func, bitmask, thisArg, newPartials, newsHolders, newPartialsRight, newHoldersRight, newArgPos, ary, newArity],\n                result = createHybridWrapper.apply(undefined, newData);\n\n            if (isLaziable(func)) {\n              setData(result, newData);\n            }\n            result.placeholder = placeholder;\n            return result;\n          }\n        }\n        var thisBinding = isBind ? thisArg : this,\n            fn = isBindKey ? thisBinding[func] : func;\n\n        if (argPos) {\n          args = reorder(args, argPos);\n        }\n        if (isAry && ary < args.length) {\n          args.length = ary;\n        }\n        if (this && this !== root && this instanceof wrapper) {\n          fn = Ctor || createCtorWrapper(func);\n        }\n        return fn.apply(thisBinding, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates the padding required for `string` based on the given `length`.\n     * The `chars` string is truncated if the number of characters exceeds `length`.\n     *\n     * @private\n     * @param {string} string The string to create padding for.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the pad for `string`.\n     */\n    function createPadding(string, length, chars) {\n      var strLength = string.length;\n      length = +length;\n\n      if (strLength >= length || !nativeIsFinite(length)) {\n        return '';\n      }\n      var padLength = length - strLength;\n      chars = chars == null ? ' ' : (chars + '');\n      return repeat(chars, nativeCeil(padLength / chars.length)).slice(0, padLength);\n    }\n\n    /**\n     * Creates a function that wraps `func` and invokes it with the optional `this`\n     * binding of `thisArg` and the `partials` prepended to those provided to\n     * the wrapper.\n     *\n     * @private\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {number} bitmask The bitmask of flags. See `createWrapper` for more details.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {Array} partials The arguments to prepend to those provided to the new function.\n     * @returns {Function} Returns the new bound function.\n     */\n    function createPartialWrapper(func, bitmask, thisArg, partials) {\n      var isBind = bitmask & BIND_FLAG,\n          Ctor = createCtorWrapper(func);\n\n      function wrapper() {\n        // Avoid `arguments` object use disqualifying optimizations by\n        // converting it to an array before providing it `func`.\n        var argsIndex = -1,\n            argsLength = arguments.length,\n            leftIndex = -1,\n            leftLength = partials.length,\n            args = Array(leftLength + argsLength);\n\n        while (++leftIndex < leftLength) {\n          args[leftIndex] = partials[leftIndex];\n        }\n        while (argsLength--) {\n          args[leftIndex++] = arguments[++argsIndex];\n        }\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(isBind ? thisArg : this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.ceil`, `_.floor`, or `_.round` function.\n     *\n     * @private\n     * @param {string} methodName The name of the `Math` method to use when rounding.\n     * @returns {Function} Returns the new round function.\n     */\n    function createRound(methodName) {\n      var func = Math[methodName];\n      return function(number, precision) {\n        precision = precision === undefined ? 0 : (+precision || 0);\n        if (precision) {\n          precision = pow(10, precision);\n          return func(number * precision) / precision;\n        }\n        return func(number);\n      };\n    }\n\n    /**\n     * Creates a `_.sortedIndex` or `_.sortedLastIndex` function.\n     *\n     * @private\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {Function} Returns the new index function.\n     */\n    function createSortedIndex(retHighest) {\n      return function(array, value, iteratee, thisArg) {\n        var callback = getCallback(iteratee);\n        return (iteratee == null && callback === baseCallback)\n          ? binaryIndex(array, value, retHighest)\n          : binaryIndexBy(array, value, callback(iteratee, thisArg, 1), retHighest);\n      };\n    }\n\n    /**\n     * Creates a function that either curries or invokes `func` with optional\n     * `this` binding and partially applied arguments.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to reference.\n     * @param {number} bitmask The bitmask of flags.\n     *  The bitmask may be composed of the following flags:\n     *     1 - `_.bind`\n     *     2 - `_.bindKey`\n     *     4 - `_.curry` or `_.curryRight` of a bound function\n     *     8 - `_.curry`\n     *    16 - `_.curryRight`\n     *    32 - `_.partial`\n     *    64 - `_.partialRight`\n     *   128 - `_.rearg`\n     *   256 - `_.ary`\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to be partially applied.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createWrapper(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n      var isBindKey = bitmask & BIND_KEY_FLAG;\n      if (!isBindKey && typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var length = partials ? partials.length : 0;\n      if (!length) {\n        bitmask &= ~(PARTIAL_FLAG | PARTIAL_RIGHT_FLAG);\n        partials = holders = undefined;\n      }\n      length -= (holders ? holders.length : 0);\n      if (bitmask & PARTIAL_RIGHT_FLAG) {\n        var partialsRight = partials,\n            holdersRight = holders;\n\n        partials = holders = undefined;\n      }\n      var data = isBindKey ? undefined : getData(func),\n          newData = [func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity];\n\n      if (data) {\n        mergeData(newData, data);\n        bitmask = newData[1];\n        arity = newData[9];\n      }\n      newData[9] = arity == null\n        ? (isBindKey ? 0 : func.length)\n        : (nativeMax(arity - length, 0) || 0);\n\n      if (bitmask == BIND_FLAG) {\n        var result = createBindWrapper(newData[0], newData[2]);\n      } else if ((bitmask == PARTIAL_FLAG || bitmask == (BIND_FLAG | PARTIAL_FLAG)) && !newData[4].length) {\n        result = createPartialWrapper.apply(undefined, newData);\n      } else {\n        result = createHybridWrapper.apply(undefined, newData);\n      }\n      var setter = data ? baseSetData : setData;\n      return setter(result, newData);\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for arrays with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Array} array The array to compare.\n     * @param {Array} other The other array to compare.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Function} [customizer] The function to customize comparing arrays.\n     * @param {boolean} [isLoose] Specify performing partial comparisons.\n     * @param {Array} [stackA] Tracks traversed `value` objects.\n     * @param {Array} [stackB] Tracks traversed `other` objects.\n     * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n     */\n    function equalArrays(array, other, equalFunc, customizer, isLoose, stackA, stackB) {\n      var index = -1,\n          arrLength = array.length,\n          othLength = other.length;\n\n      if (arrLength != othLength && !(isLoose && othLength > arrLength)) {\n        return false;\n      }\n      // Ignore non-index properties.\n      while (++index < arrLength) {\n        var arrValue = array[index],\n            othValue = other[index],\n            result = customizer ? customizer(isLoose ? othValue : arrValue, isLoose ? arrValue : othValue, index) : undefined;\n\n        if (result !== undefined) {\n          if (result) {\n            continue;\n          }\n          return false;\n        }\n        // Recursively compare arrays (susceptible to call stack limits).\n        if (isLoose) {\n          if (!arraySome(other, function(othValue) {\n                return arrValue === othValue || equalFunc(arrValue, othValue, customizer, isLoose, stackA, stackB);\n              })) {\n            return false;\n          }\n        } else if (!(arrValue === othValue || equalFunc(arrValue, othValue, customizer, isLoose, stackA, stackB))) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for comparing objects of\n     * the same `toStringTag`.\n     *\n     * **Note:** This function only supports comparing values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {string} tag The `toStringTag` of the objects to compare.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalByTag(object, other, tag) {\n      switch (tag) {\n        case boolTag:\n        case dateTag:\n          // Coerce dates and booleans to numbers, dates to milliseconds and booleans\n          // to `1` or `0` treating invalid dates coerced to `NaN` as not equal.\n          return +object == +other;\n\n        case errorTag:\n          return object.name == other.name && object.message == other.message;\n\n        case numberTag:\n          // Treat `NaN` vs. `NaN` as equal.\n          return (object != +object)\n            ? other != +other\n            : object == +other;\n\n        case regexpTag:\n        case stringTag:\n          // Coerce regexes to strings and treat strings primitives and string\n          // objects as equal. See https://es5.github.io/#x15.10.6.4 for more details.\n          return object == (other + '');\n      }\n      return false;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for objects with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Function} [customizer] The function to customize comparing values.\n     * @param {boolean} [isLoose] Specify performing partial comparisons.\n     * @param {Array} [stackA] Tracks traversed `value` objects.\n     * @param {Array} [stackB] Tracks traversed `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalObjects(object, other, equalFunc, customizer, isLoose, stackA, stackB) {\n      var objProps = keys(object),\n          objLength = objProps.length,\n          othProps = keys(other),\n          othLength = othProps.length;\n\n      if (objLength != othLength && !isLoose) {\n        return false;\n      }\n      var index = objLength;\n      while (index--) {\n        var key = objProps[index];\n        if (!(isLoose ? key in other : hasOwnProperty.call(other, key))) {\n          return false;\n        }\n      }\n      var skipCtor = isLoose;\n      while (++index < objLength) {\n        key = objProps[index];\n        var objValue = object[key],\n            othValue = other[key],\n            result = customizer ? customizer(isLoose ? othValue : objValue, isLoose? objValue : othValue, key) : undefined;\n\n        // Recursively compare objects (susceptible to call stack limits).\n        if (!(result === undefined ? equalFunc(objValue, othValue, customizer, isLoose, stackA, stackB) : result)) {\n          return false;\n        }\n        skipCtor || (skipCtor = key == 'constructor');\n      }\n      if (!skipCtor) {\n        var objCtor = object.constructor,\n            othCtor = other.constructor;\n\n        // Non `Object` object instances with different constructors are not equal.\n        if (objCtor != othCtor &&\n            ('constructor' in object && 'constructor' in other) &&\n            !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n              typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * Gets the appropriate \"callback\" function. If the `_.callback` method is\n     * customized this function returns the custom method, otherwise it returns\n     * the `baseCallback` function. If arguments are provided the chosen function\n     * is invoked with them and its result is returned.\n     *\n     * @private\n     * @returns {Function} Returns the chosen function or its result.\n     */\n    function getCallback(func, thisArg, argCount) {\n      var result = lodash.callback || callback;\n      result = result === callback ? baseCallback : result;\n      return argCount ? result(func, thisArg, argCount) : result;\n    }\n\n    /**\n     * Gets metadata for `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {*} Returns the metadata for `func`.\n     */\n    var getData = !metaMap ? noop : function(func) {\n      return metaMap.get(func);\n    };\n\n    /**\n     * Gets the name of `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {string} Returns the function name.\n     */\n    function getFuncName(func) {\n      var result = (func.name + ''),\n          array = realNames[result],\n          length = array ? array.length : 0;\n\n      while (length--) {\n        var data = array[length],\n            otherFunc = data.func;\n        if (otherFunc == null || otherFunc == func) {\n          return data.name;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Gets the appropriate \"indexOf\" function. If the `_.indexOf` method is\n     * customized this function returns the custom method, otherwise it returns\n     * the `baseIndexOf` function. If arguments are provided the chosen function\n     * is invoked with them and its result is returned.\n     *\n     * @private\n     * @returns {Function|number} Returns the chosen function or its result.\n     */\n    function getIndexOf(collection, target, fromIndex) {\n      var result = lodash.indexOf || indexOf;\n      result = result === indexOf ? baseIndexOf : result;\n      return collection ? result(collection, target, fromIndex) : result;\n    }\n\n    /**\n     * Gets the \"length\" property value of `object`.\n     *\n     * **Note:** This function is used to avoid a [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792)\n     * that affects Safari on at least iOS 8.1-8.3 ARM64.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {*} Returns the \"length\" value.\n     */\n    var getLength = baseProperty('length');\n\n    /**\n     * Gets the propery names, values, and compare flags of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the match data of `object`.\n     */\n    function getMatchData(object) {\n      var result = pairs(object),\n          length = result.length;\n\n      while (length--) {\n        result[length][2] = isStrictComparable(result[length][1]);\n      }\n      return result;\n    }\n\n    /**\n     * Gets the native function at `key` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the method to get.\n     * @returns {*} Returns the function if it's native, else `undefined`.\n     */\n    function getNative(object, key) {\n      var value = object == null ? undefined : object[key];\n      return isNative(value) ? value : undefined;\n    }\n\n    /**\n     * Gets the view, applying any `transforms` to the `start` and `end` positions.\n     *\n     * @private\n     * @param {number} start The start of the view.\n     * @param {number} end The end of the view.\n     * @param {Array} transforms The transformations to apply to the view.\n     * @returns {Object} Returns an object containing the `start` and `end`\n     *  positions of the view.\n     */\n    function getView(start, end, transforms) {\n      var index = -1,\n          length = transforms.length;\n\n      while (++index < length) {\n        var data = transforms[index],\n            size = data.size;\n\n        switch (data.type) {\n          case 'drop':      start += size; break;\n          case 'dropRight': end -= size; break;\n          case 'take':      end = nativeMin(end, start + size); break;\n          case 'takeRight': start = nativeMax(start, end - size); break;\n        }\n      }\n      return { 'start': start, 'end': end };\n    }\n\n    /**\n     * Initializes an array clone.\n     *\n     * @private\n     * @param {Array} array The array to clone.\n     * @returns {Array} Returns the initialized clone.\n     */\n    function initCloneArray(array) {\n      var length = array.length,\n          result = new array.constructor(length);\n\n      // Add array properties assigned by `RegExp#exec`.\n      if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n        result.index = array.index;\n        result.input = array.input;\n      }\n      return result;\n    }\n\n    /**\n     * Initializes an object clone.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneObject(object) {\n      var Ctor = object.constructor;\n      if (!(typeof Ctor == 'function' && Ctor instanceof Ctor)) {\n        Ctor = Object;\n      }\n      return new Ctor;\n    }\n\n    /**\n     * Initializes an object clone based on its `toStringTag`.\n     *\n     * **Note:** This function only supports cloning values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @param {string} tag The `toStringTag` of the object to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneByTag(object, tag, isDeep) {\n      var Ctor = object.constructor;\n      switch (tag) {\n        case arrayBufferTag:\n          return bufferClone(object);\n\n        case boolTag:\n        case dateTag:\n          return new Ctor(+object);\n\n        case float32Tag: case float64Tag:\n        case int8Tag: case int16Tag: case int32Tag:\n        case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n          // Safari 5 mobile incorrectly has `Object` as the constructor of typed arrays.\n          if (Ctor instanceof Ctor) {\n            Ctor = ctorByTag[tag];\n          }\n          var buffer = object.buffer;\n          return new Ctor(isDeep ? bufferClone(buffer) : buffer, object.byteOffset, object.length);\n\n        case numberTag:\n        case stringTag:\n          return new Ctor(object);\n\n        case regexpTag:\n          var result = new Ctor(object.source, reFlags.exec(object));\n          result.lastIndex = object.lastIndex;\n      }\n      return result;\n    }\n\n    /**\n     * Invokes the method at `path` on `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {Array} args The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     */\n    function invokePath(object, path, args) {\n      if (object != null && !isKey(path, object)) {\n        path = toPath(path);\n        object = path.length == 1 ? object : baseGet(object, baseSlice(path, 0, -1));\n        path = last(path);\n      }\n      var func = object == null ? object : object[path];\n      return func == null ? undefined : func.apply(object, args);\n    }\n\n    /**\n     * Checks if `value` is array-like.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n     */\n    function isArrayLike(value) {\n      return value != null && isLength(getLength(value));\n    }\n\n    /**\n     * Checks if `value` is a valid array-like index.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n     * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n     */\n    function isIndex(value, length) {\n      value = (typeof value == 'number' || reIsUint.test(value)) ? +value : -1;\n      length = length == null ? MAX_SAFE_INTEGER : length;\n      return value > -1 && value % 1 == 0 && value < length;\n    }\n\n    /**\n     * Checks if the provided arguments are from an iteratee call.\n     *\n     * @private\n     * @param {*} value The potential iteratee value argument.\n     * @param {*} index The potential iteratee index or key argument.\n     * @param {*} object The potential iteratee object argument.\n     * @returns {boolean} Returns `true` if the arguments are from an iteratee call, else `false`.\n     */\n    function isIterateeCall(value, index, object) {\n      if (!isObject(object)) {\n        return false;\n      }\n      var type = typeof index;\n      if (type == 'number'\n          ? (isArrayLike(object) && isIndex(index, object.length))\n          : (type == 'string' && index in object)) {\n        var other = object[index];\n        return value === value ? (value === other) : (other !== other);\n      }\n      return false;\n    }\n\n    /**\n     * Checks if `value` is a property name and not a property path.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n     */\n    function isKey(value, object) {\n      var type = typeof value;\n      if ((type == 'string' && reIsPlainProp.test(value)) || type == 'number') {\n        return true;\n      }\n      if (isArray(value)) {\n        return false;\n      }\n      var result = !reIsDeepProp.test(value);\n      return result || (object != null && value in toObject(object));\n    }\n\n    /**\n     * Checks if `func` has a lazy counterpart.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` has a lazy counterpart, else `false`.\n     */\n    function isLaziable(func) {\n      var funcName = getFuncName(func),\n          other = lodash[funcName];\n\n      if (typeof other != 'function' || !(funcName in LazyWrapper.prototype)) {\n        return false;\n      }\n      if (func === other) {\n        return true;\n      }\n      var data = getData(other);\n      return !!data && func === data[0];\n    }\n\n    /**\n     * Checks if `value` is a valid array-like length.\n     *\n     * **Note:** This function is based on [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n     */\n    function isLength(value) {\n      return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` if suitable for strict\n     *  equality comparisons, else `false`.\n     */\n    function isStrictComparable(value) {\n      return value === value && !isObject(value);\n    }\n\n    /**\n     * Merges the function metadata of `source` into `data`.\n     *\n     * Merging metadata reduces the number of wrappers required to invoke a function.\n     * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n     * may be applied regardless of execution order. Methods like `_.ary` and `_.rearg`\n     * augment function arguments, making the order in which they are executed important,\n     * preventing the merging of metadata. However, we make an exception for a safe\n     * common case where curried functions have `_.ary` and or `_.rearg` applied.\n     *\n     * @private\n     * @param {Array} data The destination metadata.\n     * @param {Array} source The source metadata.\n     * @returns {Array} Returns `data`.\n     */\n    function mergeData(data, source) {\n      var bitmask = data[1],\n          srcBitmask = source[1],\n          newBitmask = bitmask | srcBitmask,\n          isCommon = newBitmask < ARY_FLAG;\n\n      var isCombo =\n        (srcBitmask == ARY_FLAG && bitmask == CURRY_FLAG) ||\n        (srcBitmask == ARY_FLAG && bitmask == REARG_FLAG && data[7].length <= source[8]) ||\n        (srcBitmask == (ARY_FLAG | REARG_FLAG) && bitmask == CURRY_FLAG);\n\n      // Exit early if metadata can't be merged.\n      if (!(isCommon || isCombo)) {\n        return data;\n      }\n      // Use source `thisArg` if available.\n      if (srcBitmask & BIND_FLAG) {\n        data[2] = source[2];\n        // Set when currying a bound function.\n        newBitmask |= (bitmask & BIND_FLAG) ? 0 : CURRY_BOUND_FLAG;\n      }\n      // Compose partial arguments.\n      var value = source[3];\n      if (value) {\n        var partials = data[3];\n        data[3] = partials ? composeArgs(partials, value, source[4]) : arrayCopy(value);\n        data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : arrayCopy(source[4]);\n      }\n      // Compose partial right arguments.\n      value = source[5];\n      if (value) {\n        partials = data[5];\n        data[5] = partials ? composeArgsRight(partials, value, source[6]) : arrayCopy(value);\n        data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : arrayCopy(source[6]);\n      }\n      // Use source `argPos` if available.\n      value = source[7];\n      if (value) {\n        data[7] = arrayCopy(value);\n      }\n      // Use source `ary` if it's smaller.\n      if (srcBitmask & ARY_FLAG) {\n        data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n      }\n      // Use source `arity` if one is not provided.\n      if (data[9] == null) {\n        data[9] = source[9];\n      }\n      // Use source `func` and merge bitmasks.\n      data[0] = source[0];\n      data[1] = newBitmask;\n\n      return data;\n    }\n\n    /**\n     * Used by `_.defaultsDeep` to customize its `_.merge` use.\n     *\n     * @private\n     * @param {*} objectValue The destination object property value.\n     * @param {*} sourceValue The source object property value.\n     * @returns {*} Returns the value to assign to the destination object.\n     */\n    function mergeDefaults(objectValue, sourceValue) {\n      return objectValue === undefined ? sourceValue : merge(objectValue, sourceValue, mergeDefaults);\n    }\n\n    /**\n     * A specialized version of `_.pick` which picks `object` properties specified\n     * by `props`.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} props The property names to pick.\n     * @returns {Object} Returns the new object.\n     */\n    function pickByArray(object, props) {\n      object = toObject(object);\n\n      var index = -1,\n          length = props.length,\n          result = {};\n\n      while (++index < length) {\n        var key = props[index];\n        if (key in object) {\n          result[key] = object[key];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.pick` which picks `object` properties `predicate`\n     * returns truthy for.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Object} Returns the new object.\n     */\n    function pickByCallback(object, predicate) {\n      var result = {};\n      baseForIn(object, function(value, key, object) {\n        if (predicate(value, key, object)) {\n          result[key] = value;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * Reorder `array` according to the specified indexes where the element at\n     * the first index is assigned as the first element, the element at\n     * the second index is assigned as the second element, and so on.\n     *\n     * @private\n     * @param {Array} array The array to reorder.\n     * @param {Array} indexes The arranged array indexes.\n     * @returns {Array} Returns `array`.\n     */\n    function reorder(array, indexes) {\n      var arrLength = array.length,\n          length = nativeMin(indexes.length, arrLength),\n          oldArray = arrayCopy(array);\n\n      while (length--) {\n        var index = indexes[length];\n        array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n      }\n      return array;\n    }\n\n    /**\n     * Sets metadata for `func`.\n     *\n     * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n     * period of time, it will trip its breaker and transition to an identity function\n     * to avoid garbage collection pauses in V8. See [V8 issue 2070](https://code.google.com/p/v8/issues/detail?id=2070)\n     * for more details.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var setData = (function() {\n      var count = 0,\n          lastCalled = 0;\n\n      return function(key, value) {\n        var stamp = now(),\n            remaining = HOT_SPAN - (stamp - lastCalled);\n\n        lastCalled = stamp;\n        if (remaining > 0) {\n          if (++count >= HOT_COUNT) {\n            return key;\n          }\n        } else {\n          count = 0;\n        }\n        return baseSetData(key, value);\n      };\n    }());\n\n    /**\n     * A fallback implementation of `Object.keys` which creates an array of the\n     * own enumerable property names of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function shimKeys(object) {\n      var props = keysIn(object),\n          propsLength = props.length,\n          length = propsLength && object.length;\n\n      var allowIndexes = !!length && isLength(length) &&\n        (isArray(object) || isArguments(object) || isString(object));\n\n      var index = -1,\n          result = [];\n\n      while (++index < propsLength) {\n        var key = props[index];\n        if ((allowIndexes && isIndex(key, length)) || hasOwnProperty.call(object, key)) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to an array-like object if it's not one.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {Array|Object} Returns the array-like object.\n     */\n    function toIterable(value) {\n      if (value == null) {\n        return [];\n      }\n      if (!isArrayLike(value)) {\n        return values(value);\n      }\n      if (lodash.support.unindexedChars && isString(value)) {\n        return value.split('');\n      }\n      return isObject(value) ? value : Object(value);\n    }\n\n    /**\n     * Converts `value` to an object if it's not one.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {Object} Returns the object.\n     */\n    function toObject(value) {\n      if (lodash.support.unindexedChars && isString(value)) {\n        var index = -1,\n            length = value.length,\n            result = Object(value);\n\n        while (++index < length) {\n          result[index] = value.charAt(index);\n        }\n        return result;\n      }\n      return isObject(value) ? value : Object(value);\n    }\n\n    /**\n     * Converts `value` to property path array if it's not one.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {Array} Returns the property path array.\n     */\n    function toPath(value) {\n      if (isArray(value)) {\n        return value;\n      }\n      var result = [];\n      baseToString(value).replace(rePropName, function(match, number, quote, string) {\n        result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));\n      });\n      return result;\n    }\n\n    /**\n     * Creates a clone of `wrapper`.\n     *\n     * @private\n     * @param {Object} wrapper The wrapper to clone.\n     * @returns {Object} Returns the cloned wrapper.\n     */\n    function wrapperClone(wrapper) {\n      return wrapper instanceof LazyWrapper\n        ? wrapper.clone()\n        : new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__, arrayCopy(wrapper.__actions__));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements split into groups the length of `size`.\n     * If `collection` can't be split evenly, the final chunk will be the remaining\n     * elements.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to process.\n     * @param {number} [size=1] The length of each chunk.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the new array containing chunks.\n     * @example\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 2);\n     * // => [['a', 'b'], ['c', 'd']]\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 3);\n     * // => [['a', 'b', 'c'], ['d']]\n     */\n    function chunk(array, size, guard) {\n      if (guard ? isIterateeCall(array, size, guard) : size == null) {\n        size = 1;\n      } else {\n        size = nativeMax(nativeFloor(size) || 1, 1);\n      }\n      var index = 0,\n          length = array ? array.length : 0,\n          resIndex = -1,\n          result = Array(nativeCeil(length / size));\n\n      while (index < length) {\n        result[++resIndex] = baseSlice(array, index, (index += size));\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array with all falsey values removed. The values `false`, `null`,\n     * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to compact.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.compact([0, 1, false, 2, '', 3]);\n     * // => [1, 2, 3]\n     */\n    function compact(array) {\n      var index = -1,\n          length = array ? array.length : 0,\n          resIndex = -1,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (value) {\n          result[++resIndex] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array of unique `array` values not included in the other\n     * provided arrays using [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The arrays of values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.difference([1, 2, 3], [4, 2]);\n     * // => [1, 3]\n     */\n    var difference = restParam(function(array, values) {\n      return (isObjectLike(array) && isArrayLike(array))\n        ? baseDifference(array, baseFlatten(values, false, true))\n        : [];\n    });\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.drop([1, 2, 3]);\n     * // => [2, 3]\n     *\n     * _.drop([1, 2, 3], 2);\n     * // => [3]\n     *\n     * _.drop([1, 2, 3], 5);\n     * // => []\n     *\n     * _.drop([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function drop(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\n        n = 1;\n      }\n      return baseSlice(array, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the end.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRight([1, 2, 3]);\n     * // => [1, 2]\n     *\n     * _.dropRight([1, 2, 3], 2);\n     * // => [1]\n     *\n     * _.dropRight([1, 2, 3], 5);\n     * // => []\n     *\n     * _.dropRight([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function dropRight(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\n        n = 1;\n      }\n      n = length - (+n || 0);\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the end.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * bound to `thisArg` and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that match the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRightWhile([1, 2, 3], function(n) {\n     *   return n > 1;\n     * });\n     * // => [1]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.dropRightWhile(users, { 'user': 'pebbles', 'active': false }), 'user');\n     * // => ['barney', 'fred']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.dropRightWhile(users, 'active', false), 'user');\n     * // => ['barney']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.dropRightWhile(users, 'active'), 'user');\n     * // => ['barney', 'fred', 'pebbles']\n     */\n    function dropRightWhile(array, predicate, thisArg) {\n      return (array && array.length)\n        ? baseWhile(array, getCallback(predicate, thisArg, 3), true, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the beginning.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * bound to `thisArg` and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropWhile([1, 2, 3], function(n) {\n     *   return n < 3;\n     * });\n     * // => [3]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.dropWhile(users, { 'user': 'barney', 'active': false }), 'user');\n     * // => ['fred', 'pebbles']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.dropWhile(users, 'active', false), 'user');\n     * // => ['pebbles']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.dropWhile(users, 'active'), 'user');\n     * // => ['barney', 'fred', 'pebbles']\n     */\n    function dropWhile(array, predicate, thisArg) {\n      return (array && array.length)\n        ? baseWhile(array, getCallback(predicate, thisArg, 3), true)\n        : [];\n    }\n\n    /**\n     * Fills elements of `array` with `value` from `start` up to, but not\n     * including, `end`.\n     *\n     * **Note:** This method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.fill(array, 'a');\n     * console.log(array);\n     * // => ['a', 'a', 'a']\n     *\n     * _.fill(Array(3), 2);\n     * // => [2, 2, 2]\n     *\n     * _.fill([4, 6, 8], '*', 1, 2);\n     * // => [4, '*', 8]\n     */\n    function fill(array, value, start, end) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (start && typeof start != 'number' && isIterateeCall(array, value, start)) {\n        start = 0;\n        end = length;\n      }\n      return baseFill(array, value, start, end);\n    }\n\n    /**\n     * This method is like `_.find` except that it returns the index of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.findIndex(users, function(chr) {\n     *   return chr.user == 'barney';\n     * });\n     * // => 0\n     *\n     * // using the `_.matches` callback shorthand\n     * _.findIndex(users, { 'user': 'fred', 'active': false });\n     * // => 1\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.findIndex(users, 'active', false);\n     * // => 0\n     *\n     * // using the `_.property` callback shorthand\n     * _.findIndex(users, 'active');\n     * // => 2\n     */\n    var findIndex = createFindIndex();\n\n    /**\n     * This method is like `_.findIndex` except that it iterates over elements\n     * of `collection` from right to left.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.findLastIndex(users, function(chr) {\n     *   return chr.user == 'pebbles';\n     * });\n     * // => 2\n     *\n     * // using the `_.matches` callback shorthand\n     * _.findLastIndex(users, { 'user': 'barney', 'active': true });\n     * // => 0\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.findLastIndex(users, 'active', false);\n     * // => 2\n     *\n     * // using the `_.property` callback shorthand\n     * _.findLastIndex(users, 'active');\n     * // => 0\n     */\n    var findLastIndex = createFindIndex(true);\n\n    /**\n     * Gets the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @alias head\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the first element of `array`.\n     * @example\n     *\n     * _.first([1, 2, 3]);\n     * // => 1\n     *\n     * _.first([]);\n     * // => undefined\n     */\n    function first(array) {\n      return array ? array[0] : undefined;\n    }\n\n    /**\n     * Flattens a nested array. If `isDeep` is `true` the array is recursively\n     * flattened, otherwise it's only flattened a single level.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @param {boolean} [isDeep] Specify a deep flatten.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flatten([1, [2, 3, [4]]]);\n     * // => [1, 2, 3, [4]]\n     *\n     * // using `isDeep`\n     * _.flatten([1, [2, 3, [4]]], true);\n     * // => [1, 2, 3, 4]\n     */\n    function flatten(array, isDeep, guard) {\n      var length = array ? array.length : 0;\n      if (guard && isIterateeCall(array, isDeep, guard)) {\n        isDeep = false;\n      }\n      return length ? baseFlatten(array, isDeep) : [];\n    }\n\n    /**\n     * Recursively flattens a nested array.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to recursively flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flattenDeep([1, [2, 3, [4]]]);\n     * // => [1, 2, 3, 4]\n     */\n    function flattenDeep(array) {\n      var length = array ? array.length : 0;\n      return length ? baseFlatten(array, true) : [];\n    }\n\n    /**\n     * Gets the index at which the first occurrence of `value` is found in `array`\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n     * for equality comparisons. If `fromIndex` is negative, it's used as the offset\n     * from the end of `array`. If `array` is sorted providing `true` for `fromIndex`\n     * performs a faster binary search.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to search.\n     * @param {*} value The value to search for.\n     * @param {boolean|number} [fromIndex=0] The index to search from or `true`\n     *  to perform a binary search on a sorted array.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.indexOf([1, 2, 1, 2], 2);\n     * // => 1\n     *\n     * // using `fromIndex`\n     * _.indexOf([1, 2, 1, 2], 2, 2);\n     * // => 3\n     *\n     * // performing a binary search\n     * _.indexOf([1, 1, 2, 2], 2, true);\n     * // => 2\n     */\n    function indexOf(array, value, fromIndex) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return -1;\n      }\n      if (typeof fromIndex == 'number') {\n        fromIndex = fromIndex < 0 ? nativeMax(length + fromIndex, 0) : fromIndex;\n      } else if (fromIndex) {\n        var index = binaryIndex(array, value);\n        if (index < length &&\n            (value === value ? (value === array[index]) : (array[index] !== array[index]))) {\n          return index;\n        }\n        return -1;\n      }\n      return baseIndexOf(array, value, fromIndex || 0);\n    }\n\n    /**\n     * Gets all but the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.initial([1, 2, 3]);\n     * // => [1, 2]\n     */\n    function initial(array) {\n      return dropRight(array, 1);\n    }\n\n    /**\n     * Creates an array of unique values that are included in all of the provided\n     * arrays using [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of shared values.\n     * @example\n     * _.intersection([1, 2], [4, 2], [2, 1]);\n     * // => [2]\n     */\n    var intersection = restParam(function(arrays) {\n      var othLength = arrays.length,\n          othIndex = othLength,\n          caches = Array(length),\n          indexOf = getIndexOf(),\n          isCommon = indexOf === baseIndexOf,\n          result = [];\n\n      while (othIndex--) {\n        var value = arrays[othIndex] = isArrayLike(value = arrays[othIndex]) ? value : [];\n        caches[othIndex] = (isCommon && value.length >= 120) ? createCache(othIndex && value) : null;\n      }\n      var array = arrays[0],\n          index = -1,\n          length = array ? array.length : 0,\n          seen = caches[0];\n\n      outer:\n      while (++index < length) {\n        value = array[index];\n        if ((seen ? cacheIndexOf(seen, value) : indexOf(result, value, 0)) < 0) {\n          var othIndex = othLength;\n          while (--othIndex) {\n            var cache = caches[othIndex];\n            if ((cache ? cacheIndexOf(cache, value) : indexOf(arrays[othIndex], value, 0)) < 0) {\n              continue outer;\n            }\n          }\n          if (seen) {\n            seen.push(value);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    });\n\n    /**\n     * Gets the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the last element of `array`.\n     * @example\n     *\n     * _.last([1, 2, 3]);\n     * // => 3\n     */\n    function last(array) {\n      var length = array ? array.length : 0;\n      return length ? array[length - 1] : undefined;\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it iterates over elements of\n     * `array` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to search.\n     * @param {*} value The value to search for.\n     * @param {boolean|number} [fromIndex=array.length-1] The index to search from\n     *  or `true` to perform a binary search on a sorted array.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.lastIndexOf([1, 2, 1, 2], 2);\n     * // => 3\n     *\n     * // using `fromIndex`\n     * _.lastIndexOf([1, 2, 1, 2], 2, 2);\n     * // => 1\n     *\n     * // performing a binary search\n     * _.lastIndexOf([1, 1, 2, 2], 2, true);\n     * // => 3\n     */\n    function lastIndexOf(array, value, fromIndex) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return -1;\n      }\n      var index = length;\n      if (typeof fromIndex == 'number') {\n        index = (fromIndex < 0 ? nativeMax(length + fromIndex, 0) : nativeMin(fromIndex || 0, length - 1)) + 1;\n      } else if (fromIndex) {\n        index = binaryIndex(array, value, true) - 1;\n        var other = array[index];\n        if (value === value ? (value === other) : (other !== other)) {\n          return index;\n        }\n        return -1;\n      }\n      if (value !== value) {\n        return indexOfNaN(array, index, true);\n      }\n      while (index--) {\n        if (array[index] === value) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Removes all provided values from `array` using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.without`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...*} [values] The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3, 1, 2, 3];\n     *\n     * _.pull(array, 2, 3);\n     * console.log(array);\n     * // => [1, 1]\n     */\n    function pull() {\n      var args = arguments,\n          array = args[0];\n\n      if (!(array && array.length)) {\n        return array;\n      }\n      var index = 0,\n          indexOf = getIndexOf(),\n          length = args.length;\n\n      while (++index < length) {\n        var fromIndex = 0,\n            value = args[index];\n\n        while ((fromIndex = indexOf(array, value, fromIndex)) > -1) {\n          splice.call(array, fromIndex, 1);\n        }\n      }\n      return array;\n    }\n\n    /**\n     * Removes elements from `array` corresponding to the given indexes and returns\n     * an array of the removed elements. Indexes may be specified as an array of\n     * indexes or as individual arguments.\n     *\n     * **Note:** Unlike `_.at`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...(number|number[])} [indexes] The indexes of elements to remove,\n     *  specified as individual indexes or arrays of indexes.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [5, 10, 15, 20];\n     * var evens = _.pullAt(array, 1, 3);\n     *\n     * console.log(array);\n     * // => [5, 15]\n     *\n     * console.log(evens);\n     * // => [10, 20]\n     */\n    var pullAt = restParam(function(array, indexes) {\n      indexes = baseFlatten(indexes);\n\n      var result = baseAt(array, indexes);\n      basePullAt(array, indexes.sort(baseCompareAscending));\n      return result;\n    });\n\n    /**\n     * Removes all elements from `array` that `predicate` returns truthy for\n     * and returns an array of the removed elements. The predicate is bound to\n     * `thisArg` and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * **Note:** Unlike `_.filter`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [1, 2, 3, 4];\n     * var evens = _.remove(array, function(n) {\n     *   return n % 2 == 0;\n     * });\n     *\n     * console.log(array);\n     * // => [1, 3]\n     *\n     * console.log(evens);\n     * // => [2, 4]\n     */\n    function remove(array, predicate, thisArg) {\n      var result = [];\n      if (!(array && array.length)) {\n        return result;\n      }\n      var index = -1,\n          indexes = [],\n          length = array.length;\n\n      predicate = getCallback(predicate, thisArg, 3);\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result.push(value);\n          indexes.push(index);\n        }\n      }\n      basePullAt(array, indexes);\n      return result;\n    }\n\n    /**\n     * Gets all but the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @alias tail\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.rest([1, 2, 3]);\n     * // => [2, 3]\n     */\n    function rest(array) {\n      return drop(array, 1);\n    }\n\n    /**\n     * Creates a slice of `array` from `start` up to, but not including, `end`.\n     *\n     * **Note:** This method is used instead of `Array#slice` to support node\n     * lists in IE < 9 and to ensure dense arrays are returned.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function slice(array, start, end) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (end && typeof end != 'number' && isIterateeCall(array, start, end)) {\n        start = 0;\n        end = length;\n      }\n      return baseSlice(array, start, end);\n    }\n\n    /**\n     * Uses a binary search to determine the lowest index at which `value` should\n     * be inserted into `array` in order to maintain its sort order. If an iteratee\n     * function is provided it's invoked for `value` and each element of `array`\n     * to compute their sort ranking. The iteratee is bound to `thisArg` and\n     * invoked with one argument; (value).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedIndex([30, 50], 40);\n     * // => 1\n     *\n     * _.sortedIndex([4, 4, 5, 5], 5);\n     * // => 2\n     *\n     * var dict = { 'data': { 'thirty': 30, 'forty': 40, 'fifty': 50 } };\n     *\n     * // using an iteratee function\n     * _.sortedIndex(['thirty', 'fifty'], 'forty', function(word) {\n     *   return this.data[word];\n     * }, dict);\n     * // => 1\n     *\n     * // using the `_.property` callback shorthand\n     * _.sortedIndex([{ 'x': 30 }, { 'x': 50 }], { 'x': 40 }, 'x');\n     * // => 1\n     */\n    var sortedIndex = createSortedIndex();\n\n    /**\n     * This method is like `_.sortedIndex` except that it returns the highest\n     * index at which `value` should be inserted into `array` in order to\n     * maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedLastIndex([4, 4, 5, 5], 5);\n     * // => 4\n     */\n    var sortedLastIndex = createSortedIndex(true);\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.take([1, 2, 3]);\n     * // => [1]\n     *\n     * _.take([1, 2, 3], 2);\n     * // => [1, 2]\n     *\n     * _.take([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.take([1, 2, 3], 0);\n     * // => []\n     */\n    function take(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\n        n = 1;\n      }\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the end.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRight([1, 2, 3]);\n     * // => [3]\n     *\n     * _.takeRight([1, 2, 3], 2);\n     * // => [2, 3]\n     *\n     * _.takeRight([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.takeRight([1, 2, 3], 0);\n     * // => []\n     */\n    function takeRight(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\n        n = 1;\n      }\n      n = length - (+n || 0);\n      return baseSlice(array, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the end. Elements are\n     * taken until `predicate` returns falsey. The predicate is bound to `thisArg`\n     * and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRightWhile([1, 2, 3], function(n) {\n     *   return n > 1;\n     * });\n     * // => [2, 3]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.takeRightWhile(users, { 'user': 'pebbles', 'active': false }), 'user');\n     * // => ['pebbles']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.takeRightWhile(users, 'active', false), 'user');\n     * // => ['fred', 'pebbles']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.takeRightWhile(users, 'active'), 'user');\n     * // => []\n     */\n    function takeRightWhile(array, predicate, thisArg) {\n      return (array && array.length)\n        ? baseWhile(array, getCallback(predicate, thisArg, 3), false, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the beginning. Elements\n     * are taken until `predicate` returns falsey. The predicate is bound to\n     * `thisArg` and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeWhile([1, 2, 3], function(n) {\n     *   return n < 3;\n     * });\n     * // => [1, 2]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false},\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.takeWhile(users, { 'user': 'barney', 'active': false }), 'user');\n     * // => ['barney']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.takeWhile(users, 'active', false), 'user');\n     * // => ['barney', 'fred']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.takeWhile(users, 'active'), 'user');\n     * // => []\n     */\n    function takeWhile(array, predicate, thisArg) {\n      return (array && array.length)\n        ? baseWhile(array, getCallback(predicate, thisArg, 3))\n        : [];\n    }\n\n    /**\n     * Creates an array of unique values, in order, from all of the provided arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.union([1, 2], [4, 2], [2, 1]);\n     * // => [1, 2, 4]\n     */\n    var union = restParam(function(arrays) {\n      return baseUniq(baseFlatten(arrays, false, true));\n    });\n\n    /**\n     * Creates a duplicate-free version of an array, using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n     * for equality comparisons, in which only the first occurence of each element\n     * is kept. Providing `true` for `isSorted` performs a faster search algorithm\n     * for sorted arrays. If an iteratee function is provided it's invoked for\n     * each element in the array to generate the criterion by which uniqueness\n     * is computed. The `iteratee` is bound to `thisArg` and invoked with three\n     * arguments: (value, index, array).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias unique\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {boolean} [isSorted] Specify the array is sorted.\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new duplicate-value-free array.\n     * @example\n     *\n     * _.uniq([2, 1, 2]);\n     * // => [2, 1]\n     *\n     * // using `isSorted`\n     * _.uniq([1, 1, 2], true);\n     * // => [1, 2]\n     *\n     * // using an iteratee function\n     * _.uniq([1, 2.5, 1.5, 2], function(n) {\n     *   return this.floor(n);\n     * }, Math);\n     * // => [1, 2.5]\n     *\n     * // using the `_.property` callback shorthand\n     * _.uniq([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    function uniq(array, isSorted, iteratee, thisArg) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (isSorted != null && typeof isSorted != 'boolean') {\n        thisArg = iteratee;\n        iteratee = isIterateeCall(array, isSorted, thisArg) ? undefined : isSorted;\n        isSorted = false;\n      }\n      var callback = getCallback();\n      if (!(iteratee == null && callback === baseCallback)) {\n        iteratee = callback(iteratee, thisArg, 3);\n      }\n      return (isSorted && getIndexOf() === baseIndexOf)\n        ? sortedUniq(array, iteratee)\n        : baseUniq(array, iteratee);\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts an array of grouped\n     * elements and creates an array regrouping the elements to their pre-zip\n     * configuration.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip(['fred', 'barney'], [30, 40], [true, false]);\n     * // => [['fred', 30, true], ['barney', 40, false]]\n     *\n     * _.unzip(zipped);\n     * // => [['fred', 'barney'], [30, 40], [true, false]]\n     */\n    function unzip(array) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var index = -1,\n          length = 0;\n\n      array = arrayFilter(array, function(group) {\n        if (isArrayLike(group)) {\n          length = nativeMax(group.length, length);\n          return true;\n        }\n      });\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = arrayMap(array, baseProperty(index));\n      }\n      return result;\n    }\n\n    /**\n     * This method is like `_.unzip` except that it accepts an iteratee to specify\n     * how regrouped values should be combined. The `iteratee` is bound to `thisArg`\n     * and invoked with four arguments: (accumulator, value, index, group).\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @param {Function} [iteratee] The function to combine regrouped values.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip([1, 2], [10, 20], [100, 200]);\n     * // => [[1, 10, 100], [2, 20, 200]]\n     *\n     * _.unzipWith(zipped, _.add);\n     * // => [3, 30, 300]\n     */\n    function unzipWith(array, iteratee, thisArg) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      var result = unzip(array);\n      if (iteratee == null) {\n        return result;\n      }\n      iteratee = bindCallback(iteratee, thisArg, 4);\n      return arrayMap(result, function(group) {\n        return arrayReduce(group, iteratee, undefined, true);\n      });\n    }\n\n    /**\n     * Creates an array excluding all provided values using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to filter.\n     * @param {...*} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.without([1, 2, 1, 3], 1, 2);\n     * // => [3]\n     */\n    var without = restParam(function(array, values) {\n      return isArrayLike(array)\n        ? baseDifference(array, values)\n        : [];\n    });\n\n    /**\n     * Creates an array of unique values that is the [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)\n     * of the provided arrays.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of values.\n     * @example\n     *\n     * _.xor([1, 2], [4, 2]);\n     * // => [1, 4]\n     */\n    function xor() {\n      var index = -1,\n          length = arguments.length;\n\n      while (++index < length) {\n        var array = arguments[index];\n        if (isArrayLike(array)) {\n          var result = result\n            ? arrayPush(baseDifference(result, array), baseDifference(array, result))\n            : array;\n        }\n      }\n      return result ? baseUniq(result) : [];\n    }\n\n    /**\n     * Creates an array of grouped elements, the first of which contains the first\n     * elements of the given arrays, the second of which contains the second elements\n     * of the given arrays, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zip(['fred', 'barney'], [30, 40], [true, false]);\n     * // => [['fred', 30, true], ['barney', 40, false]]\n     */\n    var zip = restParam(unzip);\n\n    /**\n     * The inverse of `_.pairs`; this method returns an object composed from arrays\n     * of property names and values. Provide either a single two dimensional array,\n     * e.g. `[[key1, value1], [key2, value2]]` or two arrays, one of property names\n     * and one of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @alias object\n     * @category Array\n     * @param {Array} props The property names.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObject([['fred', 30], ['barney', 40]]);\n     * // => { 'fred': 30, 'barney': 40 }\n     *\n     * _.zipObject(['fred', 'barney'], [30, 40]);\n     * // => { 'fred': 30, 'barney': 40 }\n     */\n    function zipObject(props, values) {\n      var index = -1,\n          length = props ? props.length : 0,\n          result = {};\n\n      if (length && !values && !isArray(props[0])) {\n        values = [];\n      }\n      while (++index < length) {\n        var key = props[index];\n        if (values) {\n          result[key] = values[index];\n        } else if (key) {\n          result[key[0]] = key[1];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts an iteratee to specify\n     * how grouped values should be combined. The `iteratee` is bound to `thisArg`\n     * and invoked with four arguments: (accumulator, value, index, group).\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @param {Function} [iteratee] The function to combine grouped values.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zipWith([1, 2], [10, 20], [100, 200], _.add);\n     * // => [111, 222]\n     */\n    var zipWith = restParam(function(arrays) {\n      var length = arrays.length,\n          iteratee = length > 2 ? arrays[length - 2] : undefined,\n          thisArg = length > 1 ? arrays[length - 1] : undefined;\n\n      if (length > 2 && typeof iteratee == 'function') {\n        length -= 2;\n      } else {\n        iteratee = (length > 1 && typeof thisArg == 'function') ? (--length, thisArg) : undefined;\n        thisArg = undefined;\n      }\n      arrays.length = length;\n      return unzipWith(arrays, iteratee, thisArg);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object that wraps `value` with explicit method\n     * chaining enabled.\n     *\n     * @static\n     * @memberOf _\n     * @category Chain\n     * @param {*} value The value to wrap.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36 },\n     *   { 'user': 'fred',    'age': 40 },\n     *   { 'user': 'pebbles', 'age': 1 }\n     * ];\n     *\n     * var youngest = _.chain(users)\n     *   .sortBy('age')\n     *   .map(function(chr) {\n     *     return chr.user + ' is ' + chr.age;\n     *   })\n     *   .first()\n     *   .value();\n     * // => 'pebbles is 1'\n     */\n    function chain(value) {\n      var result = lodash(value);\n      result.__chain__ = true;\n      return result;\n    }\n\n    /**\n     * This method invokes `interceptor` and returns `value`. The interceptor is\n     * bound to `thisArg` and invoked with one argument; (value). The purpose of\n     * this method is to \"tap into\" a method chain in order to perform operations\n     * on intermediate results within the chain.\n     *\n     * @static\n     * @memberOf _\n     * @category Chain\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @param {*} [thisArg] The `this` binding of `interceptor`.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * _([1, 2, 3])\n     *  .tap(function(array) {\n     *    array.pop();\n     *  })\n     *  .reverse()\n     *  .value();\n     * // => [2, 1]\n     */\n    function tap(value, interceptor, thisArg) {\n      interceptor.call(thisArg, value);\n      return value;\n    }\n\n    /**\n     * This method is like `_.tap` except that it returns the result of `interceptor`.\n     *\n     * @static\n     * @memberOf _\n     * @category Chain\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @param {*} [thisArg] The `this` binding of `interceptor`.\n     * @returns {*} Returns the result of `interceptor`.\n     * @example\n     *\n     * _('  abc  ')\n     *  .chain()\n     *  .trim()\n     *  .thru(function(value) {\n     *    return [value];\n     *  })\n     *  .value();\n     * // => ['abc']\n     */\n    function thru(value, interceptor, thisArg) {\n      return interceptor.call(thisArg, value);\n    }\n\n    /**\n     * Enables explicit method chaining on the wrapper object.\n     *\n     * @name chain\n     * @memberOf _\n     * @category Chain\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // without explicit chaining\n     * _(users).first();\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // with explicit chaining\n     * _(users).chain()\n     *   .first()\n     *   .pick('user')\n     *   .value();\n     * // => { 'user': 'barney' }\n     */\n    function wrapperChain() {\n      return chain(this);\n    }\n\n    /**\n     * Executes the chained sequence and returns the wrapped result.\n     *\n     * @name commit\n     * @memberOf _\n     * @category Chain\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapped = _(array).push(3);\n     *\n     * console.log(array);\n     * // => [1, 2]\n     *\n     * wrapped = wrapped.commit();\n     * console.log(array);\n     * // => [1, 2, 3]\n     *\n     * wrapped.last();\n     * // => 3\n     *\n     * console.log(array);\n     * // => [1, 2, 3]\n     */\n    function wrapperCommit() {\n      return new LodashWrapper(this.value(), this.__chain__);\n    }\n\n    /**\n     * Creates a new array joining a wrapped array with any additional arrays\n     * and/or values.\n     *\n     * @name concat\n     * @memberOf _\n     * @category Chain\n     * @param {...*} [values] The values to concatenate.\n     * @returns {Array} Returns the new concatenated array.\n     * @example\n     *\n     * var array = [1];\n     * var wrapped = _(array).concat(2, [3], [[4]]);\n     *\n     * console.log(wrapped.value());\n     * // => [1, 2, 3, [4]]\n     *\n     * console.log(array);\n     * // => [1]\n     */\n    var wrapperConcat = restParam(function(values) {\n      values = baseFlatten(values);\n      return this.thru(function(array) {\n        return arrayConcat(isArray(array) ? array : [toObject(array)], values);\n      });\n    });\n\n    /**\n     * Creates a clone of the chained sequence planting `value` as the wrapped value.\n     *\n     * @name plant\n     * @memberOf _\n     * @category Chain\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapped = _(array).map(function(value) {\n     *   return Math.pow(value, 2);\n     * });\n     *\n     * var other = [3, 4];\n     * var otherWrapped = wrapped.plant(other);\n     *\n     * otherWrapped.value();\n     * // => [9, 16]\n     *\n     * wrapped.value();\n     * // => [1, 4]\n     */\n    function wrapperPlant(value) {\n      var result,\n          parent = this;\n\n      while (parent instanceof baseLodash) {\n        var clone = wrapperClone(parent);\n        if (result) {\n          previous.__wrapped__ = clone;\n        } else {\n          result = clone;\n        }\n        var previous = clone;\n        parent = parent.__wrapped__;\n      }\n      previous.__wrapped__ = value;\n      return result;\n    }\n\n    /**\n     * Reverses the wrapped array so the first element becomes the last, the\n     * second element becomes the second to last, and so on.\n     *\n     * **Note:** This method mutates the wrapped array.\n     *\n     * @name reverse\n     * @memberOf _\n     * @category Chain\n     * @returns {Object} Returns the new reversed `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _(array).reverse().value()\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function wrapperReverse() {\n      var value = this.__wrapped__;\n\n      var interceptor = function(value) {\n        return value.reverse();\n      };\n      if (value instanceof LazyWrapper) {\n        var wrapped = value;\n        if (this.__actions__.length) {\n          wrapped = new LazyWrapper(this);\n        }\n        wrapped = wrapped.reverse();\n        wrapped.__actions__.push({ 'func': thru, 'args': [interceptor], 'thisArg': undefined });\n        return new LodashWrapper(wrapped, this.__chain__);\n      }\n      return this.thru(interceptor);\n    }\n\n    /**\n     * Produces the result of coercing the unwrapped value to a string.\n     *\n     * @name toString\n     * @memberOf _\n     * @category Chain\n     * @returns {string} Returns the coerced string value.\n     * @example\n     *\n     * _([1, 2, 3]).toString();\n     * // => '1,2,3'\n     */\n    function wrapperToString() {\n      return (this.value() + '');\n    }\n\n    /**\n     * Executes the chained sequence to extract the unwrapped value.\n     *\n     * @name value\n     * @memberOf _\n     * @alias run, toJSON, valueOf\n     * @category Chain\n     * @returns {*} Returns the resolved unwrapped value.\n     * @example\n     *\n     * _([1, 2, 3]).value();\n     * // => [1, 2, 3]\n     */\n    function wrapperValue() {\n      return baseWrapperValue(this.__wrapped__, this.__actions__);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements corresponding to the given keys, or indexes,\n     * of `collection`. Keys may be specified as individual arguments or as arrays\n     * of keys.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {...(number|number[]|string|string[])} [props] The property names\n     *  or indexes of elements to pick, specified individually or in arrays.\n     * @returns {Array} Returns the new array of picked elements.\n     * @example\n     *\n     * _.at(['a', 'b', 'c'], [0, 2]);\n     * // => ['a', 'c']\n     *\n     * _.at(['barney', 'fred', 'pebbles'], 0, 2);\n     * // => ['barney', 'pebbles']\n     */\n    var at = restParam(function(collection, props) {\n      if (isArrayLike(collection)) {\n        collection = toIterable(collection);\n      }\n      return baseAt(collection, baseFlatten(props));\n    });\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` through `iteratee`. The corresponding value\n     * of each key is the number of times the key was returned by `iteratee`.\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.countBy([4.3, 6.1, 6.4], function(n) {\n     *   return Math.floor(n);\n     * });\n     * // => { '4': 1, '6': 2 }\n     *\n     * _.countBy([4.3, 6.1, 6.4], function(n) {\n     *   return this.floor(n);\n     * }, Math);\n     * // => { '4': 1, '6': 2 }\n     *\n     * _.countBy(['one', 'two', 'three'], 'length');\n     * // => { '3': 2, '5': 1 }\n     */\n    var countBy = createAggregator(function(result, value, key) {\n      hasOwnProperty.call(result, key) ? ++result[key] : (result[key] = 1);\n    });\n\n    /**\n     * Checks if `predicate` returns truthy for **all** elements of `collection`.\n     * The predicate is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias all\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.every([true, 1, null, 'yes'], Boolean);\n     * // => false\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': false },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.every(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.every(users, 'active', false);\n     * // => true\n     *\n     * // using the `_.property` callback shorthand\n     * _.every(users, 'active');\n     * // => false\n     */\n    function every(collection, predicate, thisArg) {\n      var func = isArray(collection) ? arrayEvery : baseEvery;\n      if (thisArg && isIterateeCall(collection, predicate, thisArg)) {\n        predicate = undefined;\n      }\n      if (typeof predicate != 'function' || thisArg !== undefined) {\n        predicate = getCallback(predicate, thisArg, 3);\n      }\n      return func(collection, predicate);\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning an array of all elements\n     * `predicate` returns truthy for. The predicate is bound to `thisArg` and\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias select\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the new filtered array.\n     * @example\n     *\n     * _.filter([4, 5, 6], function(n) {\n     *   return n % 2 == 0;\n     * });\n     * // => [4, 6]\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.filter(users, { 'age': 36, 'active': true }), 'user');\n     * // => ['barney']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.filter(users, 'active', false), 'user');\n     * // => ['fred']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.filter(users, 'active'), 'user');\n     * // => ['barney']\n     */\n    function filter(collection, predicate, thisArg) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      predicate = getCallback(predicate, thisArg, 3);\n      return func(collection, predicate);\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning the first element\n     * `predicate` returns truthy for. The predicate is bound to `thisArg` and\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias detect\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': true },\n     *   { 'user': 'fred',    'age': 40, 'active': false },\n     *   { 'user': 'pebbles', 'age': 1,  'active': true }\n     * ];\n     *\n     * _.result(_.find(users, function(chr) {\n     *   return chr.age < 40;\n     * }), 'user');\n     * // => 'barney'\n     *\n     * // using the `_.matches` callback shorthand\n     * _.result(_.find(users, { 'age': 1, 'active': true }), 'user');\n     * // => 'pebbles'\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.result(_.find(users, 'active', false), 'user');\n     * // => 'fred'\n     *\n     * // using the `_.property` callback shorthand\n     * _.result(_.find(users, 'active'), 'user');\n     * // => 'barney'\n     */\n    var find = createFind(baseEach);\n\n    /**\n     * This method is like `_.find` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * _.findLast([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 1;\n     * });\n     * // => 3\n     */\n    var findLast = createFind(baseEachRight, true);\n\n    /**\n     * Performs a deep comparison between each element in `collection` and the\n     * source object, returning the first element that has equivalent property\n     * values.\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties. For comparing a single\n     * own or inherited property value see `_.matchesProperty`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Object} source The object of property values to match.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.result(_.findWhere(users, { 'age': 36, 'active': true }), 'user');\n     * // => 'barney'\n     *\n     * _.result(_.findWhere(users, { 'age': 40, 'active': false }), 'user');\n     * // => 'fred'\n     */\n    function findWhere(collection, source) {\n      return find(collection, baseMatches(source));\n    }\n\n    /**\n     * Iterates over elements of `collection` invoking `iteratee` for each element.\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection). Iteratee functions may exit iteration early\n     * by explicitly returning `false`.\n     *\n     * **Note:** As with other \"Collections\" methods, objects with a \"length\" property\n     * are iterated like arrays. To avoid this behavior `_.forIn` or `_.forOwn`\n     * may be used for object iteration.\n     *\n     * @static\n     * @memberOf _\n     * @alias each\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array|Object|string} Returns `collection`.\n     * @example\n     *\n     * _([1, 2]).forEach(function(n) {\n     *   console.log(n);\n     * }).value();\n     * // => logs each value from left to right and returns the array\n     *\n     * _.forEach({ 'a': 1, 'b': 2 }, function(n, key) {\n     *   console.log(n, key);\n     * });\n     * // => logs each value-key pair and returns the object (iteration order is not guaranteed)\n     */\n    var forEach = createForEach(arrayEach, baseEach);\n\n    /**\n     * This method is like `_.forEach` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @alias eachRight\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array|Object|string} Returns `collection`.\n     * @example\n     *\n     * _([1, 2]).forEachRight(function(n) {\n     *   console.log(n);\n     * }).value();\n     * // => logs each value from right to left and returns the array\n     */\n    var forEachRight = createForEach(arrayEachRight, baseEachRight);\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` through `iteratee`. The corresponding value\n     * of each key is an array of the elements responsible for generating the key.\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.groupBy([4.2, 6.1, 6.4], function(n) {\n     *   return Math.floor(n);\n     * });\n     * // => { '4': [4.2], '6': [6.1, 6.4] }\n     *\n     * _.groupBy([4.2, 6.1, 6.4], function(n) {\n     *   return this.floor(n);\n     * }, Math);\n     * // => { '4': [4.2], '6': [6.1, 6.4] }\n     *\n     * // using the `_.property` callback shorthand\n     * _.groupBy(['one', 'two', 'three'], 'length');\n     * // => { '3': ['one', 'two'], '5': ['three'] }\n     */\n    var groupBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        result[key].push(value);\n      } else {\n        result[key] = [value];\n      }\n    });\n\n    /**\n     * Checks if `target` is in `collection` using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n     * for equality comparisons. If `fromIndex` is negative, it's used as the offset\n     * from the end of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @alias contains, include\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {*} target The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.reduce`.\n     * @returns {boolean} Returns `true` if a matching element is found, else `false`.\n     * @example\n     *\n     * _.includes([1, 2, 3], 1);\n     * // => true\n     *\n     * _.includes([1, 2, 3], 1, 2);\n     * // => false\n     *\n     * _.includes({ 'user': 'fred', 'age': 40 }, 'fred');\n     * // => true\n     *\n     * _.includes('pebbles', 'eb');\n     * // => true\n     */\n    function includes(collection, target, fromIndex, guard) {\n      var length = collection ? getLength(collection) : 0;\n      if (!isLength(length)) {\n        collection = values(collection);\n        length = collection.length;\n      }\n      if (typeof fromIndex != 'number' || (guard && isIterateeCall(target, fromIndex, guard))) {\n        fromIndex = 0;\n      } else {\n        fromIndex = fromIndex < 0 ? nativeMax(length + fromIndex, 0) : (fromIndex || 0);\n      }\n      return (typeof collection == 'string' || !isArray(collection) && isString(collection))\n        ? (fromIndex <= length && collection.indexOf(target, fromIndex) > -1)\n        : (!!length && getIndexOf(collection, target, fromIndex) > -1);\n    }\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` through `iteratee`. The corresponding value\n     * of each key is the last element responsible for generating the key. The\n     * iteratee function is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * var keyData = [\n     *   { 'dir': 'left', 'code': 97 },\n     *   { 'dir': 'right', 'code': 100 }\n     * ];\n     *\n     * _.indexBy(keyData, 'dir');\n     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.indexBy(keyData, function(object) {\n     *   return String.fromCharCode(object.code);\n     * });\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.indexBy(keyData, function(object) {\n     *   return this.fromCharCode(object.code);\n     * }, String);\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     */\n    var indexBy = createAggregator(function(result, value, key) {\n      result[key] = value;\n    });\n\n    /**\n     * Invokes the method at `path` of each element in `collection`, returning\n     * an array of the results of each invoked method. Any additional arguments\n     * are provided to each invoked method. If `methodName` is a function it's\n     * invoked for, and `this` bound to, each element in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Array|Function|string} path The path of the method to invoke or\n     *  the function invoked per iteration.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.invoke([[5, 1, 7], [3, 2, 1]], 'sort');\n     * // => [[1, 5, 7], [1, 2, 3]]\n     *\n     * _.invoke([123, 456], String.prototype.split, '');\n     * // => [['1', '2', '3'], ['4', '5', '6']]\n     */\n    var invoke = restParam(function(collection, path, args) {\n      var index = -1,\n          isFunc = typeof path == 'function',\n          isProp = isKey(path),\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value) {\n        var func = isFunc ? path : ((isProp && value != null) ? value[path] : undefined);\n        result[++index] = func ? func.apply(value, args) : invokePath(value, path, args);\n      });\n      return result;\n    });\n\n    /**\n     * Creates an array of values by running each element in `collection` through\n     * `iteratee`. The `iteratee` is bound to `thisArg` and invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n     *\n     * The guarded methods are:\n     * `ary`, `callback`, `chunk`, `clone`, `create`, `curry`, `curryRight`,\n     * `drop`, `dropRight`, `every`, `fill`, `flatten`, `invert`, `max`, `min`,\n     * `parseInt`, `slice`, `sortBy`, `take`, `takeRight`, `template`, `trim`,\n     * `trimLeft`, `trimRight`, `trunc`, `random`, `range`, `sample`, `some`,\n     * `sum`, `uniq`, and `words`\n     *\n     * @static\n     * @memberOf _\n     * @alias collect\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new mapped array.\n     * @example\n     *\n     * function timesThree(n) {\n     *   return n * 3;\n     * }\n     *\n     * _.map([1, 2], timesThree);\n     * // => [3, 6]\n     *\n     * _.map({ 'a': 1, 'b': 2 }, timesThree);\n     * // => [3, 6] (iteration order is not guaranteed)\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * // using the `_.property` callback shorthand\n     * _.map(users, 'user');\n     * // => ['barney', 'fred']\n     */\n    function map(collection, iteratee, thisArg) {\n      var func = isArray(collection) ? arrayMap : baseMap;\n      iteratee = getCallback(iteratee, thisArg, 3);\n      return func(collection, iteratee);\n    }\n\n    /**\n     * Creates an array of elements split into two groups, the first of which\n     * contains elements `predicate` returns truthy for, while the second of which\n     * contains elements `predicate` returns falsey for. The predicate is bound\n     * to `thisArg` and invoked with three arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the array of grouped elements.\n     * @example\n     *\n     * _.partition([1, 2, 3], function(n) {\n     *   return n % 2;\n     * });\n     * // => [[1, 3], [2]]\n     *\n     * _.partition([1.2, 2.3, 3.4], function(n) {\n     *   return this.floor(n) % 2;\n     * }, Math);\n     * // => [[1.2, 3.4], [2.3]]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': false },\n     *   { 'user': 'fred',    'age': 40, 'active': true },\n     *   { 'user': 'pebbles', 'age': 1,  'active': false }\n     * ];\n     *\n     * var mapper = function(array) {\n     *   return _.pluck(array, 'user');\n     * };\n     *\n     * // using the `_.matches` callback shorthand\n     * _.map(_.partition(users, { 'age': 1, 'active': false }), mapper);\n     * // => [['pebbles'], ['barney', 'fred']]\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.map(_.partition(users, 'active', false), mapper);\n     * // => [['barney', 'pebbles'], ['fred']]\n     *\n     * // using the `_.property` callback shorthand\n     * _.map(_.partition(users, 'active'), mapper);\n     * // => [['fred'], ['barney', 'pebbles']]\n     */\n    var partition = createAggregator(function(result, value, key) {\n      result[key ? 0 : 1].push(value);\n    }, function() { return [[], []]; });\n\n    /**\n     * Gets the property value of `path` from all elements in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Array|string} path The path of the property to pluck.\n     * @returns {Array} Returns the property values.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * _.pluck(users, 'user');\n     * // => ['barney', 'fred']\n     *\n     * var userIndex = _.indexBy(users, 'user');\n     * _.pluck(userIndex, 'age');\n     * // => [36, 40] (iteration order is not guaranteed)\n     */\n    function pluck(collection, path) {\n      return map(collection, property(path));\n    }\n\n    /**\n     * Reduces `collection` to a value which is the accumulated result of running\n     * each element in `collection` through `iteratee`, where each successive\n     * invocation is supplied the return value of the previous. If `accumulator`\n     * is not provided the first element of `collection` is used as the initial\n     * value. The `iteratee` is bound to `thisArg` and invoked with four arguments:\n     * (accumulator, value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.reduce`, `_.reduceRight`, and `_.transform`.\n     *\n     * The guarded methods are:\n     * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `sortByAll`,\n     * and `sortByOrder`\n     *\n     * @static\n     * @memberOf _\n     * @alias foldl, inject\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.reduce([1, 2], function(total, n) {\n     *   return total + n;\n     * });\n     * // => 3\n     *\n     * _.reduce({ 'a': 1, 'b': 2 }, function(result, n, key) {\n     *   result[key] = n * 3;\n     *   return result;\n     * }, {});\n     * // => { 'a': 3, 'b': 6 } (iteration order is not guaranteed)\n     */\n    var reduce = createReduce(arrayReduce, baseEach);\n\n    /**\n     * This method is like `_.reduce` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @alias foldr\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * var array = [[0, 1], [2, 3], [4, 5]];\n     *\n     * _.reduceRight(array, function(flattened, other) {\n     *   return flattened.concat(other);\n     * }, []);\n     * // => [4, 5, 2, 3, 0, 1]\n     */\n    var reduceRight = createReduce(arrayReduceRight, baseEachRight);\n\n    /**\n     * The opposite of `_.filter`; this method returns the elements of `collection`\n     * that `predicate` does **not** return truthy for.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the new filtered array.\n     * @example\n     *\n     * _.reject([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 0;\n     * });\n     * // => [1, 3]\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': true }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.reject(users, { 'age': 40, 'active': true }), 'user');\n     * // => ['barney']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.reject(users, 'active', false), 'user');\n     * // => ['fred']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.reject(users, 'active'), 'user');\n     * // => ['barney']\n     */\n    function reject(collection, predicate, thisArg) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      predicate = getCallback(predicate, thisArg, 3);\n      return func(collection, function(value, index, collection) {\n        return !predicate(value, index, collection);\n      });\n    }\n\n    /**\n     * Gets a random element or `n` random elements from a collection.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to sample.\n     * @param {number} [n] The number of elements to sample.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {*} Returns the random sample(s).\n     * @example\n     *\n     * _.sample([1, 2, 3, 4]);\n     * // => 2\n     *\n     * _.sample([1, 2, 3, 4], 2);\n     * // => [3, 1]\n     */\n    function sample(collection, n, guard) {\n      if (guard ? isIterateeCall(collection, n, guard) : n == null) {\n        collection = toIterable(collection);\n        var length = collection.length;\n        return length > 0 ? collection[baseRandom(0, length - 1)] : undefined;\n      }\n      var index = -1,\n          result = toArray(collection),\n          length = result.length,\n          lastIndex = length - 1;\n\n      n = nativeMin(n < 0 ? 0 : (+n || 0), length);\n      while (++index < n) {\n        var rand = baseRandom(index, lastIndex),\n            value = result[rand];\n\n        result[rand] = result[index];\n        result[index] = value;\n      }\n      result.length = n;\n      return result;\n    }\n\n    /**\n     * Creates an array of shuffled values, using a version of the\n     * [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher-Yates_shuffle).\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     * @example\n     *\n     * _.shuffle([1, 2, 3, 4]);\n     * // => [4, 1, 3, 2]\n     */\n    function shuffle(collection) {\n      return sample(collection, POSITIVE_INFINITY);\n    }\n\n    /**\n     * Gets the size of `collection` by returning its length for array-like\n     * values or the number of own enumerable properties for objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @returns {number} Returns the size of `collection`.\n     * @example\n     *\n     * _.size([1, 2, 3]);\n     * // => 3\n     *\n     * _.size({ 'a': 1, 'b': 2 });\n     * // => 2\n     *\n     * _.size('pebbles');\n     * // => 7\n     */\n    function size(collection) {\n      var length = collection ? getLength(collection) : 0;\n      return isLength(length) ? length : keys(collection).length;\n    }\n\n    /**\n     * Checks if `predicate` returns truthy for **any** element of `collection`.\n     * The function returns as soon as it finds a passing value and does not iterate\n     * over the entire collection. The predicate is bound to `thisArg` and invoked\n     * with three arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias any\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.some([null, 0, 'yes', false], Boolean);\n     * // => true\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': true },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.some(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.some(users, 'active', false);\n     * // => true\n     *\n     * // using the `_.property` callback shorthand\n     * _.some(users, 'active');\n     * // => true\n     */\n    function some(collection, predicate, thisArg) {\n      var func = isArray(collection) ? arraySome : baseSome;\n      if (thisArg && isIterateeCall(collection, predicate, thisArg)) {\n        predicate = undefined;\n      }\n      if (typeof predicate != 'function' || thisArg !== undefined) {\n        predicate = getCallback(predicate, thisArg, 3);\n      }\n      return func(collection, predicate);\n    }\n\n    /**\n     * Creates an array of elements, sorted in ascending order by the results of\n     * running each element in a collection through `iteratee`. This method performs\n     * a stable sort, that is, it preserves the original sort order of equal elements.\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * _.sortBy([1, 2, 3], function(n) {\n     *   return Math.sin(n);\n     * });\n     * // => [3, 1, 2]\n     *\n     * _.sortBy([1, 2, 3], function(n) {\n     *   return this.sin(n);\n     * }, Math);\n     * // => [3, 1, 2]\n     *\n     * var users = [\n     *   { 'user': 'fred' },\n     *   { 'user': 'pebbles' },\n     *   { 'user': 'barney' }\n     * ];\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.sortBy(users, 'user'), 'user');\n     * // => ['barney', 'fred', 'pebbles']\n     */\n    function sortBy(collection, iteratee, thisArg) {\n      if (collection == null) {\n        return [];\n      }\n      if (thisArg && isIterateeCall(collection, iteratee, thisArg)) {\n        iteratee = undefined;\n      }\n      var index = -1;\n      iteratee = getCallback(iteratee, thisArg, 3);\n\n      var result = baseMap(collection, function(value, key, collection) {\n        return { 'criteria': iteratee(value, key, collection), 'index': ++index, 'value': value };\n      });\n      return baseSortBy(result, compareAscending);\n    }\n\n    /**\n     * This method is like `_.sortBy` except that it can sort by multiple iteratees\n     * or property names.\n     *\n     * If a property name is provided for an iteratee the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If an object is provided for an iteratee the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {...(Function|Function[]|Object|Object[]|string|string[])} iteratees\n     *  The iteratees to sort by, specified as individual values or arrays of values.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 42 },\n     *   { 'user': 'barney', 'age': 34 }\n     * ];\n     *\n     * _.map(_.sortByAll(users, ['user', 'age']), _.values);\n     * // => [['barney', 34], ['barney', 36], ['fred', 42], ['fred', 48]]\n     *\n     * _.map(_.sortByAll(users, 'user', function(chr) {\n     *   return Math.floor(chr.age / 10);\n     * }), _.values);\n     * // => [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 42]]\n     */\n    var sortByAll = restParam(function(collection, iteratees) {\n      if (collection == null) {\n        return [];\n      }\n      var guard = iteratees[2];\n      if (guard && isIterateeCall(iteratees[0], iteratees[1], guard)) {\n        iteratees.length = 1;\n      }\n      return baseSortByOrder(collection, baseFlatten(iteratees), []);\n    });\n\n    /**\n     * This method is like `_.sortByAll` except that it allows specifying the\n     * sort orders of the iteratees to sort by. If `orders` is unspecified, all\n     * values are sorted in ascending order. Otherwise, a value is sorted in\n     * ascending order if its corresponding order is \"asc\", and descending if \"desc\".\n     *\n     * If a property name is provided for an iteratee the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If an object is provided for an iteratee the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n     * @param {boolean[]} [orders] The sort orders of `iteratees`.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.reduce`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 34 },\n     *   { 'user': 'fred',   'age': 42 },\n     *   { 'user': 'barney', 'age': 36 }\n     * ];\n     *\n     * // sort by `user` in ascending order and by `age` in descending order\n     * _.map(_.sortByOrder(users, ['user', 'age'], ['asc', 'desc']), _.values);\n     * // => [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 42]]\n     */\n    function sortByOrder(collection, iteratees, orders, guard) {\n      if (collection == null) {\n        return [];\n      }\n      if (guard && isIterateeCall(iteratees, orders, guard)) {\n        orders = undefined;\n      }\n      if (!isArray(iteratees)) {\n        iteratees = iteratees == null ? [] : [iteratees];\n      }\n      if (!isArray(orders)) {\n        orders = orders == null ? [] : [orders];\n      }\n      return baseSortByOrder(collection, iteratees, orders);\n    }\n\n    /**\n     * Performs a deep comparison between each element in `collection` and the\n     * source object, returning an array of all elements that have equivalent\n     * property values.\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties. For comparing a single\n     * own or inherited property value see `_.matchesProperty`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Object} source The object of property values to match.\n     * @returns {Array} Returns the new filtered array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false, 'pets': ['hoppy'] },\n     *   { 'user': 'fred',   'age': 40, 'active': true, 'pets': ['baby puss', 'dino'] }\n     * ];\n     *\n     * _.pluck(_.where(users, { 'age': 36, 'active': false }), 'user');\n     * // => ['barney']\n     *\n     * _.pluck(_.where(users, { 'pets': ['dino'] }), 'user');\n     * // => ['fred']\n     */\n    function where(collection, source) {\n      return filter(collection, baseMatches(source));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Gets the number of milliseconds that have elapsed since the Unix epoch\n     * (1 January 1970 00:00:00 UTC).\n     *\n     * @static\n     * @memberOf _\n     * @category Date\n     * @example\n     *\n     * _.defer(function(stamp) {\n     *   console.log(_.now() - stamp);\n     * }, _.now());\n     * // => logs the number of milliseconds it took for the deferred function to be invoked\n     */\n    var now = nativeNow || function() {\n      return new Date().getTime();\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The opposite of `_.before`; this method creates a function that invokes\n     * `func` once it's called `n` or more times.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {number} n The number of calls before `func` is invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var saves = ['profile', 'settings'];\n     *\n     * var done = _.after(saves.length, function() {\n     *   console.log('done saving!');\n     * });\n     *\n     * _.forEach(saves, function(type) {\n     *   asyncSave({ 'type': type, 'complete': done });\n     * });\n     * // => logs 'done saving!' after the two async saves have completed\n     */\n    function after(n, func) {\n      if (typeof func != 'function') {\n        if (typeof n == 'function') {\n          var temp = n;\n          n = func;\n          func = temp;\n        } else {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n      }\n      n = nativeIsFinite(n = +n) ? n : 0;\n      return function() {\n        if (--n < 1) {\n          return func.apply(this, arguments);\n        }\n      };\n    }\n\n    /**\n     * Creates a function that accepts up to `n` arguments ignoring any\n     * additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @param {number} [n=func.length] The arity cap.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.ary(parseInt, 1));\n     * // => [6, 8, 10]\n     */\n    function ary(func, n, guard) {\n      if (guard && isIterateeCall(func, n, guard)) {\n        n = undefined;\n      }\n      n = (func && n == null) ? func.length : nativeMax(+n || 0, 0);\n      return createWrapper(func, ARY_FLAG, undefined, undefined, undefined, undefined, n);\n    }\n\n    /**\n     * Creates a function that invokes `func`, with the `this` binding and arguments\n     * of the created function, while it's called less than `n` times. Subsequent\n     * calls to the created function return the result of the last `func` invocation.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {number} n The number of calls at which `func` is no longer invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * jQuery('#add').on('click', _.before(5, addContactToList));\n     * // => allows adding up to 4 contacts to the list\n     */\n    function before(n, func) {\n      var result;\n      if (typeof func != 'function') {\n        if (typeof n == 'function') {\n          var temp = n;\n          n = func;\n          func = temp;\n        } else {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n      }\n      return function() {\n        if (--n > 0) {\n          result = func.apply(this, arguments);\n        }\n        if (n <= 1) {\n          func = undefined;\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and prepends any additional `_.bind` arguments to those provided to the\n     * bound function.\n     *\n     * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** Unlike native `Function#bind` this method does not set the \"length\"\n     * property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var greet = function(greeting, punctuation) {\n     *   return greeting + ' ' + this.user + punctuation;\n     * };\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * var bound = _.bind(greet, object, 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * // using placeholders\n     * var bound = _.bind(greet, object, _, '!');\n     * bound('hi');\n     * // => 'hi fred!'\n     */\n    var bind = restParam(function(func, thisArg, partials) {\n      var bitmask = BIND_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, bind.placeholder);\n        bitmask |= PARTIAL_FLAG;\n      }\n      return createWrapper(func, bitmask, thisArg, partials, holders);\n    });\n\n    /**\n     * Binds methods of an object to the object itself, overwriting the existing\n     * method. Method names may be specified as individual arguments or as arrays\n     * of method names. If no method names are provided all enumerable function\n     * properties, own and inherited, of `object` are bound.\n     *\n     * **Note:** This method does not set the \"length\" property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Object} object The object to bind and assign the bound methods to.\n     * @param {...(string|string[])} [methodNames] The object method names to bind,\n     *  specified as individual method names or arrays of method names.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'onClick': function() {\n     *     console.log('clicked ' + this.label);\n     *   }\n     * };\n     *\n     * _.bindAll(view);\n     * jQuery('#docs').on('click', view.onClick);\n     * // => logs 'clicked docs' when the element is clicked\n     */\n    var bindAll = restParam(function(object, methodNames) {\n      methodNames = methodNames.length ? baseFlatten(methodNames) : functions(object);\n\n      var index = -1,\n          length = methodNames.length;\n\n      while (++index < length) {\n        var key = methodNames[index];\n        object[key] = createWrapper(object[key], BIND_FLAG, object);\n      }\n      return object;\n    });\n\n    /**\n     * Creates a function that invokes the method at `object[key]` and prepends\n     * any additional `_.bindKey` arguments to those provided to the bound function.\n     *\n     * This method differs from `_.bind` by allowing bound functions to reference\n     * methods that may be redefined or don't yet exist.\n     * See [Peter Michaux's article](http://peter.michaux.ca/articles/lazy-function-definition-pattern)\n     * for more details.\n     *\n     * The `_.bindKey.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Object} object The object the method belongs to.\n     * @param {string} key The key of the method.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var object = {\n     *   'user': 'fred',\n     *   'greet': function(greeting, punctuation) {\n     *     return greeting + ' ' + this.user + punctuation;\n     *   }\n     * };\n     *\n     * var bound = _.bindKey(object, 'greet', 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * object.greet = function(greeting, punctuation) {\n     *   return greeting + 'ya ' + this.user + punctuation;\n     * };\n     *\n     * bound('!');\n     * // => 'hiya fred!'\n     *\n     * // using placeholders\n     * var bound = _.bindKey(object, 'greet', _, '!');\n     * bound('hi');\n     * // => 'hiya fred!'\n     */\n    var bindKey = restParam(function(object, key, partials) {\n      var bitmask = BIND_FLAG | BIND_KEY_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, bindKey.placeholder);\n        bitmask |= PARTIAL_FLAG;\n      }\n      return createWrapper(key, bitmask, object, partials, holders);\n    });\n\n    /**\n     * Creates a function that accepts one or more arguments of `func` that when\n     * called either invokes `func` returning its result, if all `func` arguments\n     * have been provided, or returns a function that accepts one or more of the\n     * remaining `func` arguments, and so on. The arity of `func` may be specified\n     * if `func.length` is not sufficient.\n     *\n     * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method does not set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curry(abc);\n     *\n     * curried(1)(2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // using placeholders\n     * curried(1)(_, 3)(2);\n     * // => [1, 2, 3]\n     */\n    var curry = createCurry(CURRY_FLAG);\n\n    /**\n     * This method is like `_.curry` except that arguments are applied to `func`\n     * in the manner of `_.partialRight` instead of `_.partial`.\n     *\n     * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method does not set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curryRight(abc);\n     *\n     * curried(3)(2)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(2, 3)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // using placeholders\n     * curried(3)(1, _)(2);\n     * // => [1, 2, 3]\n     */\n    var curryRight = createCurry(CURRY_RIGHT_FLAG);\n\n    /**\n     * Creates a debounced function that delays invoking `func` until after `wait`\n     * milliseconds have elapsed since the last time the debounced function was\n     * invoked. The debounced function comes with a `cancel` method to cancel\n     * delayed invocations. Provide an options object to indicate that `func`\n     * should be invoked on the leading and/or trailing edge of the `wait` timeout.\n     * Subsequent calls to the debounced function return the result of the last\n     * `func` invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is invoked\n     * on the trailing edge of the timeout only if the the debounced function is\n     * invoked more than once during the `wait` timeout.\n     *\n     * See [David Corbacho's article](http://drupalmotion.com/article/debounce-and-throttle-visual-explanation)\n     * for details over the differences between `_.debounce` and `_.throttle`.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to debounce.\n     * @param {number} [wait=0] The number of milliseconds to delay.\n     * @param {Object} [options] The options object.\n     * @param {boolean} [options.leading=false] Specify invoking on the leading\n     *  edge of the timeout.\n     * @param {number} [options.maxWait] The maximum time `func` is allowed to be\n     *  delayed before it's invoked.\n     * @param {boolean} [options.trailing=true] Specify invoking on the trailing\n     *  edge of the timeout.\n     * @returns {Function} Returns the new debounced function.\n     * @example\n     *\n     * // avoid costly calculations while the window size is in flux\n     * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n     *\n     * // invoke `sendMail` when the click event is fired, debouncing subsequent calls\n     * jQuery('#postbox').on('click', _.debounce(sendMail, 300, {\n     *   'leading': true,\n     *   'trailing': false\n     * }));\n     *\n     * // ensure `batchLog` is invoked once after 1 second of debounced calls\n     * var source = new EventSource('/stream');\n     * jQuery(source).on('message', _.debounce(batchLog, 250, {\n     *   'maxWait': 1000\n     * }));\n     *\n     * // cancel a debounced call\n     * var todoChanges = _.debounce(batchLog, 1000);\n     * Object.observe(models.todo, todoChanges);\n     *\n     * Object.observe(models, function(changes) {\n     *   if (_.find(changes, { 'user': 'todo', 'type': 'delete'})) {\n     *     todoChanges.cancel();\n     *   }\n     * }, ['delete']);\n     *\n     * // ...at some point `models.todo` is changed\n     * models.todo.completed = true;\n     *\n     * // ...before 1 second has passed `models.todo` is deleted\n     * // which cancels the debounced `todoChanges` call\n     * delete models.todo;\n     */\n    function debounce(func, wait, options) {\n      var args,\n          maxTimeoutId,\n          result,\n          stamp,\n          thisArg,\n          timeoutId,\n          trailingCall,\n          lastCalled = 0,\n          maxWait = false,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      wait = wait < 0 ? 0 : (+wait || 0);\n      if (options === true) {\n        var leading = true;\n        trailing = false;\n      } else if (isObject(options)) {\n        leading = !!options.leading;\n        maxWait = 'maxWait' in options && nativeMax(+options.maxWait || 0, wait);\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n\n      function cancel() {\n        if (timeoutId) {\n          clearTimeout(timeoutId);\n        }\n        if (maxTimeoutId) {\n          clearTimeout(maxTimeoutId);\n        }\n        lastCalled = 0;\n        maxTimeoutId = timeoutId = trailingCall = undefined;\n      }\n\n      function complete(isCalled, id) {\n        if (id) {\n          clearTimeout(id);\n        }\n        maxTimeoutId = timeoutId = trailingCall = undefined;\n        if (isCalled) {\n          lastCalled = now();\n          result = func.apply(thisArg, args);\n          if (!timeoutId && !maxTimeoutId) {\n            args = thisArg = undefined;\n          }\n        }\n      }\n\n      function delayed() {\n        var remaining = wait - (now() - stamp);\n        if (remaining <= 0 || remaining > wait) {\n          complete(trailingCall, maxTimeoutId);\n        } else {\n          timeoutId = setTimeout(delayed, remaining);\n        }\n      }\n\n      function maxDelayed() {\n        complete(trailing, timeoutId);\n      }\n\n      function debounced() {\n        args = arguments;\n        stamp = now();\n        thisArg = this;\n        trailingCall = trailing && (timeoutId || !leading);\n\n        if (maxWait === false) {\n          var leadingCall = leading && !timeoutId;\n        } else {\n          if (!maxTimeoutId && !leading) {\n            lastCalled = stamp;\n          }\n          var remaining = maxWait - (stamp - lastCalled),\n              isCalled = remaining <= 0 || remaining > maxWait;\n\n          if (isCalled) {\n            if (maxTimeoutId) {\n              maxTimeoutId = clearTimeout(maxTimeoutId);\n            }\n            lastCalled = stamp;\n            result = func.apply(thisArg, args);\n          }\n          else if (!maxTimeoutId) {\n            maxTimeoutId = setTimeout(maxDelayed, remaining);\n          }\n        }\n        if (isCalled && timeoutId) {\n          timeoutId = clearTimeout(timeoutId);\n        }\n        else if (!timeoutId && wait !== maxWait) {\n          timeoutId = setTimeout(delayed, wait);\n        }\n        if (leadingCall) {\n          isCalled = true;\n          result = func.apply(thisArg, args);\n        }\n        if (isCalled && !timeoutId && !maxTimeoutId) {\n          args = thisArg = undefined;\n        }\n        return result;\n      }\n      debounced.cancel = cancel;\n      return debounced;\n    }\n\n    /**\n     * Defers invoking the `func` until the current call stack has cleared. Any\n     * additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to defer.\n     * @param {...*} [args] The arguments to invoke the function with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.defer(function(text) {\n     *   console.log(text);\n     * }, 'deferred');\n     * // logs 'deferred' after one or more milliseconds\n     */\n    var defer = restParam(function(func, args) {\n      return baseDelay(func, 1, args);\n    });\n\n    /**\n     * Invokes `func` after `wait` milliseconds. Any additional arguments are\n     * provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {...*} [args] The arguments to invoke the function with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.delay(function(text) {\n     *   console.log(text);\n     * }, 1000, 'later');\n     * // => logs 'later' after one second\n     */\n    var delay = restParam(function(func, wait, args) {\n      return baseDelay(func, wait, args);\n    });\n\n    /**\n     * Creates a function that returns the result of invoking the provided\n     * functions with the `this` binding of the created function, where each\n     * successive invocation is supplied the return value of the previous.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {...Function} [funcs] Functions to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flow(_.add, square);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flow = createFlow();\n\n    /**\n     * This method is like `_.flow` except that it creates a function that\n     * invokes the provided functions from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @alias backflow, compose\n     * @category Function\n     * @param {...Function} [funcs] Functions to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flowRight(square, _.add);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flowRight = createFlow(true);\n\n    /**\n     * Creates a function that memoizes the result of `func`. If `resolver` is\n     * provided it determines the cache key for storing the result based on the\n     * arguments provided to the memoized function. By default, the first argument\n     * provided to the memoized function is coerced to a string and used as the\n     * cache key. The `func` is invoked with the `this` binding of the memoized\n     * function.\n     *\n     * **Note:** The cache is exposed as the `cache` property on the memoized\n     * function. Its creation may be customized by replacing the `_.memoize.Cache`\n     * constructor with one whose instances implement the [`Map`](http://ecma-international.org/ecma-262/6.0/#sec-properties-of-the-map-prototype-object)\n     * method interface of `get`, `has`, and `set`.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to have its output memoized.\n     * @param {Function} [resolver] The function to resolve the cache key.\n     * @returns {Function} Returns the new memoizing function.\n     * @example\n     *\n     * var upperCase = _.memoize(function(string) {\n     *   return string.toUpperCase();\n     * });\n     *\n     * upperCase('fred');\n     * // => 'FRED'\n     *\n     * // modifying the result cache\n     * upperCase.cache.set('fred', 'BARNEY');\n     * upperCase('fred');\n     * // => 'BARNEY'\n     *\n     * // replacing `_.memoize.Cache`\n     * var object = { 'user': 'fred' };\n     * var other = { 'user': 'barney' };\n     * var identity = _.memoize(_.identity);\n     *\n     * identity(object);\n     * // => { 'user': 'fred' }\n     * identity(other);\n     * // => { 'user': 'fred' }\n     *\n     * _.memoize.Cache = WeakMap;\n     * var identity = _.memoize(_.identity);\n     *\n     * identity(object);\n     * // => { 'user': 'fred' }\n     * identity(other);\n     * // => { 'user': 'barney' }\n     */\n    function memoize(func, resolver) {\n      if (typeof func != 'function' || (resolver && typeof resolver != 'function')) {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var memoized = function() {\n        var args = arguments,\n            key = resolver ? resolver.apply(this, args) : args[0],\n            cache = memoized.cache;\n\n        if (cache.has(key)) {\n          return cache.get(key);\n        }\n        var result = func.apply(this, args);\n        memoized.cache = cache.set(key, result);\n        return result;\n      };\n      memoized.cache = new memoize.Cache;\n      return memoized;\n    }\n\n    /**\n     * Creates a function that runs each argument through a corresponding\n     * transform function.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to wrap.\n     * @param {...(Function|Function[])} [transforms] The functions to transform\n     * arguments, specified as individual functions or arrays of functions.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function doubled(n) {\n     *   return n * 2;\n     * }\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var modded = _.modArgs(function(x, y) {\n     *   return [x, y];\n     * }, square, doubled);\n     *\n     * modded(1, 2);\n     * // => [1, 4]\n     *\n     * modded(5, 10);\n     * // => [25, 20]\n     */\n    var modArgs = restParam(function(func, transforms) {\n      transforms = baseFlatten(transforms);\n      if (typeof func != 'function' || !arrayEvery(transforms, baseIsFunction)) {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var length = transforms.length;\n      return restParam(function(args) {\n        var index = nativeMin(args.length, length);\n        while (index--) {\n          args[index] = transforms[index](args[index]);\n        }\n        return func.apply(this, args);\n      });\n    });\n\n    /**\n     * Creates a function that negates the result of the predicate `func`. The\n     * `func` predicate is invoked with the `this` binding and arguments of the\n     * created function.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} predicate The predicate to negate.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function isEven(n) {\n     *   return n % 2 == 0;\n     * }\n     *\n     * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n     * // => [1, 3, 5]\n     */\n    function negate(predicate) {\n      if (typeof predicate != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function() {\n        return !predicate.apply(this, arguments);\n      };\n    }\n\n    /**\n     * Creates a function that is restricted to invoking `func` once. Repeat calls\n     * to the function return the value of the first call. The `func` is invoked\n     * with the `this` binding and arguments of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var initialize = _.once(createApplication);\n     * initialize();\n     * initialize();\n     * // `initialize` invokes `createApplication` once\n     */\n    function once(func) {\n      return before(2, func);\n    }\n\n    /**\n     * Creates a function that invokes `func` with `partial` arguments prepended\n     * to those provided to the new function. This method is like `_.bind` except\n     * it does **not** alter the `this` binding.\n     *\n     * The `_.partial.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method does not set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * var greet = function(greeting, name) {\n     *   return greeting + ' ' + name;\n     * };\n     *\n     * var sayHelloTo = _.partial(greet, 'hello');\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     *\n     * // using placeholders\n     * var greetFred = _.partial(greet, _, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     */\n    var partial = createPartial(PARTIAL_FLAG);\n\n    /**\n     * This method is like `_.partial` except that partially applied arguments\n     * are appended to those provided to the new function.\n     *\n     * The `_.partialRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method does not set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * var greet = function(greeting, name) {\n     *   return greeting + ' ' + name;\n     * };\n     *\n     * var greetFred = _.partialRight(greet, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     *\n     * // using placeholders\n     * var sayHelloTo = _.partialRight(greet, 'hello', _);\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     */\n    var partialRight = createPartial(PARTIAL_RIGHT_FLAG);\n\n    /**\n     * Creates a function that invokes `func` with arguments arranged according\n     * to the specified indexes where the argument value at the first index is\n     * provided as the first argument, the argument value at the second index is\n     * provided as the second argument, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to rearrange arguments for.\n     * @param {...(number|number[])} indexes The arranged argument indexes,\n     *  specified as individual indexes or arrays of indexes.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var rearged = _.rearg(function(a, b, c) {\n     *   return [a, b, c];\n     * }, 2, 0, 1);\n     *\n     * rearged('b', 'c', 'a')\n     * // => ['a', 'b', 'c']\n     *\n     * var map = _.rearg(_.map, [1, 0]);\n     * map(function(n) {\n     *   return n * 3;\n     * }, [1, 2, 3]);\n     * // => [3, 6, 9]\n     */\n    var rearg = restParam(function(func, indexes) {\n      return createWrapper(func, REARG_FLAG, undefined, undefined, undefined, baseFlatten(indexes));\n    });\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * created function and arguments from `start` and beyond provided as an array.\n     *\n     * **Note:** This method is based on the [rest parameter](https://developer.mozilla.org/Web/JavaScript/Reference/Functions/rest_parameters).\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.restParam(function(what, names) {\n     *   return what + ' ' + _.initial(names).join(', ') +\n     *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n     * });\n     *\n     * say('hello', 'fred', 'barney', 'pebbles');\n     * // => 'hello fred, barney, & pebbles'\n     */\n    function restParam(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = nativeMax(start === undefined ? (func.length - 1) : (+start || 0), 0);\n      return function() {\n        var args = arguments,\n            index = -1,\n            length = nativeMax(args.length - start, 0),\n            rest = Array(length);\n\n        while (++index < length) {\n          rest[index] = args[start + index];\n        }\n        switch (start) {\n          case 0: return func.call(this, rest);\n          case 1: return func.call(this, args[0], rest);\n          case 2: return func.call(this, args[0], args[1], rest);\n        }\n        var otherArgs = Array(start + 1);\n        index = -1;\n        while (++index < start) {\n          otherArgs[index] = args[index];\n        }\n        otherArgs[start] = rest;\n        return func.apply(this, otherArgs);\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the created\n     * function and an array of arguments much like [`Function#apply`](https://es5.github.io/#x15.3.4.3).\n     *\n     * **Note:** This method is based on the [spread operator](https://developer.mozilla.org/Web/JavaScript/Reference/Operators/Spread_operator).\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to spread arguments over.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.spread(function(who, what) {\n     *   return who + ' says ' + what;\n     * });\n     *\n     * say(['fred', 'hello']);\n     * // => 'fred says hello'\n     *\n     * // with a Promise\n     * var numbers = Promise.all([\n     *   Promise.resolve(40),\n     *   Promise.resolve(36)\n     * ]);\n     *\n     * numbers.then(_.spread(function(x, y) {\n     *   return x + y;\n     * }));\n     * // => a Promise of 76\n     */\n    function spread(func) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function(array) {\n        return func.apply(this, array);\n      };\n    }\n\n    /**\n     * Creates a throttled function that only invokes `func` at most once per\n     * every `wait` milliseconds. The throttled function comes with a `cancel`\n     * method to cancel delayed invocations. Provide an options object to indicate\n     * that `func` should be invoked on the leading and/or trailing edge of the\n     * `wait` timeout. Subsequent calls to the throttled function return the\n     * result of the last `func` call.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is invoked\n     * on the trailing edge of the timeout only if the the throttled function is\n     * invoked more than once during the `wait` timeout.\n     *\n     * See [David Corbacho's article](http://drupalmotion.com/article/debounce-and-throttle-visual-explanation)\n     * for details over the differences between `_.throttle` and `_.debounce`.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to throttle.\n     * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n     * @param {Object} [options] The options object.\n     * @param {boolean} [options.leading=true] Specify invoking on the leading\n     *  edge of the timeout.\n     * @param {boolean} [options.trailing=true] Specify invoking on the trailing\n     *  edge of the timeout.\n     * @returns {Function} Returns the new throttled function.\n     * @example\n     *\n     * // avoid excessively updating the position while scrolling\n     * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n     *\n     * // invoke `renewToken` when the click event is fired, but not more than once every 5 minutes\n     * jQuery('.interactive').on('click', _.throttle(renewToken, 300000, {\n     *   'trailing': false\n     * }));\n     *\n     * // cancel a trailing throttled call\n     * jQuery(window).on('popstate', throttled.cancel);\n     */\n    function throttle(func, wait, options) {\n      var leading = true,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (options === false) {\n        leading = false;\n      } else if (isObject(options)) {\n        leading = 'leading' in options ? !!options.leading : leading;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n      return debounce(func, wait, { 'leading': leading, 'maxWait': +wait, 'trailing': trailing });\n    }\n\n    /**\n     * Creates a function that provides `value` to the wrapper function as its\n     * first argument. Any additional arguments provided to the function are\n     * appended to those provided to the wrapper function. The wrapper is invoked\n     * with the `this` binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {*} value The value to wrap.\n     * @param {Function} wrapper The wrapper function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var p = _.wrap(_.escape, function(func, text) {\n     *   return '<p>' + func(text) + '</p>';\n     * });\n     *\n     * p('fred, barney, & pebbles');\n     * // => '<p>fred, barney, &amp; pebbles</p>'\n     */\n    function wrap(value, wrapper) {\n      wrapper = wrapper == null ? identity : wrapper;\n      return createWrapper(wrapper, PARTIAL_FLAG, undefined, [value], []);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a clone of `value`. If `isDeep` is `true` nested objects are cloned,\n     * otherwise they are assigned by reference. If `customizer` is provided it's\n     * invoked to produce the cloned values. If `customizer` returns `undefined`\n     * cloning is handled by the method instead. The `customizer` is bound to\n     * `thisArg` and invoked with up to three argument; (value [, index|key, object]).\n     *\n     * **Note:** This method is loosely based on the\n     * [structured clone algorithm](http://www.w3.org/TR/html5/infrastructure.html#internal-structured-cloning-algorithm).\n     * The enumerable properties of `arguments` objects and objects created by\n     * constructors other than `Object` are cloned to plain `Object` objects. An\n     * empty object is returned for uncloneable values such as functions, DOM nodes,\n     * Maps, Sets, and WeakMaps.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @param {Function} [customizer] The function to customize cloning values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {*} Returns the cloned value.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * var shallow = _.clone(users);\n     * shallow[0] === users[0];\n     * // => true\n     *\n     * var deep = _.clone(users, true);\n     * deep[0] === users[0];\n     * // => false\n     *\n     * // using a customizer callback\n     * var el = _.clone(document.body, function(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(false);\n     *   }\n     * });\n     *\n     * el === document.body\n     * // => false\n     * el.nodeName\n     * // => BODY\n     * el.childNodes.length;\n     * // => 0\n     */\n    function clone(value, isDeep, customizer, thisArg) {\n      if (isDeep && typeof isDeep != 'boolean' && isIterateeCall(value, isDeep, customizer)) {\n        isDeep = false;\n      }\n      else if (typeof isDeep == 'function') {\n        thisArg = customizer;\n        customizer = isDeep;\n        isDeep = false;\n      }\n      return typeof customizer == 'function'\n        ? baseClone(value, isDeep, bindCallback(customizer, thisArg, 3))\n        : baseClone(value, isDeep);\n    }\n\n    /**\n     * Creates a deep clone of `value`. If `customizer` is provided it's invoked\n     * to produce the cloned values. If `customizer` returns `undefined` cloning\n     * is handled by the method instead. The `customizer` is bound to `thisArg`\n     * and invoked with up to three argument; (value [, index|key, object]).\n     *\n     * **Note:** This method is loosely based on the\n     * [structured clone algorithm](http://www.w3.org/TR/html5/infrastructure.html#internal-structured-cloning-algorithm).\n     * The enumerable properties of `arguments` objects and objects created by\n     * constructors other than `Object` are cloned to plain `Object` objects. An\n     * empty object is returned for uncloneable values such as functions, DOM nodes,\n     * Maps, Sets, and WeakMaps.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to deep clone.\n     * @param {Function} [customizer] The function to customize cloning values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {*} Returns the deep cloned value.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * var deep = _.cloneDeep(users);\n     * deep[0] === users[0];\n     * // => false\n     *\n     * // using a customizer callback\n     * var el = _.cloneDeep(document.body, function(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(true);\n     *   }\n     * });\n     *\n     * el === document.body\n     * // => false\n     * el.nodeName\n     * // => BODY\n     * el.childNodes.length;\n     * // => 20\n     */\n    function cloneDeep(value, customizer, thisArg) {\n      return typeof customizer == 'function'\n        ? baseClone(value, true, bindCallback(customizer, thisArg, 3))\n        : baseClone(value, true);\n    }\n\n    /**\n     * Checks if `value` is greater than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`, else `false`.\n     * @example\n     *\n     * _.gt(3, 1);\n     * // => true\n     *\n     * _.gt(3, 3);\n     * // => false\n     *\n     * _.gt(1, 3);\n     * // => false\n     */\n    function gt(value, other) {\n      return value > other;\n    }\n\n    /**\n     * Checks if `value` is greater than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than or equal to `other`, else `false`.\n     * @example\n     *\n     * _.gte(3, 1);\n     * // => true\n     *\n     * _.gte(3, 3);\n     * // => true\n     *\n     * _.gte(1, 3);\n     * // => false\n     */\n    function gte(value, other) {\n      return value >= other;\n    }\n\n    /**\n     * Checks if `value` is classified as an `arguments` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isArguments(function() { return arguments; }());\n     * // => true\n     *\n     * _.isArguments([1, 2, 3]);\n     * // => false\n     */\n    function isArguments(value) {\n      return isObjectLike(value) && isArrayLike(value) &&\n        hasOwnProperty.call(value, 'callee') && !propertyIsEnumerable.call(value, 'callee');\n    }\n\n    /**\n     * Checks if `value` is classified as an `Array` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isArray([1, 2, 3]);\n     * // => true\n     *\n     * _.isArray(function() { return arguments; }());\n     * // => false\n     */\n    var isArray = nativeIsArray || function(value) {\n      return isObjectLike(value) && isLength(value.length) && objToString.call(value) == arrayTag;\n    };\n\n    /**\n     * Checks if `value` is classified as a boolean primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isBoolean(false);\n     * // => true\n     *\n     * _.isBoolean(null);\n     * // => false\n     */\n    function isBoolean(value) {\n      return value === true || value === false || (isObjectLike(value) && objToString.call(value) == boolTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Date` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isDate(new Date);\n     * // => true\n     *\n     * _.isDate('Mon April 23 2012');\n     * // => false\n     */\n    function isDate(value) {\n      return isObjectLike(value) && objToString.call(value) == dateTag;\n    }\n\n    /**\n     * Checks if `value` is a DOM element.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a DOM element, else `false`.\n     * @example\n     *\n     * _.isElement(document.body);\n     * // => true\n     *\n     * _.isElement('<body>');\n     * // => false\n     */\n    function isElement(value) {\n      return !!value && value.nodeType === 1 && isObjectLike(value) && !isPlainObject(value);\n    }\n\n    /**\n     * Checks if `value` is empty. A value is considered empty unless it's an\n     * `arguments` object, array, string, or jQuery-like collection with a length\n     * greater than `0` or an object with own enumerable properties.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {Array|Object|string} value The value to inspect.\n     * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n     * @example\n     *\n     * _.isEmpty(null);\n     * // => true\n     *\n     * _.isEmpty(true);\n     * // => true\n     *\n     * _.isEmpty(1);\n     * // => true\n     *\n     * _.isEmpty([1, 2, 3]);\n     * // => false\n     *\n     * _.isEmpty({ 'a': 1 });\n     * // => false\n     */\n    function isEmpty(value) {\n      if (value == null) {\n        return true;\n      }\n      if (isArrayLike(value) && (isArray(value) || isString(value) || isArguments(value) ||\n          (isObjectLike(value) && isFunction(value.splice)))) {\n        return !value.length;\n      }\n      return !keys(value).length;\n    }\n\n    /**\n     * Performs a deep comparison between two values to determine if they are\n     * equivalent. If `customizer` is provided it's invoked to compare values.\n     * If `customizer` returns `undefined` comparisons are handled by the method\n     * instead. The `customizer` is bound to `thisArg` and invoked with up to\n     * three arguments: (value, other [, index|key]).\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties. Functions and DOM nodes\n     * are **not** supported. Provide a customizer function to extend support\n     * for comparing other values.\n     *\n     * @static\n     * @memberOf _\n     * @alias eq\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize value comparisons.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'user': 'fred' };\n     * var other = { 'user': 'fred' };\n     *\n     * object == other;\n     * // => false\n     *\n     * _.isEqual(object, other);\n     * // => true\n     *\n     * // using a customizer callback\n     * var array = ['hello', 'goodbye'];\n     * var other = ['hi', 'goodbye'];\n     *\n     * _.isEqual(array, other, function(value, other) {\n     *   if (_.every([value, other], RegExp.prototype.test, /^h(?:i|ello)$/)) {\n     *     return true;\n     *   }\n     * });\n     * // => true\n     */\n    function isEqual(value, other, customizer, thisArg) {\n      customizer = typeof customizer == 'function' ? bindCallback(customizer, thisArg, 3) : undefined;\n      var result = customizer ? customizer(value, other) : undefined;\n      return  result === undefined ? baseIsEqual(value, other, customizer) : !!result;\n    }\n\n    /**\n     * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n     * `SyntaxError`, `TypeError`, or `URIError` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n     * @example\n     *\n     * _.isError(new Error);\n     * // => true\n     *\n     * _.isError(Error);\n     * // => false\n     */\n    function isError(value) {\n      return isObjectLike(value) && typeof value.message == 'string' && objToString.call(value) == errorTag;\n    }\n\n    /**\n     * Checks if `value` is a finite primitive number.\n     *\n     * **Note:** This method is based on [`Number.isFinite`](http://ecma-international.org/ecma-262/6.0/#sec-number.isfinite).\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a finite number, else `false`.\n     * @example\n     *\n     * _.isFinite(10);\n     * // => true\n     *\n     * _.isFinite('10');\n     * // => false\n     *\n     * _.isFinite(true);\n     * // => false\n     *\n     * _.isFinite(Object(10));\n     * // => false\n     *\n     * _.isFinite(Infinity);\n     * // => false\n     */\n    function isFinite(value) {\n      return typeof value == 'number' && nativeIsFinite(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Function` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isFunction(_);\n     * // => true\n     *\n     * _.isFunction(/abc/);\n     * // => false\n     */\n    function isFunction(value) {\n      if (!isObject(value)) {\n        return false;\n      }//--\n\n      // The use of `Object#toString` avoids issues with the `typeof` operator\n      // in older versions of Chrome and Safari which return 'function' for regexes\n      // and Safari 8 which returns 'object' for typed array constructors.\n      var tag = objToString.call(value);\n\n      // Return true if this looks like a function, an \"async function\", a \"generator\", or a \"proxy\".\n      return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n\n      // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n      // ^^^^\n      // PATCHED FROM https://github.com/lodash/lodash/commit/95bc54a3ddc7a25f5e134f5b376a0d1d96118f49\n      // Note that, in Lodash 4, this looks like:\n      // ```\n      // return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n      // ```\n      // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n    }\n\n    /**\n     * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n     * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n     * @example\n     *\n     * _.isObject({});\n     * // => true\n     *\n     * _.isObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isObject(1);\n     * // => false\n     */\n    function isObject(value) {\n      // Avoid a V8 JIT bug in Chrome 19-20.\n      // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n      var type = typeof value;\n      return !!value && (type == 'object' || type == 'function');\n    }\n\n    /**\n     * Performs a deep comparison between `object` and `source` to determine if\n     * `object` contains equivalent property values. If `customizer` is provided\n     * it's invoked to compare values. If `customizer` returns `undefined`\n     * comparisons are handled by the method instead. The `customizer` is bound\n     * to `thisArg` and invoked with three arguments: (value, other, index|key).\n     *\n     * **Note:** This method supports comparing properties of arrays, booleans,\n     * `Date` objects, numbers, `Object` objects, regexes, and strings. Functions\n     * and DOM nodes are **not** supported. Provide a customizer function to extend\n     * support for comparing other values.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Function} [customizer] The function to customize value comparisons.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * var object = { 'user': 'fred', 'age': 40 };\n     *\n     * _.isMatch(object, { 'age': 40 });\n     * // => true\n     *\n     * _.isMatch(object, { 'age': 36 });\n     * // => false\n     *\n     * // using a customizer callback\n     * var object = { 'greeting': 'hello' };\n     * var source = { 'greeting': 'hi' };\n     *\n     * _.isMatch(object, source, function(value, other) {\n     *   return _.every([value, other], RegExp.prototype.test, /^h(?:i|ello)$/) || undefined;\n     * });\n     * // => true\n     */\n    function isMatch(object, source, customizer, thisArg) {\n      customizer = typeof customizer == 'function' ? bindCallback(customizer, thisArg, 3) : undefined;\n      return baseIsMatch(object, getMatchData(source), customizer);\n    }\n\n    /**\n     * Checks if `value` is `NaN`.\n     *\n     * **Note:** This method is not the same as [`isNaN`](https://es5.github.io/#x15.1.2.4)\n     * which returns `true` for `undefined` and other non-numeric values.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n     * @example\n     *\n     * _.isNaN(NaN);\n     * // => true\n     *\n     * _.isNaN(new Number(NaN));\n     * // => true\n     *\n     * isNaN(undefined);\n     * // => true\n     *\n     * _.isNaN(undefined);\n     * // => false\n     */\n    function isNaN(value) {\n      // An `NaN` primitive is the only value that is not equal to itself.\n      // Perform the `toStringTag` check first to avoid errors with some host objects in IE.\n      return isNumber(value) && value != +value;\n    }\n\n    /**\n     * Checks if `value` is a native function.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function, else `false`.\n     * @example\n     *\n     * _.isNative(Array.prototype.push);\n     * // => true\n     *\n     * _.isNative(_);\n     * // => false\n     */\n    function isNative(value) {\n      if (value == null) {\n        return false;\n      }\n      if (isFunction(value)) {\n        return reIsNative.test(fnToString.call(value));\n      }\n      return isObjectLike(value) && (isHostObject(value) ? reIsNative : reIsHostCtor).test(value);\n    }\n\n    /**\n     * Checks if `value` is `null`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `null`, else `false`.\n     * @example\n     *\n     * _.isNull(null);\n     * // => true\n     *\n     * _.isNull(void 0);\n     * // => false\n     */\n    function isNull(value) {\n      return value === null;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Number` primitive or object.\n     *\n     * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are classified\n     * as numbers, use the `_.isFinite` method.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isNumber(8.4);\n     * // => true\n     *\n     * _.isNumber(NaN);\n     * // => true\n     *\n     * _.isNumber('8.4');\n     * // => false\n     */\n    function isNumber(value) {\n      return typeof value == 'number' || (isObjectLike(value) && objToString.call(value) == numberTag);\n    }\n\n    /**\n     * Checks if `value` is a plain object, that is, an object created by the\n     * `Object` constructor or one with a `[[Prototype]]` of `null`.\n     *\n     * **Note:** This method assumes objects created by the `Object` constructor\n     * have no inherited enumerable properties.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * _.isPlainObject(new Foo);\n     * // => false\n     *\n     * _.isPlainObject([1, 2, 3]);\n     * // => false\n     *\n     * _.isPlainObject({ 'x': 0, 'y': 0 });\n     * // => true\n     *\n     * _.isPlainObject(Object.create(null));\n     * // => true\n     */\n    function isPlainObject(value) {\n      var Ctor;\n\n      // Exit early for non `Object` objects.\n      if (!(isObjectLike(value) && objToString.call(value) == objectTag && !isHostObject(value) && !isArguments(value)) ||\n          (!hasOwnProperty.call(value, 'constructor') && (Ctor = value.constructor, typeof Ctor == 'function' && !(Ctor instanceof Ctor)))) {\n        return false;\n      }\n      // IE < 9 iterates inherited properties before own properties. If the first\n      // iterated property is an object's own property then there are no inherited\n      // enumerable properties.\n      var result;\n      if (lodash.support.ownLast) {\n        baseForIn(value, function(subValue, key, object) {\n          result = hasOwnProperty.call(object, key);\n          return false;\n        });\n        return result !== false;\n      }\n      // In most environments an object's own properties are iterated before\n      // its inherited properties. If the last iterated property is an object's\n      // own property then there are no inherited enumerable properties.\n      baseForIn(value, function(subValue, key) {\n        result = key;\n      });\n      return result === undefined || hasOwnProperty.call(value, result);\n    }\n\n    /**\n     * Checks if `value` is classified as a `RegExp` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isRegExp(/abc/);\n     * // => true\n     *\n     * _.isRegExp('/abc/');\n     * // => false\n     */\n    function isRegExp(value) {\n      return isObject(value) && objToString.call(value) == regexpTag;\n    }\n\n    /**\n     * Checks if `value` is classified as a `String` primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isString('abc');\n     * // => true\n     *\n     * _.isString(1);\n     * // => false\n     */\n    function isString(value) {\n      return typeof value == 'string' || (isObjectLike(value) && objToString.call(value) == stringTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a typed array.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isTypedArray(new Uint8Array);\n     * // => true\n     *\n     * _.isTypedArray([]);\n     * // => false\n     */\n    function isTypedArray(value) {\n      return isObjectLike(value) && isLength(value.length) && !!typedArrayTags[objToString.call(value)];\n    }\n\n    /**\n     * Checks if `value` is `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n     * @example\n     *\n     * _.isUndefined(void 0);\n     * // => true\n     *\n     * _.isUndefined(null);\n     * // => false\n     */\n    function isUndefined(value) {\n      return value === undefined;\n    }\n\n    /**\n     * Checks if `value` is less than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`, else `false`.\n     * @example\n     *\n     * _.lt(1, 3);\n     * // => true\n     *\n     * _.lt(3, 3);\n     * // => false\n     *\n     * _.lt(3, 1);\n     * // => false\n     */\n    function lt(value, other) {\n      return value < other;\n    }\n\n    /**\n     * Checks if `value` is less than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than or equal to `other`, else `false`.\n     * @example\n     *\n     * _.lte(1, 3);\n     * // => true\n     *\n     * _.lte(3, 3);\n     * // => true\n     *\n     * _.lte(3, 1);\n     * // => false\n     */\n    function lte(value, other) {\n      return value <= other;\n    }\n\n    /**\n     * Converts `value` to an array.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the converted array.\n     * @example\n     *\n     * (function() {\n     *   return _.toArray(arguments).slice(1);\n     * }(1, 2, 3));\n     * // => [2, 3]\n     */\n    function toArray(value) {\n      var length = value ? getLength(value) : 0;\n      if (!isLength(length)) {\n        return values(value);\n      }\n      if (!length) {\n        return [];\n      }\n      return (lodash.support.unindexedChars && isString(value))\n        ? value.split('')\n        : arrayCopy(value);\n    }\n\n    /**\n     * Converts `value` to a plain object flattening inherited enumerable\n     * properties of `value` to own properties of the plain object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Object} Returns the converted plain object.\n     * @example\n     *\n     * function Foo() {\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.assign({ 'a': 1 }, new Foo);\n     * // => { 'a': 1, 'b': 2 }\n     *\n     * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n     * // => { 'a': 1, 'b': 2, 'c': 3 }\n     */\n    function toPlainObject(value) {\n      return baseCopy(value, keysIn(value));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Recursively merges own enumerable properties of the source object(s), that\n     * don't resolve to `undefined` into the destination object. Subsequent sources\n     * overwrite property assignments of previous sources. If `customizer` is\n     * provided it's invoked to produce the merged values of the destination and\n     * source properties. If `customizer` returns `undefined` merging is handled\n     * by the method instead. The `customizer` is bound to `thisArg` and invoked\n     * with five arguments: (objectValue, sourceValue, key, object, source).\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var users = {\n     *   'data': [{ 'user': 'barney' }, { 'user': 'fred' }]\n     * };\n     *\n     * var ages = {\n     *   'data': [{ 'age': 36 }, { 'age': 40 }]\n     * };\n     *\n     * _.merge(users, ages);\n     * // => { 'data': [{ 'user': 'barney', 'age': 36 }, { 'user': 'fred', 'age': 40 }] }\n     *\n     * // using a customizer callback\n     * var object = {\n     *   'fruits': ['apple'],\n     *   'vegetables': ['beet']\n     * };\n     *\n     * var other = {\n     *   'fruits': ['banana'],\n     *   'vegetables': ['carrot']\n     * };\n     *\n     * _.merge(object, other, function(a, b) {\n     *   if (_.isArray(a)) {\n     *     return a.concat(b);\n     *   }\n     * });\n     * // => { 'fruits': ['apple', 'banana'], 'vegetables': ['beet', 'carrot'] }\n     */\n    var merge = createAssigner(baseMerge);\n\n    /**\n     * Assigns own enumerable properties of source object(s) to the destination\n     * object. Subsequent sources overwrite property assignments of previous sources.\n     * If `customizer` is provided it's invoked to produce the assigned values.\n     * The `customizer` is bound to `thisArg` and invoked with five arguments:\n     * (objectValue, sourceValue, key, object, source).\n     *\n     * **Note:** This method mutates `object` and is based on\n     * [`Object.assign`](http://ecma-international.org/ecma-262/6.0/#sec-object.assign).\n     *\n     * @static\n     * @memberOf _\n     * @alias extend\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * _.assign({ 'user': 'barney' }, { 'age': 40 }, { 'user': 'fred' });\n     * // => { 'user': 'fred', 'age': 40 }\n     *\n     * // using a customizer callback\n     * var defaults = _.partialRight(_.assign, function(value, other) {\n     *   return _.isUndefined(value) ? other : value;\n     * });\n     *\n     * defaults({ 'user': 'barney' }, { 'age': 36 }, { 'user': 'fred' });\n     * // => { 'user': 'barney', 'age': 36 }\n     */\n    var assign = createAssigner(function(object, source, customizer) {\n      return customizer\n        ? assignWith(object, source, customizer)\n        : baseAssign(object, source);\n    });\n\n    /**\n     * Creates an object that inherits from the given `prototype` object. If a\n     * `properties` object is provided its own enumerable properties are assigned\n     * to the created object.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} prototype The object to inherit from.\n     * @param {Object} [properties] The properties to assign to the object.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * function Circle() {\n     *   Shape.call(this);\n     * }\n     *\n     * Circle.prototype = _.create(Shape.prototype, {\n     *   'constructor': Circle\n     * });\n     *\n     * var circle = new Circle;\n     * circle instanceof Circle;\n     * // => true\n     *\n     * circle instanceof Shape;\n     * // => true\n     */\n    function create(prototype, properties, guard) {\n      var result = baseCreate(prototype);\n      if (guard && isIterateeCall(prototype, properties, guard)) {\n        properties = undefined;\n      }\n      return properties ? baseAssign(result, properties) : result;\n    }\n\n    /**\n     * Assigns own enumerable properties of source object(s) to the destination\n     * object for all destination properties that resolve to `undefined`. Once a\n     * property is set, additional values of the same property are ignored.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * _.defaults({ 'user': 'barney' }, { 'age': 36 }, { 'user': 'fred' });\n     * // => { 'user': 'barney', 'age': 36 }\n     */\n    var defaults = createDefaults(assign, assignDefaults);\n\n    /**\n     * This method is like `_.defaults` except that it recursively assigns\n     * default properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * _.defaultsDeep({ 'user': { 'name': 'barney' } }, { 'user': { 'name': 'fred', 'age': 36 } });\n     * // => { 'user': { 'name': 'barney', 'age': 36 } }\n     *\n     */\n    var defaultsDeep = createDefaults(merge, mergeDefaults);\n\n    /**\n     * This method is like `_.find` except that it returns the key of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {string|undefined} Returns the key of the matched element, else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findKey(users, function(chr) {\n     *   return chr.age < 40;\n     * });\n     * // => 'barney' (iteration order is not guaranteed)\n     *\n     * // using the `_.matches` callback shorthand\n     * _.findKey(users, { 'age': 1, 'active': true });\n     * // => 'pebbles'\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.findKey(users, 'active', false);\n     * // => 'fred'\n     *\n     * // using the `_.property` callback shorthand\n     * _.findKey(users, 'active');\n     * // => 'barney'\n     */\n    var findKey = createFindKey(baseForOwn);\n\n    /**\n     * This method is like `_.findKey` except that it iterates over elements of\n     * a collection in the opposite order.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {string|undefined} Returns the key of the matched element, else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findLastKey(users, function(chr) {\n     *   return chr.age < 40;\n     * });\n     * // => returns `pebbles` assuming `_.findKey` returns `barney`\n     *\n     * // using the `_.matches` callback shorthand\n     * _.findLastKey(users, { 'age': 36, 'active': true });\n     * // => 'barney'\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.findLastKey(users, 'active', false);\n     * // => 'fred'\n     *\n     * // using the `_.property` callback shorthand\n     * _.findLastKey(users, 'active');\n     * // => 'pebbles'\n     */\n    var findLastKey = createFindKey(baseForOwnRight);\n\n    /**\n     * Iterates over own and inherited enumerable properties of an object invoking\n     * `iteratee` for each property. The `iteratee` is bound to `thisArg` and invoked\n     * with three arguments: (value, key, object). Iteratee functions may exit\n     * iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forIn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'a', 'b', and 'c' (iteration order is not guaranteed)\n     */\n    var forIn = createForIn(baseFor);\n\n    /**\n     * This method is like `_.forIn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forInRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'c', 'b', and 'a' assuming `_.forIn ` logs 'a', 'b', and 'c'\n     */\n    var forInRight = createForIn(baseForRight);\n\n    /**\n     * Iterates over own enumerable properties of an object invoking `iteratee`\n     * for each property. The `iteratee` is bound to `thisArg` and invoked with\n     * three arguments: (value, key, object). Iteratee functions may exit iteration\n     * early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'a' and 'b' (iteration order is not guaranteed)\n     */\n    var forOwn = createForOwn(baseForOwn);\n\n    /**\n     * This method is like `_.forOwn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwnRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'b' and 'a' assuming `_.forOwn` logs 'a' and 'b'\n     */\n    var forOwnRight = createForOwn(baseForOwnRight);\n\n    /**\n     * Creates an array of function property names from all enumerable properties,\n     * own and inherited, of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @alias methods\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the new array of property names.\n     * @example\n     *\n     * _.functions(_);\n     * // => ['after', 'ary', 'assign', ...]\n     */\n    function functions(object) {\n      return baseFunctions(object, keysIn(object));\n    }\n\n    /**\n     * Gets the property value at `path` of `object`. If the resolved value is\n     * `undefined` the `defaultValue` is used in its place.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} [defaultValue] The value returned if the resolved value is `undefined`.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.get(object, 'a[0].b.c');\n     * // => 3\n     *\n     * _.get(object, ['a', '0', 'b', 'c']);\n     * // => 3\n     *\n     * _.get(object, 'a.b.c', 'default');\n     * // => 'default'\n     */\n    function get(object, path, defaultValue) {\n      var result = object == null ? undefined : baseGet(object, toPath(path), (path + ''));\n      return result === undefined ? defaultValue : result;\n    }\n\n    /**\n     * Checks if `path` is a direct property.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` is a direct property, else `false`.\n     * @example\n     *\n     * var object = { 'a': { 'b': { 'c': 3 } } };\n     *\n     * _.has(object, 'a');\n     * // => true\n     *\n     * _.has(object, 'a.b.c');\n     * // => true\n     *\n     * _.has(object, ['a', 'b', 'c']);\n     * // => true\n     */\n    function has(object, path) {\n      if (object == null) {\n        return false;\n      }\n      var result = hasOwnProperty.call(object, path);\n      if (!result && !isKey(path)) {\n        path = toPath(path);\n        object = path.length == 1 ? object : baseGet(object, baseSlice(path, 0, -1));\n        if (object == null) {\n          return false;\n        }\n        path = last(path);\n        result = hasOwnProperty.call(object, path);\n      }\n      return result || (isLength(object.length) && isIndex(path, object.length) &&\n        (isArray(object) || isArguments(object) || isString(object)));\n    }\n\n    /**\n     * Creates an object composed of the inverted keys and values of `object`.\n     * If `object` contains duplicate values, subsequent values overwrite property\n     * assignments of previous values unless `multiValue` is `true`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @param {boolean} [multiValue] Allow multiple values per key.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invert(object);\n     * // => { '1': 'c', '2': 'b' }\n     *\n     * // with `multiValue`\n     * _.invert(object, true);\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     */\n    function invert(object, multiValue, guard) {\n      if (guard && isIterateeCall(object, multiValue, guard)) {\n        multiValue = undefined;\n      }\n      var index = -1,\n          props = keys(object),\n          length = props.length,\n          result = {};\n\n      while (++index < length) {\n        var key = props[index],\n            value = object[key];\n\n        if (multiValue) {\n          if (hasOwnProperty.call(result, value)) {\n            result[value].push(key);\n          } else {\n            result[value] = [key];\n          }\n        }\n        else {\n          result[value] = key;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array of the own enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects. See the\n     * [ES spec](http://ecma-international.org/ecma-262/6.0/#sec-object.keys)\n     * for more details.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keys(new Foo);\n     * // => ['a', 'b'] (iteration order is not guaranteed)\n     *\n     * _.keys('hi');\n     * // => ['0', '1']\n     */\n    var keys = !nativeKeys ? shimKeys : function(object) {\n      var Ctor = object == null ? undefined : object.constructor;\n      if ((typeof Ctor == 'function' && Ctor.prototype === object) ||\n          (typeof object == 'function' ? lodash.support.enumPrototypes : isArrayLike(object))) {\n        return shimKeys(object);\n      }\n      return isObject(object) ? nativeKeys(object) : [];\n    };\n\n    /**\n     * Creates an array of the own and inherited enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keysIn(new Foo);\n     * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n     */\n    function keysIn(object) {\n      if (object == null) {\n        return [];\n      }\n      if (!isObject(object)) {\n        object = Object(object);\n      }\n      var length = object.length,\n          support = lodash.support;\n\n      length = (length && isLength(length) &&\n        (isArray(object) || isArguments(object) || isString(object)) && length) || 0;\n\n      var Ctor = object.constructor,\n          index = -1,\n          proto = (isFunction(Ctor) && Ctor.prototype) || objectProto,\n          isProto = proto === object,\n          result = Array(length),\n          skipIndexes = length > 0,\n          skipErrorProps = support.enumErrorProps && (object === errorProto || object instanceof Error),\n          skipProto = support.enumPrototypes && isFunction(object);\n\n      while (++index < length) {\n        result[index] = (index + '');\n      }\n      // lodash skips the `constructor` property when it infers it's iterating\n      // over a `prototype` object because IE < 9 can't set the `[[Enumerable]]`\n      // attribute of an existing property and the `constructor` property of a\n      // prototype defaults to non-enumerable.\n      for (var key in object) {\n        if (!(skipProto && key == 'prototype') &&\n            !(skipErrorProps && (key == 'message' || key == 'name')) &&\n            !(skipIndexes && isIndex(key, length)) &&\n            !(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n          result.push(key);\n        }\n      }\n      if (support.nonEnumShadows && object !== objectProto) {\n        var tag = object === stringProto ? stringTag : (object === errorProto ? errorTag : objToString.call(object)),\n            nonEnums = nonEnumProps[tag] || nonEnumProps[objectTag];\n\n        if (tag == objectTag) {\n          proto = objectProto;\n        }\n        length = shadowProps.length;\n        while (length--) {\n          key = shadowProps[length];\n          var nonEnum = nonEnums[key];\n          if (!(isProto && nonEnum) &&\n              (nonEnum ? hasOwnProperty.call(object, key) : object[key] !== proto[key])) {\n            result.push(key);\n          }\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The opposite of `_.mapValues`; this method creates an object with the\n     * same values as `object` and keys generated by running each own enumerable\n     * property of `object` through `iteratee`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the new mapped object.\n     * @example\n     *\n     * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   return key + value;\n     * });\n     * // => { 'a1': 1, 'b2': 2 }\n     */\n    var mapKeys = createObjectMapper(true);\n\n    /**\n     * Creates an object with the same keys as `object` and values generated by\n     * running each own enumerable property of `object` through `iteratee`. The\n     * iteratee function is bound to `thisArg` and invoked with three arguments:\n     * (value, key, object).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the new mapped object.\n     * @example\n     *\n     * _.mapValues({ 'a': 1, 'b': 2 }, function(n) {\n     *   return n * 3;\n     * });\n     * // => { 'a': 3, 'b': 6 }\n     *\n     * var users = {\n     *   'fred':    { 'user': 'fred',    'age': 40 },\n     *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n     * };\n     *\n     * // using the `_.property` callback shorthand\n     * _.mapValues(users, 'age');\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     */\n    var mapValues = createObjectMapper();\n\n    /**\n     * The opposite of `_.pick`; this method creates an object composed of the\n     * own and inherited enumerable properties of `object` that are not omitted.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function|...(string|string[])} [predicate] The function invoked per\n     *  iteration or property names to omit, specified as individual property\n     *  names or arrays of property names.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'user': 'fred', 'age': 40 };\n     *\n     * _.omit(object, 'age');\n     * // => { 'user': 'fred' }\n     *\n     * _.omit(object, _.isNumber);\n     * // => { 'user': 'fred' }\n     */\n    var omit = restParam(function(object, props) {\n      if (object == null) {\n        return {};\n      }\n      if (typeof props[0] != 'function') {\n        var props = arrayMap(baseFlatten(props), String);\n        return pickByArray(object, baseDifference(keysIn(object), props));\n      }\n      var predicate = bindCallback(props[0], props[1], 3);\n      return pickByCallback(object, function(value, key, object) {\n        return !predicate(value, key, object);\n      });\n    });\n\n    /**\n     * Creates a two dimensional array of the key-value pairs for `object`,\n     * e.g. `[[key1, value1], [key2, value2]]`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the new array of key-value pairs.\n     * @example\n     *\n     * _.pairs({ 'barney': 36, 'fred': 40 });\n     * // => [['barney', 36], ['fred', 40]] (iteration order is not guaranteed)\n     */\n    function pairs(object) {\n      object = toObject(object);\n\n      var index = -1,\n          props = keys(object),\n          length = props.length,\n          result = Array(length);\n\n      while (++index < length) {\n        var key = props[index];\n        result[index] = [key, object[key]];\n      }\n      return result;\n    }\n\n    /**\n     * Creates an object composed of the picked `object` properties. Property\n     * names may be specified as individual arguments or as arrays of property\n     * names. If `predicate` is provided it's invoked for each property of `object`\n     * picking the properties `predicate` returns truthy for. The predicate is\n     * bound to `thisArg` and invoked with three arguments: (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function|...(string|string[])} [predicate] The function invoked per\n     *  iteration or property names to pick, specified as individual property\n     *  names or arrays of property names.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'user': 'fred', 'age': 40 };\n     *\n     * _.pick(object, 'user');\n     * // => { 'user': 'fred' }\n     *\n     * _.pick(object, _.isString);\n     * // => { 'user': 'fred' }\n     */\n    var pick = restParam(function(object, props) {\n      if (object == null) {\n        return {};\n      }\n      return typeof props[0] == 'function'\n        ? pickByCallback(object, bindCallback(props[0], props[1], 3))\n        : pickByArray(object, baseFlatten(props));\n    });\n\n    /**\n     * This method is like `_.get` except that if the resolved value is a function\n     * it's invoked with the `this` binding of its parent object and its result\n     * is returned.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to resolve.\n     * @param {*} [defaultValue] The value returned if the resolved value is `undefined`.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c1': 3, 'c2': _.constant(4) } }] };\n     *\n     * _.result(object, 'a[0].b.c1');\n     * // => 3\n     *\n     * _.result(object, 'a[0].b.c2');\n     * // => 4\n     *\n     * _.result(object, 'a.b.c', 'default');\n     * // => 'default'\n     *\n     * _.result(object, 'a.b.c', _.constant('default'));\n     * // => 'default'\n     */\n    function result(object, path, defaultValue) {\n      var result = object == null ? undefined : toObject(object)[path];\n      if (result === undefined) {\n        if (object != null && !isKey(path, object)) {\n          path = toPath(path);\n          object = path.length == 1 ? object : baseGet(object, baseSlice(path, 0, -1));\n          result = object == null ? undefined : toObject(object)[last(path)];\n        }\n        result = result === undefined ? defaultValue : result;\n      }\n      return isFunction(result) ? result.call(object) : result;\n    }\n\n    /**\n     * Sets the property value of `path` on `object`. If a portion of `path`\n     * does not exist it's created.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to augment.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.set(object, 'a[0].b.c', 4);\n     * console.log(object.a[0].b.c);\n     * // => 4\n     *\n     * _.set(object, 'x[0].y.z', 5);\n     * console.log(object.x[0].y.z);\n     * // => 5\n     */\n    function set(object, path, value) {\n      if (object == null) {\n        return object;\n      }\n      var pathKey = (path + '');\n      path = (object[pathKey] != null || isKey(path, object)) ? [pathKey] : toPath(path);\n\n      var index = -1,\n          length = path.length,\n          lastIndex = length - 1,\n          nested = object;\n\n      while (nested != null && ++index < length) {\n        var key = path[index];\n        if (isObject(nested)) {\n          if (index == lastIndex) {\n            nested[key] = value;\n          } else if (nested[key] == null) {\n            nested[key] = isIndex(path[index + 1]) ? [] : {};\n          }\n        }\n        nested = nested[key];\n      }\n      return object;\n    }\n\n    /**\n     * An alternative to `_.reduce`; this method transforms `object` to a new\n     * `accumulator` object which is the result of running each of its own enumerable\n     * properties through `iteratee`, with each invocation potentially mutating\n     * the `accumulator` object. The `iteratee` is bound to `thisArg` and invoked\n     * with four arguments: (accumulator, value, key, object). Iteratee functions\n     * may exit iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Array|Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The custom accumulator value.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.transform([2, 3, 4], function(result, n) {\n     *   result.push(n *= n);\n     *   return n % 2 == 0;\n     * });\n     * // => [4, 9]\n     *\n     * _.transform({ 'a': 1, 'b': 2 }, function(result, n, key) {\n     *   result[key] = n * 3;\n     * });\n     * // => { 'a': 3, 'b': 6 }\n     */\n    function transform(object, iteratee, accumulator, thisArg) {\n      var isArr = isArray(object) || isTypedArray(object);\n      iteratee = getCallback(iteratee, thisArg, 4);\n\n      if (accumulator == null) {\n        if (isArr || isObject(object)) {\n          var Ctor = object.constructor;\n          if (isArr) {\n            accumulator = isArray(object) ? new Ctor : [];\n          } else {\n            accumulator = baseCreate(isFunction(Ctor) ? Ctor.prototype : undefined);\n          }\n        } else {\n          accumulator = {};\n        }\n      }\n      (isArr ? arrayEach : baseForOwn)(object, function(value, index, object) {\n        return iteratee(accumulator, value, index, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * Creates an array of the own enumerable property values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.values(new Foo);\n     * // => [1, 2] (iteration order is not guaranteed)\n     *\n     * _.values('hi');\n     * // => ['h', 'i']\n     */\n    function values(object) {\n      return baseValues(object, keys(object));\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable property values\n     * of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.valuesIn(new Foo);\n     * // => [1, 2, 3] (iteration order is not guaranteed)\n     */\n    function valuesIn(object) {\n      return baseValues(object, keysIn(object));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Checks if `n` is between `start` and up to but not including, `end`. If\n     * `end` is not specified it's set to `start` with `start` then set to `0`.\n     *\n     * @static\n     * @memberOf _\n     * @category Number\n     * @param {number} n The number to check.\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `n` is in the range, else `false`.\n     * @example\n     *\n     * _.inRange(3, 2, 4);\n     * // => true\n     *\n     * _.inRange(4, 8);\n     * // => true\n     *\n     * _.inRange(4, 2);\n     * // => false\n     *\n     * _.inRange(2, 2);\n     * // => false\n     *\n     * _.inRange(1.2, 2);\n     * // => true\n     *\n     * _.inRange(5.2, 4);\n     * // => false\n     */\n    function inRange(value, start, end) {\n      start = +start || 0;\n      if (end === undefined) {\n        end = start;\n        start = 0;\n      } else {\n        end = +end || 0;\n      }\n      return value >= nativeMin(start, end) && value < nativeMax(start, end);\n    }\n\n    /**\n     * Produces a random number between `min` and `max` (inclusive). If only one\n     * argument is provided a number between `0` and the given number is returned.\n     * If `floating` is `true`, or either `min` or `max` are floats, a floating-point\n     * number is returned instead of an integer.\n     *\n     * @static\n     * @memberOf _\n     * @category Number\n     * @param {number} [min=0] The minimum possible value.\n     * @param {number} [max=1] The maximum possible value.\n     * @param {boolean} [floating] Specify returning a floating-point number.\n     * @returns {number} Returns the random number.\n     * @example\n     *\n     * _.random(0, 5);\n     * // => an integer between 0 and 5\n     *\n     * _.random(5);\n     * // => also an integer between 0 and 5\n     *\n     * _.random(5, true);\n     * // => a floating-point number between 0 and 5\n     *\n     * _.random(1.2, 5.2);\n     * // => a floating-point number between 1.2 and 5.2\n     */\n    function random(min, max, floating) {\n      if (floating && isIterateeCall(min, max, floating)) {\n        max = floating = undefined;\n      }\n      var noMin = min == null,\n          noMax = max == null;\n\n      if (floating == null) {\n        if (noMax && typeof min == 'boolean') {\n          floating = min;\n          min = 1;\n        }\n        else if (typeof max == 'boolean') {\n          floating = max;\n          noMax = true;\n        }\n      }\n      if (noMin && noMax) {\n        max = 1;\n        noMax = false;\n      }\n      min = +min || 0;\n      if (noMax) {\n        max = min;\n        min = 0;\n      } else {\n        max = +max || 0;\n      }\n      if (floating || min % 1 || max % 1) {\n        var rand = nativeRandom();\n        return nativeMin(min + (rand * (max - min + parseFloat('1e-' + ((rand + '').length - 1)))), max);\n      }\n      return baseRandom(min, max);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the camel cased string.\n     * @example\n     *\n     * _.camelCase('Foo Bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('--foo-bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('__foo_bar__');\n     * // => 'fooBar'\n     */\n    var camelCase = createCompounder(function(result, word, index) {\n      word = word.toLowerCase();\n      return result + (index ? (word.charAt(0).toUpperCase() + word.slice(1)) : word);\n    });\n\n    /**\n     * Capitalizes the first character of `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to capitalize.\n     * @returns {string} Returns the capitalized string.\n     * @example\n     *\n     * _.capitalize('fred');\n     * // => 'Fred'\n     */\n    function capitalize(string) {\n      string = baseToString(string);\n      return string && (string.charAt(0).toUpperCase() + string.slice(1));\n    }\n\n    /**\n     * Deburrs `string` by converting [latin-1 supplementary letters](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n     * to basic latin letters and removing [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to deburr.\n     * @returns {string} Returns the deburred string.\n     * @example\n     *\n     * _.deburr('dj vu');\n     * // => 'deja vu'\n     */\n    function deburr(string) {\n      string = baseToString(string);\n      return string && string.replace(reLatin1, deburrLetter).replace(reComboMark, '');\n    }\n\n    /**\n     * Checks if `string` ends with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to search.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=string.length] The position to search from.\n     * @returns {boolean} Returns `true` if `string` ends with `target`, else `false`.\n     * @example\n     *\n     * _.endsWith('abc', 'c');\n     * // => true\n     *\n     * _.endsWith('abc', 'b');\n     * // => false\n     *\n     * _.endsWith('abc', 'b', 2);\n     * // => true\n     */\n    function endsWith(string, target, position) {\n      string = baseToString(string);\n      target = (target + '');\n\n      var length = string.length;\n      position = position === undefined\n        ? length\n        : nativeMin(position < 0 ? 0 : (+position || 0), length);\n\n      position -= target.length;\n      return position >= 0 && string.indexOf(target, position) == position;\n    }\n\n    /**\n     * Converts the characters \"&\", \"<\", \">\", '\"', \"'\", and \"\\`\", in `string` to\n     * their corresponding HTML entities.\n     *\n     * **Note:** No other characters are escaped. To escape additional characters\n     * use a third-party library like [_he_](https://mths.be/he).\n     *\n     * Though the \">\" character is escaped for symmetry, characters like\n     * \">\" and \"/\" don't need escaping in HTML and have no special meaning\n     * unless they're part of a tag or unquoted attribute value.\n     * See [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\n     * (under \"semi-related fun fact\") for more details.\n     *\n     * Backticks are escaped because in Internet Explorer < 9, they can break out\n     * of attribute values or HTML comments. See [#59](https://html5sec.org/#59),\n     * [#102](https://html5sec.org/#102), [#108](https://html5sec.org/#108), and\n     * [#133](https://html5sec.org/#133) of the [HTML5 Security Cheatsheet](https://html5sec.org/)\n     * for more details.\n     *\n     * When working with HTML you should always [quote attribute values](http://wonko.com/post/html-escaping)\n     * to reduce XSS vectors.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escape('fred, barney, & pebbles');\n     * // => 'fred, barney, &amp; pebbles'\n     */\n    function escape(string) {\n      // Reset `lastIndex` because in IE < 9 `String#replace` does not.\n      string = baseToString(string);\n      return (string && reHasUnescapedHtml.test(string))\n        ? string.replace(reUnescapedHtml, escapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Escapes the `RegExp` special characters \"\\\", \"/\", \"^\", \"$\", \".\", \"|\", \"?\",\n     * \"*\", \"+\", \"(\", \")\", \"[\", \"]\", \"{\" and \"}\" in `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escapeRegExp('[lodash](https://lodash.com/)');\n     * // => '\\[lodash\\]\\(https:\\/\\/lodash\\.com\\/\\)'\n     */\n    function escapeRegExp(string) {\n      string = baseToString(string);\n      return (string && reHasRegExpChars.test(string))\n        ? string.replace(reRegExpChars, escapeRegExpChar)\n        : (string || '(?:)');\n    }\n\n    /**\n     * Converts `string` to [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the kebab cased string.\n     * @example\n     *\n     * _.kebabCase('Foo Bar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('fooBar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('__foo_bar__');\n     * // => 'foo-bar'\n     */\n    var kebabCase = createCompounder(function(result, word, index) {\n      return result + (index ? '-' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Pads `string` on the left and right sides if it's shorter than `length`.\n     * Padding characters are truncated if they can't be evenly divided by `length`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.pad('abc', 8);\n     * // => '  abc   '\n     *\n     * _.pad('abc', 8, '_-');\n     * // => '_-abc_-_'\n     *\n     * _.pad('abc', 3);\n     * // => 'abc'\n     */\n    function pad(string, length, chars) {\n      string = baseToString(string);\n      length = +length;\n\n      var strLength = string.length;\n      if (strLength >= length || !nativeIsFinite(length)) {\n        return string;\n      }\n      var mid = (length - strLength) / 2,\n          leftLength = nativeFloor(mid),\n          rightLength = nativeCeil(mid);\n\n      chars = createPadding('', rightLength, chars);\n      return chars.slice(0, leftLength) + string + chars;\n    }\n\n    /**\n     * Pads `string` on the left side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padLeft('abc', 6);\n     * // => '   abc'\n     *\n     * _.padLeft('abc', 6, '_-');\n     * // => '_-_abc'\n     *\n     * _.padLeft('abc', 3);\n     * // => 'abc'\n     */\n    var padLeft = createPadDir();\n\n    /**\n     * Pads `string` on the right side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padRight('abc', 6);\n     * // => 'abc   '\n     *\n     * _.padRight('abc', 6, '_-');\n     * // => 'abc_-_'\n     *\n     * _.padRight('abc', 3);\n     * // => 'abc'\n     */\n    var padRight = createPadDir(true);\n\n    /**\n     * Converts `string` to an integer of the specified radix. If `radix` is\n     * `undefined` or `0`, a `radix` of `10` is used unless `value` is a hexadecimal,\n     * in which case a `radix` of `16` is used.\n     *\n     * **Note:** This method aligns with the [ES5 implementation](https://es5.github.io/#E)\n     * of `parseInt`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} string The string to convert.\n     * @param {number} [radix] The radix to interpret `value` by.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.parseInt('08');\n     * // => 8\n     *\n     * _.map(['6', '08', '10'], _.parseInt);\n     * // => [6, 8, 10]\n     */\n    function parseInt(string, radix, guard) {\n      // Firefox < 21 and Opera < 15 follow ES3 for `parseInt`.\n      // Chrome fails to trim leading <BOM> whitespace characters.\n      // See https://code.google.com/p/v8/issues/detail?id=3109 for more details.\n      if (guard ? isIterateeCall(string, radix, guard) : radix == null) {\n        radix = 0;\n      } else if (radix) {\n        radix = +radix;\n      }\n      string = trim(string);\n      return nativeParseInt(string, radix || (reHasHexPrefix.test(string) ? 16 : 10));\n    }\n\n    /**\n     * Repeats the given string `n` times.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to repeat.\n     * @param {number} [n=0] The number of times to repeat the string.\n     * @returns {string} Returns the repeated string.\n     * @example\n     *\n     * _.repeat('*', 3);\n     * // => '***'\n     *\n     * _.repeat('abc', 2);\n     * // => 'abcabc'\n     *\n     * _.repeat('abc', 0);\n     * // => ''\n     */\n    function repeat(string, n) {\n      var result = '';\n      string = baseToString(string);\n      n = +n;\n      if (n < 1 || !string || !nativeIsFinite(n)) {\n        return result;\n      }\n      // Leverage the exponentiation by squaring algorithm for a faster repeat.\n      // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n      do {\n        if (n % 2) {\n          result += string;\n        }\n        n = nativeFloor(n / 2);\n        string += string;\n      } while (n);\n\n      return result;\n    }\n\n    /**\n     * Converts `string` to [snake case](https://en.wikipedia.org/wiki/Snake_case).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the snake cased string.\n     * @example\n     *\n     * _.snakeCase('Foo Bar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('fooBar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('--foo-bar');\n     * // => 'foo_bar'\n     */\n    var snakeCase = createCompounder(function(result, word, index) {\n      return result + (index ? '_' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts `string` to [start case](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the start cased string.\n     * @example\n     *\n     * _.startCase('--foo-bar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('fooBar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('__foo_bar__');\n     * // => 'Foo Bar'\n     */\n    var startCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + (word.charAt(0).toUpperCase() + word.slice(1));\n    });\n\n    /**\n     * Checks if `string` starts with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to search.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=0] The position to search from.\n     * @returns {boolean} Returns `true` if `string` starts with `target`, else `false`.\n     * @example\n     *\n     * _.startsWith('abc', 'a');\n     * // => true\n     *\n     * _.startsWith('abc', 'b');\n     * // => false\n     *\n     * _.startsWith('abc', 'b', 1);\n     * // => true\n     */\n    function startsWith(string, target, position) {\n      string = baseToString(string);\n      position = position == null\n        ? 0\n        : nativeMin(position < 0 ? 0 : (+position || 0), string.length);\n\n      return string.lastIndexOf(target, position) == position;\n    }\n\n    /**\n     * Creates a compiled template function that can interpolate data properties\n     * in \"interpolate\" delimiters, HTML-escape interpolated data properties in\n     * \"escape\" delimiters, and execute JavaScript in \"evaluate\" delimiters. Data\n     * properties may be accessed as free variables in the template. If a setting\n     * object is provided it takes precedence over `_.templateSettings` values.\n     *\n     * **Note:** In the development build `_.template` utilizes\n     * [sourceURLs](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl)\n     * for easier debugging.\n     *\n     * For more information on precompiling templates see\n     * [lodash's custom builds documentation](https://lodash.com/custom-builds).\n     *\n     * For more information on Chrome extension sandboxes see\n     * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The template string.\n     * @param {Object} [options] The options object.\n     * @param {RegExp} [options.escape] The HTML \"escape\" delimiter.\n     * @param {RegExp} [options.evaluate] The \"evaluate\" delimiter.\n     * @param {Object} [options.imports] An object to import into the template as free variables.\n     * @param {RegExp} [options.interpolate] The \"interpolate\" delimiter.\n     * @param {string} [options.sourceURL] The sourceURL of the template's compiled source.\n     * @param {string} [options.variable] The data object variable name.\n     * @param- {Object} [otherOptions] Enables the legacy `options` param signature.\n     * @returns {Function} Returns the compiled template function.\n     * @example\n     *\n     * // using the \"interpolate\" delimiter to create a compiled template\n     * var compiled = _.template('hello <%= user %>!');\n     * compiled({ 'user': 'fred' });\n     * // => 'hello fred!'\n     *\n     * // using the HTML \"escape\" delimiter to escape data property values\n     * var compiled = _.template('<b><%- value %></b>');\n     * compiled({ 'value': '<script>' });\n     * // => '<b>&lt;script&gt;</b>'\n     *\n     * // using the \"evaluate\" delimiter to execute JavaScript and generate HTML\n     * var compiled = _.template('<% _.forEach(users, function(user) { %><li><%- user %></li><% }); %>');\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // using the internal `print` function in \"evaluate\" delimiters\n     * var compiled = _.template('<% print(\"hello \" + user); %>!');\n     * compiled({ 'user': 'barney' });\n     * // => 'hello barney!'\n     *\n     * // using the ES delimiter as an alternative to the default \"interpolate\" delimiter\n     * var compiled = _.template('hello ${ user }!');\n     * compiled({ 'user': 'pebbles' });\n     * // => 'hello pebbles!'\n     *\n     * // using custom template delimiters\n     * _.templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\n     * var compiled = _.template('hello {{ user }}!');\n     * compiled({ 'user': 'mustache' });\n     * // => 'hello mustache!'\n     *\n     * // using backslashes to treat delimiters as plain text\n     * var compiled = _.template('<%= \"\\\\<%- value %\\\\>\" %>');\n     * compiled({ 'value': 'ignored' });\n     * // => '<%- value %>'\n     *\n     * // using the `imports` option to import `jQuery` as `jq`\n     * var text = '<% jq.each(users, function(user) { %><li><%- user %></li><% }); %>';\n     * var compiled = _.template(text, { 'imports': { 'jq': jQuery } });\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // using the `sourceURL` option to specify a custom sourceURL for the template\n     * var compiled = _.template('hello <%= user %>!', { 'sourceURL': '/basic/greeting.jst' });\n     * compiled(data);\n     * // => find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector\n     *\n     * // using the `variable` option to ensure a with-statement isn't used in the compiled template\n     * var compiled = _.template('hi <%= data.user %>!', { 'variable': 'data' });\n     * compiled.source;\n     * // => function(data) {\n     * //   var __t, __p = '';\n     * //   __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!';\n     * //   return __p;\n     * // }\n     *\n     * // using the `source` property to inline compiled templates for meaningful\n     * // line numbers in error messages and a stack trace\n     * fs.writeFileSync(path.join(cwd, 'jst.js'), '\\\n     *   var JST = {\\\n     *     \"main\": ' + _.template(mainText).source + '\\\n     *   };\\\n     * ');\n     */\n    function template(string, options, otherOptions) {\n      // Based on John Resig's `tmpl` implementation (http://ejohn.org/blog/javascript-micro-templating/)\n      // and Laura Doktorova's doT.js (https://github.com/olado/doT).\n      var settings = lodash.templateSettings;\n\n      if (otherOptions && isIterateeCall(string, options, otherOptions)) {\n        options = otherOptions = undefined;\n      }\n      string = baseToString(string);\n      options = assignWith(baseAssign({}, otherOptions || options), settings, assignOwnDefaults);\n\n      var imports = assignWith(baseAssign({}, options.imports), settings.imports, assignOwnDefaults),\n          importsKeys = keys(imports),\n          importsValues = baseValues(imports, importsKeys);\n\n      var isEscaping,\n          isEvaluating,\n          index = 0,\n          interpolate = options.interpolate || reNoMatch,\n          source = \"__p += '\";\n\n      // Compile the regexp to match each delimiter.\n      var reDelimiters = RegExp(\n        (options.escape || reNoMatch).source + '|' +\n        interpolate.source + '|' +\n        (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\n        (options.evaluate || reNoMatch).source + '|$'\n      , 'g');\n\n      // Use a sourceURL for easier debugging.\n      var sourceURL = '//# sourceURL=' +\n        ('sourceURL' in options\n          ? options.sourceURL\n          : ('lodash.templateSources[' + (++templateCounter) + ']')\n        ) + '\\n';\n\n      string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n        interpolateValue || (interpolateValue = esTemplateValue);\n\n        // Escape characters that can't be included in string literals.\n        source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n\n        // Replace delimiters with snippets.\n        if (escapeValue) {\n          isEscaping = true;\n          source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n        }\n        if (evaluateValue) {\n          isEvaluating = true;\n          source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n        }\n        if (interpolateValue) {\n          source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n        }\n        index = offset + match.length;\n\n        // The JS engine embedded in Adobe products requires returning the `match`\n        // string in order to produce the correct `offset` value.\n        return match;\n      });\n\n      source += \"';\\n\";\n\n      // If `variable` is not specified wrap a with-statement around the generated\n      // code to add the data object to the top of the scope chain.\n      var variable = options.variable;\n      if (!variable) {\n        source = 'with (obj) {\\n' + source + '\\n}\\n';\n      }\n      // Cleanup code by stripping empty strings.\n      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\n        .replace(reEmptyStringMiddle, '$1')\n        .replace(reEmptyStringTrailing, '$1;');\n\n      // Frame code as the function body.\n      source = 'function(' + (variable || 'obj') + ') {\\n' +\n        (variable\n          ? ''\n          : 'obj || (obj = {});\\n'\n        ) +\n        \"var __t, __p = ''\" +\n        (isEscaping\n           ? ', __e = _.escape'\n           : ''\n        ) +\n        (isEvaluating\n          ? ', __j = Array.prototype.join;\\n' +\n            \"function print() { __p += __j.call(arguments, '') }\\n\"\n          : ';\\n'\n        ) +\n        source +\n        'return __p\\n}';\n\n      var result = attempt(function() {\n        return Function(importsKeys, sourceURL + 'return ' + source).apply(undefined, importsValues);\n      });\n\n      // Provide the compiled function's source by its `toString` method or\n      // the `source` property as a convenience for inlining compiled templates.\n      result.source = source;\n      if (isError(result)) {\n        throw result;\n      }\n      return result;\n    }\n\n    /**\n     * Removes leading and trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trim('  abc  ');\n     * // => 'abc'\n     *\n     * _.trim('-_-abc-_-', '_-');\n     * // => 'abc'\n     *\n     * _.map(['  foo  ', '  bar  '], _.trim);\n     * // => ['foo', 'bar']\n     */\n    function trim(string, chars, guard) {\n      var value = string;\n      string = baseToString(string);\n      if (!string) {\n        return string;\n      }\n      if (guard ? isIterateeCall(value, chars, guard) : chars == null) {\n        return string.slice(trimmedLeftIndex(string), trimmedRightIndex(string) + 1);\n      }\n      chars = (chars + '');\n      return string.slice(charsLeftIndex(string, chars), charsRightIndex(string, chars) + 1);\n    }\n\n    /**\n     * Removes leading whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimLeft('  abc  ');\n     * // => 'abc  '\n     *\n     * _.trimLeft('-_-abc-_-', '_-');\n     * // => 'abc-_-'\n     */\n    function trimLeft(string, chars, guard) {\n      var value = string;\n      string = baseToString(string);\n      if (!string) {\n        return string;\n      }\n      if (guard ? isIterateeCall(value, chars, guard) : chars == null) {\n        return string.slice(trimmedLeftIndex(string));\n      }\n      return string.slice(charsLeftIndex(string, (chars + '')));\n    }\n\n    /**\n     * Removes trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimRight('  abc  ');\n     * // => '  abc'\n     *\n     * _.trimRight('-_-abc-_-', '_-');\n     * // => '-_-abc'\n     */\n    function trimRight(string, chars, guard) {\n      var value = string;\n      string = baseToString(string);\n      if (!string) {\n        return string;\n      }\n      if (guard ? isIterateeCall(value, chars, guard) : chars == null) {\n        return string.slice(0, trimmedRightIndex(string) + 1);\n      }\n      return string.slice(0, charsRightIndex(string, (chars + '')) + 1);\n    }\n\n    /**\n     * Truncates `string` if it's longer than the given maximum string length.\n     * The last characters of the truncated string are replaced with the omission\n     * string which defaults to \"...\".\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to truncate.\n     * @param {Object|number} [options] The options object or maximum string length.\n     * @param {number} [options.length=30] The maximum string length.\n     * @param {string} [options.omission='...'] The string to indicate text is omitted.\n     * @param {RegExp|string} [options.separator] The separator pattern to truncate to.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {string} Returns the truncated string.\n     * @example\n     *\n     * _.trunc('hi-diddly-ho there, neighborino');\n     * // => 'hi-diddly-ho there, neighbo...'\n     *\n     * _.trunc('hi-diddly-ho there, neighborino', 24);\n     * // => 'hi-diddly-ho there, n...'\n     *\n     * _.trunc('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': ' '\n     * });\n     * // => 'hi-diddly-ho there,...'\n     *\n     * _.trunc('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': /,? +/\n     * });\n     * // => 'hi-diddly-ho there...'\n     *\n     * _.trunc('hi-diddly-ho there, neighborino', {\n     *   'omission': ' [...]'\n     * });\n     * // => 'hi-diddly-ho there, neig [...]'\n     */\n    function trunc(string, options, guard) {\n      if (guard && isIterateeCall(string, options, guard)) {\n        options = undefined;\n      }\n      var length = DEFAULT_TRUNC_LENGTH,\n          omission = DEFAULT_TRUNC_OMISSION;\n\n      if (options != null) {\n        if (isObject(options)) {\n          var separator = 'separator' in options ? options.separator : separator;\n          length = 'length' in options ? (+options.length || 0) : length;\n          omission = 'omission' in options ? baseToString(options.omission) : omission;\n        } else {\n          length = +options || 0;\n        }\n      }\n      string = baseToString(string);\n      if (length >= string.length) {\n        return string;\n      }\n      var end = length - omission.length;\n      if (end < 1) {\n        return omission;\n      }\n      var result = string.slice(0, end);\n      if (separator == null) {\n        return result + omission;\n      }\n      if (isRegExp(separator)) {\n        if (string.slice(end).search(separator)) {\n          var match,\n              newEnd,\n              substring = string.slice(0, end);\n\n          if (!separator.global) {\n            separator = RegExp(separator.source, (reFlags.exec(separator) || '') + 'g');\n          }\n          separator.lastIndex = 0;\n          while ((match = separator.exec(substring))) {\n            newEnd = match.index;\n          }\n          result = result.slice(0, newEnd == null ? end : newEnd);\n        }\n      } else if (string.indexOf(separator, end) != end) {\n        var index = result.lastIndexOf(separator);\n        if (index > -1) {\n          result = result.slice(0, index);\n        }\n      }\n      return result + omission;\n    }\n\n    /**\n     * The inverse of `_.escape`; this method converts the HTML entities\n     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, `&#39;`, and `&#96;` in `string` to their\n     * corresponding characters.\n     *\n     * **Note:** No other HTML entities are unescaped. To unescape additional HTML\n     * entities use a third-party library like [_he_](https://mths.be/he).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to unescape.\n     * @returns {string} Returns the unescaped string.\n     * @example\n     *\n     * _.unescape('fred, barney, &amp; pebbles');\n     * // => 'fred, barney, & pebbles'\n     */\n    function unescape(string) {\n      string = baseToString(string);\n      return (string && reHasEscapedHtml.test(string))\n        ? string.replace(reEscapedHtml, unescapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Splits `string` into an array of its words.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {RegExp|string} [pattern] The pattern to match words.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the words of `string`.\n     * @example\n     *\n     * _.words('fred, barney, & pebbles');\n     * // => ['fred', 'barney', 'pebbles']\n     *\n     * _.words('fred, barney, & pebbles', /[^, ]+/g);\n     * // => ['fred', 'barney', '&', 'pebbles']\n     */\n    function words(string, pattern, guard) {\n      if (guard && isIterateeCall(string, pattern, guard)) {\n        pattern = undefined;\n      }\n      string = baseToString(string);\n      return string.match(pattern || reWords) || [];\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Attempts to invoke `func`, returning either the result or the caught error\n     * object. Any additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Function} func The function to attempt.\n     * @returns {*} Returns the `func` result or error object.\n     * @example\n     *\n     * // avoid throwing errors for invalid selectors\n     * var elements = _.attempt(function(selector) {\n     *   return document.querySelectorAll(selector);\n     * }, '>_>');\n     *\n     * if (_.isError(elements)) {\n     *   elements = [];\n     * }\n     */\n    var attempt = restParam(function(func, args) {\n      try {\n        return func.apply(undefined, args);\n      } catch(e) {\n        return isError(e) ? e : new Error(e);\n      }\n    });\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and arguments of the created function. If `func` is a property name the\n     * created callback returns the property value for a given element. If `func`\n     * is an object the created callback returns `true` for elements that contain\n     * the equivalent object properties, otherwise it returns `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias iteratee\n     * @category Utility\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Function} Returns the callback.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // wrap to create custom callback shorthands\n     * _.callback = _.wrap(_.callback, function(callback, func, thisArg) {\n     *   var match = /^(.+?)__([gl]t)(.+)$/.exec(func);\n     *   if (!match) {\n     *     return callback(func, thisArg);\n     *   }\n     *   return function(object) {\n     *     return match[2] == 'gt'\n     *       ? object[match[1]] > match[3]\n     *       : object[match[1]] < match[3];\n     *   };\n     * });\n     *\n     * _.filter(users, 'age__gt36');\n     * // => [{ 'user': 'fred', 'age': 40 }]\n     */\n    function callback(func, thisArg, guard) {\n      if (guard && isIterateeCall(func, thisArg, guard)) {\n        thisArg = undefined;\n      }\n      return isObjectLike(func)\n        ? matches(func)\n        : baseCallback(func, thisArg);\n    }\n\n    /**\n     * Creates a function that returns `value`.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {*} value The value to return from the new function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var object = { 'user': 'fred' };\n     * var getter = _.constant(object);\n     *\n     * getter() === object;\n     * // => true\n     */\n    function constant(value) {\n      return function() {\n        return value;\n      };\n    }\n\n    /**\n     * This method returns the first argument provided to it.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {*} value Any value.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * _.identity(object) === object;\n     * // => true\n     */\n    function identity(value) {\n      return value;\n    }\n\n    /**\n     * Creates a function that performs a deep comparison between a given object\n     * and `source`, returning `true` if the given object has equivalent property\n     * values, else `false`.\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties. For comparing a single\n     * own or inherited property value see `_.matchesProperty`.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.filter(users, _.matches({ 'age': 40, 'active': false }));\n     * // => [{ 'user': 'fred', 'age': 40, 'active': false }]\n     */\n    function matches(source) {\n      return baseMatches(baseClone(source, true));\n    }\n\n    /**\n     * Creates a function that compares the property value of `path` on a given\n     * object to `value`.\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * _.find(users, _.matchesProperty('user', 'fred'));\n     * // => { 'user': 'fred' }\n     */\n    function matchesProperty(path, srcValue) {\n      return baseMatchesProperty(path, baseClone(srcValue, true));\n    }\n\n    /**\n     * Creates a function that invokes the method at `path` on a given object.\n     * Any additional arguments are provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': { 'c': _.constant(2) } } },\n     *   { 'a': { 'b': { 'c': _.constant(1) } } }\n     * ];\n     *\n     * _.map(objects, _.method('a.b.c'));\n     * // => [2, 1]\n     *\n     * _.invoke(_.sortBy(objects, _.method(['a', 'b', 'c'])), 'a.b.c');\n     * // => [1, 2]\n     */\n    var method = restParam(function(path, args) {\n      return function(object) {\n        return invokePath(object, path, args);\n      };\n    });\n\n    /**\n     * The opposite of `_.method`; this method creates a function that invokes\n     * the method at a given path on `object`. Any additional arguments are\n     * provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Object} object The object to query.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var array = _.times(3, _.constant),\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.methodOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.methodOf(object));\n     * // => [2, 0]\n     */\n    var methodOf = restParam(function(object, args) {\n      return function(path) {\n        return invokePath(object, path, args);\n      };\n    });\n\n    /**\n     * Adds all own enumerable function properties of a source object to the\n     * destination object. If `object` is a function then methods are added to\n     * its prototype as well.\n     *\n     * **Note:** Use `_.runInContext` to create a pristine `lodash` function to\n     * avoid conflicts caused by modifying the original.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Function|Object} [object=lodash] The destination object.\n     * @param {Object} source The object of functions to add.\n     * @param {Object} [options] The options object.\n     * @param {boolean} [options.chain=true] Specify whether the functions added\n     *  are chainable.\n     * @returns {Function|Object} Returns `object`.\n     * @example\n     *\n     * function vowels(string) {\n     *   return _.filter(string, function(v) {\n     *     return /[aeiou]/i.test(v);\n     *   });\n     * }\n     *\n     * _.mixin({ 'vowels': vowels });\n     * _.vowels('fred');\n     * // => ['e']\n     *\n     * _('fred').vowels().value();\n     * // => ['e']\n     *\n     * _.mixin({ 'vowels': vowels }, { 'chain': false });\n     * _('fred').vowels();\n     * // => ['e']\n     */\n    function mixin(object, source, options) {\n      if (options == null) {\n        var isObj = isObject(source),\n            props = isObj ? keys(source) : undefined,\n            methodNames = (props && props.length) ? baseFunctions(source, props) : undefined;\n\n        if (!(methodNames ? methodNames.length : isObj)) {\n          methodNames = false;\n          options = source;\n          source = object;\n          object = this;\n        }\n      }\n      if (!methodNames) {\n        methodNames = baseFunctions(source, keys(source));\n      }\n      var chain = true,\n          index = -1,\n          isFunc = isFunction(object),\n          length = methodNames.length;\n\n      if (options === false) {\n        chain = false;\n      } else if (isObject(options) && 'chain' in options) {\n        chain = options.chain;\n      }\n      while (++index < length) {\n        var methodName = methodNames[index],\n            func = source[methodName];\n\n        object[methodName] = func;\n        if (isFunc) {\n          object.prototype[methodName] = (function(func) {\n            return function() {\n              var chainAll = this.__chain__;\n              if (chain || chainAll) {\n                var result = object(this.__wrapped__),\n                    actions = result.__actions__ = arrayCopy(this.__actions__);\n\n                actions.push({ 'func': func, 'args': arguments, 'thisArg': object });\n                result.__chain__ = chainAll;\n                return result;\n              }\n              return func.apply(object, arrayPush([this.value()], arguments));\n            };\n          }(func));\n        }\n      }\n      return object;\n    }\n\n    /**\n     * Reverts the `_` variable to its previous value and returns a reference to\n     * the `lodash` function.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @returns {Function} Returns the `lodash` function.\n     * @example\n     *\n     * var lodash = _.noConflict();\n     */\n    function noConflict() {\n      root._ = oldDash;\n      return this;\n    }\n\n    /**\n     * A no-operation function that returns `undefined` regardless of the\n     * arguments it receives.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @example\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * _.noop(object) === undefined;\n     * // => true\n     */\n    function noop() {\n      // No operation performed.\n    }\n\n    /**\n     * Creates a function that returns the property value at `path` on a\n     * given object.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': { 'c': 2 } } },\n     *   { 'a': { 'b': { 'c': 1 } } }\n     * ];\n     *\n     * _.map(objects, _.property('a.b.c'));\n     * // => [2, 1]\n     *\n     * _.pluck(_.sortBy(objects, _.property(['a', 'b', 'c'])), 'a.b.c');\n     * // => [1, 2]\n     */\n    function property(path) {\n      return isKey(path) ? baseProperty(path) : basePropertyDeep(path);\n    }\n\n    /**\n     * The opposite of `_.property`; this method creates a function that returns\n     * the property value at a given path on `object`.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Object} object The object to query.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var array = [0, 1, 2],\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.propertyOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.propertyOf(object));\n     * // => [2, 0]\n     */\n    function propertyOf(object) {\n      return function(path) {\n        return baseGet(object, toPath(path), (path + ''));\n      };\n    }\n\n    /**\n     * Creates an array of numbers (positive and/or negative) progressing from\n     * `start` up to, but not including, `end`. If `end` is not specified it's\n     * set to `start` with `start` then set to `0`. If `end` is less than `start`\n     * a zero-length range is created unless a negative `step` is specified.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the new array of numbers.\n     * @example\n     *\n     * _.range(4);\n     * // => [0, 1, 2, 3]\n     *\n     * _.range(1, 5);\n     * // => [1, 2, 3, 4]\n     *\n     * _.range(0, 20, 5);\n     * // => [0, 5, 10, 15]\n     *\n     * _.range(0, -4, -1);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.range(0);\n     * // => []\n     */\n    function range(start, end, step) {\n      if (step && isIterateeCall(start, end, step)) {\n        end = step = undefined;\n      }\n      start = +start || 0;\n      step = step == null ? 1 : (+step || 0);\n\n      if (end == null) {\n        end = start;\n        start = 0;\n      } else {\n        end = +end || 0;\n      }\n      // Use `Array(length)` so engines like Chakra and V8 avoid slower modes.\n      // See https://youtu.be/XAqIpGU8ZZk#t=17m25s for more details.\n      var index = -1,\n          length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = start;\n        start += step;\n      }\n      return result;\n    }\n\n    /**\n     * Invokes the iteratee function `n` times, returning an array of the results\n     * of each invocation. The `iteratee` is bound to `thisArg` and invoked with\n     * one argument; (index).\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {number} n The number of times to invoke `iteratee`.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * var diceRolls = _.times(3, _.partial(_.random, 1, 6, false));\n     * // => [3, 6, 4]\n     *\n     * _.times(3, function(n) {\n     *   mage.castSpell(n);\n     * });\n     * // => invokes `mage.castSpell(n)` three times with `n` of `0`, `1`, and `2`\n     *\n     * _.times(3, function(n) {\n     *   this.cast(n);\n     * }, mage);\n     * // => also invokes `mage.castSpell(n)` three times\n     */\n    function times(n, iteratee, thisArg) {\n      n = nativeFloor(n);\n\n      // Exit early to avoid a JSC JIT bug in Safari 8\n      // where `Array(0)` is treated as `Array(1)`.\n      if (n < 1 || !nativeIsFinite(n)) {\n        return [];\n      }\n      var index = -1,\n          result = Array(nativeMin(n, MAX_ARRAY_LENGTH));\n\n      iteratee = bindCallback(iteratee, thisArg, 1);\n      while (++index < n) {\n        if (index < MAX_ARRAY_LENGTH) {\n          result[index] = iteratee(index);\n        } else {\n          iteratee(index);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Generates a unique ID. If `prefix` is provided the ID is appended to it.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {string} [prefix] The value to prefix the ID with.\n     * @returns {string} Returns the unique ID.\n     * @example\n     *\n     * _.uniqueId('contact_');\n     * // => 'contact_104'\n     *\n     * _.uniqueId();\n     * // => '105'\n     */\n    function uniqueId(prefix) {\n      var id = ++idCounter;\n      return baseToString(prefix) + id;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Adds two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {number} augend The first number to add.\n     * @param {number} addend The second number to add.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.add(6, 4);\n     * // => 10\n     */\n    function add(augend, addend) {\n      return (+augend || 0) + (+addend || 0);\n    }\n\n    /**\n     * Calculates `n` rounded up to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {number} n The number to round up.\n     * @param {number} [precision=0] The precision to round up to.\n     * @returns {number} Returns the rounded up number.\n     * @example\n     *\n     * _.ceil(4.006);\n     * // => 5\n     *\n     * _.ceil(6.004, 2);\n     * // => 6.01\n     *\n     * _.ceil(6040, -2);\n     * // => 6100\n     */\n    var ceil = createRound('ceil');\n\n    /**\n     * Calculates `n` rounded down to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {number} n The number to round down.\n     * @param {number} [precision=0] The precision to round down to.\n     * @returns {number} Returns the rounded down number.\n     * @example\n     *\n     * _.floor(4.006);\n     * // => 4\n     *\n     * _.floor(0.046, 2);\n     * // => 0.04\n     *\n     * _.floor(4060, -2);\n     * // => 4000\n     */\n    var floor = createRound('floor');\n\n    /**\n     * Gets the maximum value of `collection`. If `collection` is empty or falsey\n     * `-Infinity` is returned. If an iteratee function is provided it's invoked\n     * for each value in `collection` to generate the criterion by which the value\n     * is ranked. The `iteratee` is bound to `thisArg` and invoked with three\n     * arguments: (value, index, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * _.max([4, 2, 8, 6]);\n     * // => 8\n     *\n     * _.max([]);\n     * // => -Infinity\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * _.max(users, function(chr) {\n     *   return chr.age;\n     * });\n     * // => { 'user': 'fred', 'age': 40 }\n     *\n     * // using the `_.property` callback shorthand\n     * _.max(users, 'age');\n     * // => { 'user': 'fred', 'age': 40 }\n     */\n    var max = createExtremum(gt, NEGATIVE_INFINITY);\n\n    /**\n     * Gets the minimum value of `collection`. If `collection` is empty or falsey\n     * `Infinity` is returned. If an iteratee function is provided it's invoked\n     * for each value in `collection` to generate the criterion by which the value\n     * is ranked. The `iteratee` is bound to `thisArg` and invoked with three\n     * arguments: (value, index, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * _.min([4, 2, 8, 6]);\n     * // => 2\n     *\n     * _.min([]);\n     * // => Infinity\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * _.min(users, function(chr) {\n     *   return chr.age;\n     * });\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // using the `_.property` callback shorthand\n     * _.min(users, 'age');\n     * // => { 'user': 'barney', 'age': 36 }\n     */\n    var min = createExtremum(lt, POSITIVE_INFINITY);\n\n    /**\n     * Calculates `n` rounded to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {number} n The number to round.\n     * @param {number} [precision=0] The precision to round to.\n     * @returns {number} Returns the rounded number.\n     * @example\n     *\n     * _.round(4.006);\n     * // => 4\n     *\n     * _.round(4.006, 2);\n     * // => 4.01\n     *\n     * _.round(4060, -2);\n     * // => 4100\n     */\n    var round = createRound('round');\n\n    /**\n     * Gets the sum of the values in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.sum([4, 6]);\n     * // => 10\n     *\n     * _.sum({ 'a': 4, 'b': 6 });\n     * // => 10\n     *\n     * var objects = [\n     *   { 'n': 4 },\n     *   { 'n': 6 }\n     * ];\n     *\n     * _.sum(objects, function(object) {\n     *   return object.n;\n     * });\n     * // => 10\n     *\n     * // using the `_.property` callback shorthand\n     * _.sum(objects, 'n');\n     * // => 10\n     */\n    function sum(collection, iteratee, thisArg) {\n      if (thisArg && isIterateeCall(collection, iteratee, thisArg)) {\n        iteratee = undefined;\n      }\n      iteratee = getCallback(iteratee, thisArg, 3);\n      return iteratee.length == 1\n        ? arraySum(isArray(collection) ? collection : toIterable(collection), iteratee)\n        : baseSum(collection, iteratee);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    // Ensure wrappers are instances of `baseLodash`.\n    lodash.prototype = baseLodash.prototype;\n\n    LodashWrapper.prototype = baseCreate(baseLodash.prototype);\n    LodashWrapper.prototype.constructor = LodashWrapper;\n\n    LazyWrapper.prototype = baseCreate(baseLodash.prototype);\n    LazyWrapper.prototype.constructor = LazyWrapper;\n\n    // Add functions to the `Map` cache.\n    MapCache.prototype['delete'] = mapDelete;\n    MapCache.prototype.get = mapGet;\n    MapCache.prototype.has = mapHas;\n    MapCache.prototype.set = mapSet;\n\n    // Add functions to the `Set` cache.\n    SetCache.prototype.push = cachePush;\n\n    // Assign cache to `_.memoize`.\n    memoize.Cache = MapCache;\n\n    // Add functions that return wrapped values when chaining.\n    lodash.after = after;\n    lodash.ary = ary;\n    lodash.assign = assign;\n    lodash.at = at;\n    lodash.before = before;\n    lodash.bind = bind;\n    lodash.bindAll = bindAll;\n    lodash.bindKey = bindKey;\n    lodash.callback = callback;\n    lodash.chain = chain;\n    lodash.chunk = chunk;\n    lodash.compact = compact;\n    lodash.constant = constant;\n    lodash.countBy = countBy;\n    lodash.create = create;\n    lodash.curry = curry;\n    lodash.curryRight = curryRight;\n    lodash.debounce = debounce;\n    lodash.defaults = defaults;\n    lodash.defaultsDeep = defaultsDeep;\n    lodash.defer = defer;\n    lodash.delay = delay;\n    lodash.difference = difference;\n    lodash.drop = drop;\n    lodash.dropRight = dropRight;\n    lodash.dropRightWhile = dropRightWhile;\n    lodash.dropWhile = dropWhile;\n    lodash.fill = fill;\n    lodash.filter = filter;\n    lodash.flatten = flatten;\n    lodash.flattenDeep = flattenDeep;\n    lodash.flow = flow;\n    lodash.flowRight = flowRight;\n    lodash.forEach = forEach;\n    lodash.forEachRight = forEachRight;\n    lodash.forIn = forIn;\n    lodash.forInRight = forInRight;\n    lodash.forOwn = forOwn;\n    lodash.forOwnRight = forOwnRight;\n    lodash.functions = functions;\n    lodash.groupBy = groupBy;\n    lodash.indexBy = indexBy;\n    lodash.initial = initial;\n    lodash.intersection = intersection;\n    lodash.invert = invert;\n    lodash.invoke = invoke;\n    lodash.keys = keys;\n    lodash.keysIn = keysIn;\n    lodash.map = map;\n    lodash.mapKeys = mapKeys;\n    lodash.mapValues = mapValues;\n    lodash.matches = matches;\n    lodash.matchesProperty = matchesProperty;\n    lodash.memoize = memoize;\n    lodash.merge = merge;\n    lodash.method = method;\n    lodash.methodOf = methodOf;\n    lodash.mixin = mixin;\n    lodash.modArgs = modArgs;\n    lodash.negate = negate;\n    lodash.omit = omit;\n    lodash.once = once;\n    lodash.pairs = pairs;\n    lodash.partial = partial;\n    lodash.partialRight = partialRight;\n    lodash.partition = partition;\n    lodash.pick = pick;\n    lodash.pluck = pluck;\n    lodash.property = property;\n    lodash.propertyOf = propertyOf;\n    lodash.pull = pull;\n    lodash.pullAt = pullAt;\n    lodash.range = range;\n    lodash.rearg = rearg;\n    lodash.reject = reject;\n    lodash.remove = remove;\n    lodash.rest = rest;\n    lodash.restParam = restParam;\n    lodash.set = set;\n    lodash.shuffle = shuffle;\n    lodash.slice = slice;\n    lodash.sortBy = sortBy;\n    lodash.sortByAll = sortByAll;\n    lodash.sortByOrder = sortByOrder;\n    lodash.spread = spread;\n    lodash.take = take;\n    lodash.takeRight = takeRight;\n    lodash.takeRightWhile = takeRightWhile;\n    lodash.takeWhile = takeWhile;\n    lodash.tap = tap;\n    lodash.throttle = throttle;\n    lodash.thru = thru;\n    lodash.times = times;\n    lodash.toArray = toArray;\n    lodash.toPlainObject = toPlainObject;\n    lodash.transform = transform;\n    lodash.union = union;\n    lodash.uniq = uniq;\n    lodash.unzip = unzip;\n    lodash.unzipWith = unzipWith;\n    lodash.values = values;\n    lodash.valuesIn = valuesIn;\n    lodash.where = where;\n    lodash.without = without;\n    lodash.wrap = wrap;\n    lodash.xor = xor;\n    lodash.zip = zip;\n    lodash.zipObject = zipObject;\n    lodash.zipWith = zipWith;\n\n    // Add aliases.\n    lodash.backflow = flowRight;\n    lodash.collect = map;\n    lodash.compose = flowRight;\n    lodash.each = forEach;\n    lodash.eachRight = forEachRight;\n    lodash.extend = assign;\n    lodash.iteratee = callback;\n    lodash.methods = functions;\n    lodash.object = zipObject;\n    lodash.select = filter;\n    lodash.tail = rest;\n    lodash.unique = uniq;\n\n    // Add functions to `lodash.prototype`.\n    mixin(lodash, lodash);\n\n    /*------------------------------------------------------------------------*/\n\n    // Add functions that return unwrapped values when chaining.\n    lodash.add = add;\n    lodash.attempt = attempt;\n    lodash.camelCase = camelCase;\n    lodash.capitalize = capitalize;\n    lodash.ceil = ceil;\n    lodash.clone = clone;\n    lodash.cloneDeep = cloneDeep;\n    lodash.deburr = deburr;\n    lodash.endsWith = endsWith;\n    lodash.escape = escape;\n    lodash.escapeRegExp = escapeRegExp;\n    lodash.every = every;\n    lodash.find = find;\n    lodash.findIndex = findIndex;\n    lodash.findKey = findKey;\n    lodash.findLast = findLast;\n    lodash.findLastIndex = findLastIndex;\n    lodash.findLastKey = findLastKey;\n    lodash.findWhere = findWhere;\n    lodash.first = first;\n    lodash.floor = floor;\n    lodash.get = get;\n    lodash.gt = gt;\n    lodash.gte = gte;\n    lodash.has = has;\n    lodash.identity = identity;\n    lodash.includes = includes;\n    lodash.indexOf = indexOf;\n    lodash.inRange = inRange;\n    lodash.isArguments = isArguments;\n    lodash.isArray = isArray;\n    lodash.isBoolean = isBoolean;\n    lodash.isDate = isDate;\n    lodash.isElement = isElement;\n    lodash.isEmpty = isEmpty;\n    lodash.isEqual = isEqual;\n    lodash.isError = isError;\n    lodash.isFinite = isFinite;\n    lodash.isFunction = isFunction;\n    lodash.isMatch = isMatch;\n    lodash.isNaN = isNaN;\n    lodash.isNative = isNative;\n    lodash.isNull = isNull;\n    lodash.isNumber = isNumber;\n    lodash.isObject = isObject;\n    lodash.isPlainObject = isPlainObject;\n    lodash.isRegExp = isRegExp;\n    lodash.isString = isString;\n    lodash.isTypedArray = isTypedArray;\n    lodash.isUndefined = isUndefined;\n    lodash.kebabCase = kebabCase;\n    lodash.last = last;\n    lodash.lastIndexOf = lastIndexOf;\n    lodash.lt = lt;\n    lodash.lte = lte;\n    lodash.max = max;\n    lodash.min = min;\n    lodash.noConflict = noConflict;\n    lodash.noop = noop;\n    lodash.now = now;\n    lodash.pad = pad;\n    lodash.padLeft = padLeft;\n    lodash.padRight = padRight;\n    lodash.parseInt = parseInt;\n    lodash.random = random;\n    lodash.reduce = reduce;\n    lodash.reduceRight = reduceRight;\n    lodash.repeat = repeat;\n    lodash.result = result;\n    lodash.round = round;\n    lodash.runInContext = runInContext;\n    lodash.size = size;\n    lodash.snakeCase = snakeCase;\n    lodash.some = some;\n    lodash.sortedIndex = sortedIndex;\n    lodash.sortedLastIndex = sortedLastIndex;\n    lodash.startCase = startCase;\n    lodash.startsWith = startsWith;\n    lodash.sum = sum;\n    lodash.template = template;\n    lodash.trim = trim;\n    lodash.trimLeft = trimLeft;\n    lodash.trimRight = trimRight;\n    lodash.trunc = trunc;\n    lodash.unescape = unescape;\n    lodash.uniqueId = uniqueId;\n    lodash.words = words;\n\n    // Add aliases.\n    lodash.all = every;\n    lodash.any = some;\n    lodash.contains = includes;\n    lodash.eq = isEqual;\n    lodash.detect = find;\n    lodash.foldl = reduce;\n    lodash.foldr = reduceRight;\n    lodash.head = first;\n    lodash.include = includes;\n    lodash.inject = reduce;\n\n    mixin(lodash, (function() {\n      var source = {};\n      baseForOwn(lodash, function(func, methodName) {\n        if (!lodash.prototype[methodName]) {\n          source[methodName] = func;\n        }\n      });\n      return source;\n    }()), false);\n\n    /*------------------------------------------------------------------------*/\n\n    // Add functions capable of returning wrapped and unwrapped values when chaining.\n    lodash.sample = sample;\n\n    lodash.prototype.sample = function(n) {\n      if (!this.__chain__ && n == null) {\n        return sample(this.value());\n      }\n      return this.thru(function(value) {\n        return sample(value, n);\n      });\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The semantic version number.\n     *\n     * @static\n     * @memberOf _\n     * @type string\n     */\n    lodash.VERSION = VERSION;\n\n    // Assign default placeholders.\n    arrayEach(['bind', 'bindKey', 'curry', 'curryRight', 'partial', 'partialRight'], function(methodName) {\n      lodash[methodName].placeholder = lodash;\n    });\n\n    // Add `LazyWrapper` methods for `_.drop` and `_.take` variants.\n    arrayEach(['drop', 'take'], function(methodName, index) {\n      LazyWrapper.prototype[methodName] = function(n) {\n        var filtered = this.__filtered__;\n        if (filtered && !index) {\n          return new LazyWrapper(this);\n        }\n        n = n == null ? 1 : nativeMax(nativeFloor(n) || 0, 0);\n\n        var result = this.clone();\n        if (filtered) {\n          result.__takeCount__ = nativeMin(result.__takeCount__, n);\n        } else {\n          result.__views__.push({ 'size': n, 'type': methodName + (result.__dir__ < 0 ? 'Right' : '') });\n        }\n        return result;\n      };\n\n      LazyWrapper.prototype[methodName + 'Right'] = function(n) {\n        return this.reverse()[methodName](n).reverse();\n      };\n    });\n\n    // Add `LazyWrapper` methods that accept an `iteratee` value.\n    arrayEach(['filter', 'map', 'takeWhile'], function(methodName, index) {\n      var type = index + 1,\n          isFilter = type != LAZY_MAP_FLAG;\n\n      LazyWrapper.prototype[methodName] = function(iteratee, thisArg) {\n        var result = this.clone();\n        result.__iteratees__.push({ 'iteratee': getCallback(iteratee, thisArg, 1), 'type': type });\n        result.__filtered__ = result.__filtered__ || isFilter;\n        return result;\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.first` and `_.last`.\n    arrayEach(['first', 'last'], function(methodName, index) {\n      var takeName = 'take' + (index ? 'Right' : '');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this[takeName](1).value()[0];\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.initial` and `_.rest`.\n    arrayEach(['initial', 'rest'], function(methodName, index) {\n      var dropName = 'drop' + (index ? '' : 'Right');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this.__filtered__ ? new LazyWrapper(this) : this[dropName](1);\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.pluck` and `_.where`.\n    arrayEach(['pluck', 'where'], function(methodName, index) {\n      var operationName = index ? 'filter' : 'map',\n          createCallback = index ? baseMatches : property;\n\n      LazyWrapper.prototype[methodName] = function(value) {\n        return this[operationName](createCallback(value));\n      };\n    });\n\n    LazyWrapper.prototype.compact = function() {\n      return this.filter(identity);\n    };\n\n    LazyWrapper.prototype.reject = function(predicate, thisArg) {\n      predicate = getCallback(predicate, thisArg, 1);\n      return this.filter(function(value) {\n        return !predicate(value);\n      });\n    };\n\n    LazyWrapper.prototype.slice = function(start, end) {\n      start = start == null ? 0 : (+start || 0);\n\n      var result = this;\n      if (result.__filtered__ && (start > 0 || end < 0)) {\n        return new LazyWrapper(result);\n      }\n      if (start < 0) {\n        result = result.takeRight(-start);\n      } else if (start) {\n        result = result.drop(start);\n      }\n      if (end !== undefined) {\n        end = (+end || 0);\n        result = end < 0 ? result.dropRight(-end) : result.take(end - start);\n      }\n      return result;\n    };\n\n    LazyWrapper.prototype.takeRightWhile = function(predicate, thisArg) {\n      return this.reverse().takeWhile(predicate, thisArg).reverse();\n    };\n\n    LazyWrapper.prototype.toArray = function() {\n      return this.take(POSITIVE_INFINITY);\n    };\n\n    // Add `LazyWrapper` methods to `lodash.prototype`.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var checkIteratee = /^(?:filter|map|reject)|While$/.test(methodName),\n          retUnwrapped = /^(?:first|last)$/.test(methodName),\n          lodashFunc = lodash[retUnwrapped ? ('take' + (methodName == 'last' ? 'Right' : '')) : methodName];\n\n      if (!lodashFunc) {\n        return;\n      }\n      lodash.prototype[methodName] = function() {\n        var args = retUnwrapped ? [1] : arguments,\n            chainAll = this.__chain__,\n            value = this.__wrapped__,\n            isHybrid = !!this.__actions__.length,\n            isLazy = value instanceof LazyWrapper,\n            iteratee = args[0],\n            useLazy = isLazy || isArray(value);\n\n        if (useLazy && checkIteratee && typeof iteratee == 'function' && iteratee.length != 1) {\n          // Avoid lazy use if the iteratee has a \"length\" value other than `1`.\n          isLazy = useLazy = false;\n        }\n        var interceptor = function(value) {\n          return (retUnwrapped && chainAll)\n            ? lodashFunc(value, 1)[0]\n            : lodashFunc.apply(undefined, arrayPush([value], args));\n        };\n\n        var action = { 'func': thru, 'args': [interceptor], 'thisArg': undefined },\n            onlyLazy = isLazy && !isHybrid;\n\n        if (retUnwrapped && !chainAll) {\n          if (onlyLazy) {\n            value = value.clone();\n            value.__actions__.push(action);\n            return func.call(value);\n          }\n          return lodashFunc.call(undefined, this.value())[0];\n        }\n        if (!retUnwrapped && useLazy) {\n          value = onlyLazy ? value : new LazyWrapper(this);\n          var result = func.apply(value, args);\n          result.__actions__.push(action);\n          return new LodashWrapper(result, chainAll);\n        }\n        return this.thru(interceptor);\n      };\n    });\n\n    // Add `Array` and `String` methods to `lodash.prototype`.\n    arrayEach(['join', 'pop', 'push', 'replace', 'shift', 'sort', 'splice', 'split', 'unshift'], function(methodName) {\n      var protoFunc = (/^(?:replace|split)$/.test(methodName) ? stringProto : arrayProto)[methodName],\n          chainName = /^(?:push|sort|unshift)$/.test(methodName) ? 'tap' : 'thru',\n          fixObjects = !support.spliceObjects && /^(?:pop|shift|splice)$/.test(methodName),\n          retUnwrapped = /^(?:join|pop|replace|shift)$/.test(methodName);\n\n      // Avoid array-like object bugs with `Array#shift` and `Array#splice` in\n      // IE < 9, Firefox < 10, and RingoJS.\n      var func = !fixObjects ? protoFunc : function() {\n        var result = protoFunc.apply(this, arguments);\n        if (this.length === 0) {\n          delete this[0];\n        }\n        return result;\n      };\n\n      lodash.prototype[methodName] = function() {\n        var args = arguments;\n        if (retUnwrapped && !this.__chain__) {\n          return func.apply(this.value(), args);\n        }\n        return this[chainName](function(value) {\n          return func.apply(value, args);\n        });\n      };\n    });\n\n    // Map minified function names to their real names.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var lodashFunc = lodash[methodName];\n      if (lodashFunc) {\n        var key = (lodashFunc.name + ''),\n            names = realNames[key] || (realNames[key] = []);\n\n        names.push({ 'name': methodName, 'func': lodashFunc });\n      }\n    });\n\n    realNames[createHybridWrapper(undefined, BIND_KEY_FLAG).name] = [{ 'name': 'wrapper', 'func': undefined }];\n\n    // Add functions to the lazy wrapper.\n    LazyWrapper.prototype.clone = lazyClone;\n    LazyWrapper.prototype.reverse = lazyReverse;\n    LazyWrapper.prototype.value = lazyValue;\n\n    // Add chaining functions to the `lodash` wrapper.\n    lodash.prototype.chain = wrapperChain;\n    lodash.prototype.commit = wrapperCommit;\n    lodash.prototype.concat = wrapperConcat;\n    lodash.prototype.plant = wrapperPlant;\n    lodash.prototype.reverse = wrapperReverse;\n    lodash.prototype.toString = wrapperToString;\n    lodash.prototype.run = lodash.prototype.toJSON = lodash.prototype.valueOf = lodash.prototype.value = wrapperValue;\n\n    // Add function aliases to the `lodash` wrapper.\n    lodash.prototype.collect = lodash.prototype.map;\n    lodash.prototype.head = lodash.prototype.first;\n    lodash.prototype.select = lodash.prototype.filter;\n    lodash.prototype.tail = lodash.prototype.rest;\n\n    return lodash;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  // Export lodash.\n  var _ = runInContext();\n\n  // Some AMD build optimizers like r.js check for condition patterns like the following:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose lodash to the global object when an AMD loader is present to avoid\n    // errors in cases where lodash is loaded by a script tag and not intended\n    // as an AMD module. See http://requirejs.org/docs/errors.html#mismatch for\n    // more details.\n    root._ = _;\n\n    // Define as an anonymous module so, through path mapping, it can be\n    // referenced as the \"underscore\" module.\n    define(function() {\n      return _;\n    });\n  }\n  // Check for `exports` after `define` in case a build optimizer adds an `exports` object.\n  else if (freeExports && freeModule) {\n    // Export for Node.js or RingoJS.\n    if (moduleExports) {\n      (freeModule.exports = _)._ = _;\n    }\n    // Export for Rhino with CommonJS support.\n    else {\n      freeExports._ = _;\n    }\n  }\n  else {\n    // Export for a browser or Rhino.\n    root._ = _;\n  }\n}.call(this));\n","/*!\n * @description Recursive object extending\n * @author Viacheslav Lotsmanov <lotsmanov89@gmail.com>\n * @license MIT\n *\n * The MIT License (MIT)\n *\n * Copyright (c) 2013-2018 Viacheslav Lotsmanov\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy of\n * this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to\n * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\n * the Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\n * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\n * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\n * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\n'use strict';\n\nfunction isSpecificValue(val) {\n\treturn (\n\t\tval instanceof Buffer\n\t\t|| val instanceof Date\n\t\t|| val instanceof RegExp\n\t) ? true : false;\n}\n\nfunction cloneSpecificValue(val) {\n\tif (val instanceof Buffer) {\n\t\tvar x = Buffer.alloc\n\t\t\t? Buffer.alloc(val.length)\n\t\t\t: new Buffer(val.length);\n\t\tval.copy(x);\n\t\treturn x;\n\t} else if (val instanceof Date) {\n\t\treturn new Date(val.getTime());\n\t} else if (val instanceof RegExp) {\n\t\treturn new RegExp(val);\n\t} else {\n\t\tthrow new Error('Unexpected situation');\n\t}\n}\n\n/**\n * Recursive cloning array.\n */\nfunction deepCloneArray(arr) {\n\tvar clone = [];\n\tarr.forEach(function (item, index) {\n\t\tif (typeof item === 'object' && item !== null) {\n\t\t\tif (Array.isArray(item)) {\n\t\t\t\tclone[index] = deepCloneArray(item);\n\t\t\t} else if (isSpecificValue(item)) {\n\t\t\t\tclone[index] = cloneSpecificValue(item);\n\t\t\t} else {\n\t\t\t\tclone[index] = deepExtend({}, item);\n\t\t\t}\n\t\t} else {\n\t\t\tclone[index] = item;\n\t\t}\n\t});\n\treturn clone;\n}\n\nfunction safeGetProperty(object, property) {\n\treturn property === '__proto__' ? undefined : object[property];\n}\n\n/**\n * Extening object that entered in first argument.\n *\n * Returns extended object or false if have no target object or incorrect type.\n *\n * If you wish to clone source object (without modify it), just use empty new\n * object as first argument, like this:\n *   deepExtend({}, yourObj_1, [yourObj_N]);\n */\nvar deepExtend = module.exports = function (/*obj_1, [obj_2], [obj_N]*/) {\n\tif (arguments.length < 1 || typeof arguments[0] !== 'object') {\n\t\treturn false;\n\t}\n\n\tif (arguments.length < 2) {\n\t\treturn arguments[0];\n\t}\n\n\tvar target = arguments[0];\n\n\t// convert arguments to array and cut off target object\n\tvar args = Array.prototype.slice.call(arguments, 1);\n\n\tvar val, src, clone;\n\n\targs.forEach(function (obj) {\n\t\t// skip argument if isn't an object, is null, or is an array\n\t\tif (typeof obj !== 'object' || obj === null || Array.isArray(obj)) {\n\t\t\treturn;\n\t\t}\n\n\t\tObject.keys(obj).forEach(function (key) {\n\t\t\tsrc = safeGetProperty(target, key); // source value\n\t\t\tval = safeGetProperty(obj, key); // new value\n\n\t\t\t// recursion prevention\n\t\t\tif (val === target) {\n\t\t\t\treturn;\n\n\t\t\t/**\n\t\t\t * if new value isn't object then just overwrite by new value\n\t\t\t * instead of extending.\n\t\t\t */\n\t\t\t} else if (typeof val !== 'object' || val === null) {\n\t\t\t\ttarget[key] = val;\n\t\t\t\treturn;\n\n\t\t\t// just clone arrays (and recursive clone objects inside)\n\t\t\t} else if (Array.isArray(val)) {\n\t\t\t\ttarget[key] = deepCloneArray(val);\n\t\t\t\treturn;\n\n\t\t\t// custom cloning and overwrite for specific objects\n\t\t\t} else if (isSpecificValue(val)) {\n\t\t\t\ttarget[key] = cloneSpecificValue(val);\n\t\t\t\treturn;\n\n\t\t\t// overwrite by new value if source isn't object or array\n\t\t\t} else if (typeof src !== 'object' || src === null || Array.isArray(src)) {\n\t\t\t\ttarget[key] = deepExtend({}, val);\n\t\t\t\treturn;\n\n\t\t\t// source value and new value is objects both, extending...\n\t\t\t} else {\n\t\t\t\ttarget[key] = deepExtend(src, val);\n\t\t\t\treturn;\n\t\t\t}\n\t\t});\n\t});\n\n\treturn target;\n};\n","exports.parse = exports.decode = decode\n\nexports.stringify = exports.encode = encode\n\nexports.safe = safe\nexports.unsafe = unsafe\n\nvar eol = typeof process !== 'undefined' &&\n  process.platform === 'win32' ? '\\r\\n' : '\\n'\n\nfunction encode (obj, opt) {\n  var children = []\n  var out = ''\n\n  if (typeof opt === 'string') {\n    opt = {\n      section: opt,\n      whitespace: false,\n    }\n  } else {\n    opt = opt || {}\n    opt.whitespace = opt.whitespace === true\n  }\n\n  var separator = opt.whitespace ? ' = ' : '='\n\n  Object.keys(obj).forEach(function (k, _, __) {\n    var val = obj[k]\n    if (val && Array.isArray(val)) {\n      val.forEach(function (item) {\n        out += safe(k + '[]') + separator + safe(item) + '\\n'\n      })\n    } else if (val && typeof val === 'object')\n      children.push(k)\n    else\n      out += safe(k) + separator + safe(val) + eol\n  })\n\n  if (opt.section && out.length)\n    out = '[' + safe(opt.section) + ']' + eol + out\n\n  children.forEach(function (k, _, __) {\n    var nk = dotSplit(k).join('\\\\.')\n    var section = (opt.section ? opt.section + '.' : '') + nk\n    var child = encode(obj[k], {\n      section: section,\n      whitespace: opt.whitespace,\n    })\n    if (out.length && child.length)\n      out += eol\n\n    out += child\n  })\n\n  return out\n}\n\nfunction dotSplit (str) {\n  return str.replace(/\\1/g, '\\u0002LITERAL\\\\1LITERAL\\u0002')\n    .replace(/\\\\\\./g, '\\u0001')\n    .split(/\\./).map(function (part) {\n      return part.replace(/\\1/g, '\\\\.')\n        .replace(/\\2LITERAL\\\\1LITERAL\\2/g, '\\u0001')\n    })\n}\n\nfunction decode (str) {\n  var out = {}\n  var p = out\n  var section = null\n  //          section     |key      = value\n  var re = /^\\[([^\\]]*)\\]$|^([^=]+)(=(.*))?$/i\n  var lines = str.split(/[\\r\\n]+/g)\n\n  lines.forEach(function (line, _, __) {\n    if (!line || line.match(/^\\s*[;#]/))\n      return\n    var match = line.match(re)\n    if (!match)\n      return\n    if (match[1] !== undefined) {\n      section = unsafe(match[1])\n      if (section === '__proto__') {\n        // not allowed\n        // keep parsing the section, but don't attach it.\n        p = {}\n        return\n      }\n      p = out[section] = out[section] || {}\n      return\n    }\n    var key = unsafe(match[2])\n    if (key === '__proto__')\n      return\n    var value = match[3] ? unsafe(match[4]) : true\n    switch (value) {\n      case 'true':\n      case 'false':\n      case 'null': value = JSON.parse(value)\n    }\n\n    // Convert keys with '[]' suffix to an array\n    if (key.length > 2 && key.slice(-2) === '[]') {\n      key = key.substring(0, key.length - 2)\n      if (key === '__proto__')\n        return\n      if (!p[key])\n        p[key] = []\n      else if (!Array.isArray(p[key]))\n        p[key] = [p[key]]\n    }\n\n    // safeguard against resetting a previously defined\n    // array by accidentally forgetting the brackets\n    if (Array.isArray(p[key]))\n      p[key].push(value)\n    else\n      p[key] = value\n  })\n\n  // {a:{y:1},\"a.b\":{x:2}} --> {a:{y:1,b:{x:2}}}\n  // use a filter to return the keys that have to be deleted.\n  Object.keys(out).filter(function (k, _, __) {\n    if (!out[k] ||\n      typeof out[k] !== 'object' ||\n      Array.isArray(out[k]))\n      return false\n\n    // see if the parent section is also an object.\n    // if so, add it to that, and mark this one for deletion\n    var parts = dotSplit(k)\n    var p = out\n    var l = parts.pop()\n    var nl = l.replace(/\\\\\\./g, '.')\n    parts.forEach(function (part, _, __) {\n      if (part === '__proto__')\n        return\n      if (!p[part] || typeof p[part] !== 'object')\n        p[part] = {}\n      p = p[part]\n    })\n    if (p === out && nl === l)\n      return false\n\n    p[nl] = out[k]\n    return true\n  }).forEach(function (del, _, __) {\n    delete out[del]\n  })\n\n  return out\n}\n\nfunction isQuoted (val) {\n  return (val.charAt(0) === '\"' && val.slice(-1) === '\"') ||\n    (val.charAt(0) === \"'\" && val.slice(-1) === \"'\")\n}\n\nfunction safe (val) {\n  return (typeof val !== 'string' ||\n    val.match(/[=\\r\\n]/) ||\n    val.match(/^\\[/) ||\n    (val.length > 1 &&\n     isQuoted(val)) ||\n    val !== val.trim())\n    ? JSON.stringify(val)\n    : val.replace(/;/g, '\\\\;').replace(/#/g, '\\\\#')\n}\n\nfunction unsafe (val, doUnesc) {\n  val = (val || '').trim()\n  if (isQuoted(val)) {\n    // remove the single quotes before calling JSON.parse\n    if (val.charAt(0) === \"'\")\n      val = val.substr(1, val.length - 2)\n\n    try {\n      val = JSON.parse(val)\n    } catch (_) {}\n  } else {\n    // walk the val to find the first not-escaped ; character\n    var esc = false\n    var unesc = ''\n    for (var i = 0, l = val.length; i < l; i++) {\n      var c = val.charAt(i)\n      if (esc) {\n        if ('\\\\;#'.indexOf(c) !== -1)\n          unesc += c\n        else\n          unesc += '\\\\' + c\n\n        esc = false\n      } else if (';#'.indexOf(c) !== -1)\n        break\n      else if (c === '\\\\')\n        esc = true\n      else\n        unesc += c\n    }\n    if (esc)\n      unesc += '\\\\'\n\n    return unesc.trim()\n  }\n  return val\n}\n","module.exports = function (args, opts) {\n    if (!opts) opts = {};\n    \n    var flags = { bools : {}, strings : {}, unknownFn: null };\n\n    if (typeof opts['unknown'] === 'function') {\n        flags.unknownFn = opts['unknown'];\n    }\n\n    if (typeof opts['boolean'] === 'boolean' && opts['boolean']) {\n      flags.allBools = true;\n    } else {\n      [].concat(opts['boolean']).filter(Boolean).forEach(function (key) {\n          flags.bools[key] = true;\n      });\n    }\n    \n    var aliases = {};\n    Object.keys(opts.alias || {}).forEach(function (key) {\n        aliases[key] = [].concat(opts.alias[key]);\n        aliases[key].forEach(function (x) {\n            aliases[x] = [key].concat(aliases[key].filter(function (y) {\n                return x !== y;\n            }));\n        });\n    });\n\n    [].concat(opts.string).filter(Boolean).forEach(function (key) {\n        flags.strings[key] = true;\n        if (aliases[key]) {\n            flags.strings[aliases[key]] = true;\n        }\n     });\n\n    var defaults = opts['default'] || {};\n    \n    var argv = { _ : [] };\n    Object.keys(flags.bools).forEach(function (key) {\n        setArg(key, defaults[key] === undefined ? false : defaults[key]);\n    });\n    \n    var notFlags = [];\n\n    if (args.indexOf('--') !== -1) {\n        notFlags = args.slice(args.indexOf('--')+1);\n        args = args.slice(0, args.indexOf('--'));\n    }\n\n    function argDefined(key, arg) {\n        return (flags.allBools && /^--[^=]+$/.test(arg)) ||\n            flags.strings[key] || flags.bools[key] || aliases[key];\n    }\n\n    function setArg (key, val, arg) {\n        if (arg && flags.unknownFn && !argDefined(key, arg)) {\n            if (flags.unknownFn(arg) === false) return;\n        }\n\n        var value = !flags.strings[key] && isNumber(val)\n            ? Number(val) : val\n        ;\n        setKey(argv, key.split('.'), value);\n        \n        (aliases[key] || []).forEach(function (x) {\n            setKey(argv, x.split('.'), value);\n        });\n    }\n\n    function setKey (obj, keys, value) {\n        var o = obj;\n        for (var i = 0; i < keys.length-1; i++) {\n            var key = keys[i];\n            if (isConstructorOrProto(o, key)) return;\n            if (o[key] === undefined) o[key] = {};\n            if (o[key] === Object.prototype || o[key] === Number.prototype\n                || o[key] === String.prototype) o[key] = {};\n            if (o[key] === Array.prototype) o[key] = [];\n            o = o[key];\n        }\n\n        var key = keys[keys.length - 1];\n        if (isConstructorOrProto(o, key)) return;\n        if (o === Object.prototype || o === Number.prototype\n            || o === String.prototype) o = {};\n        if (o === Array.prototype) o = [];\n        if (o[key] === undefined || flags.bools[key] || typeof o[key] === 'boolean') {\n            o[key] = value;\n        }\n        else if (Array.isArray(o[key])) {\n            o[key].push(value);\n        }\n        else {\n            o[key] = [ o[key], value ];\n        }\n    }\n    \n    function aliasIsBoolean(key) {\n      return aliases[key].some(function (x) {\n          return flags.bools[x];\n      });\n    }\n\n    for (var i = 0; i < args.length; i++) {\n        var arg = args[i];\n        \n        if (/^--.+=/.test(arg)) {\n            // Using [\\s\\S] instead of . because js doesn't support the\n            // 'dotall' regex modifier. See:\n            // http://stackoverflow.com/a/1068308/13216\n            var m = arg.match(/^--([^=]+)=([\\s\\S]*)$/);\n            var key = m[1];\n            var value = m[2];\n            if (flags.bools[key]) {\n                value = value !== 'false';\n            }\n            setArg(key, value, arg);\n        }\n        else if (/^--no-.+/.test(arg)) {\n            var key = arg.match(/^--no-(.+)/)[1];\n            setArg(key, false, arg);\n        }\n        else if (/^--.+/.test(arg)) {\n            var key = arg.match(/^--(.+)/)[1];\n            var next = args[i + 1];\n            if (next !== undefined && !/^-/.test(next)\n            && !flags.bools[key]\n            && !flags.allBools\n            && (aliases[key] ? !aliasIsBoolean(key) : true)) {\n                setArg(key, next, arg);\n                i++;\n            }\n            else if (/^(true|false)$/.test(next)) {\n                setArg(key, next === 'true', arg);\n                i++;\n            }\n            else {\n                setArg(key, flags.strings[key] ? '' : true, arg);\n            }\n        }\n        else if (/^-[^-]+/.test(arg)) {\n            var letters = arg.slice(1,-1).split('');\n            \n            var broken = false;\n            for (var j = 0; j < letters.length; j++) {\n                var next = arg.slice(j+2);\n                \n                if (next === '-') {\n                    setArg(letters[j], next, arg)\n                    continue;\n                }\n                \n                if (/[A-Za-z]/.test(letters[j]) && /=/.test(next)) {\n                    setArg(letters[j], next.split('=')[1], arg);\n                    broken = true;\n                    break;\n                }\n                \n                if (/[A-Za-z]/.test(letters[j])\n                && /-?\\d+(\\.\\d*)?(e-?\\d+)?$/.test(next)) {\n                    setArg(letters[j], next, arg);\n                    broken = true;\n                    break;\n                }\n                \n                if (letters[j+1] && letters[j+1].match(/\\W/)) {\n                    setArg(letters[j], arg.slice(j+2), arg);\n                    broken = true;\n                    break;\n                }\n                else {\n                    setArg(letters[j], flags.strings[letters[j]] ? '' : true, arg);\n                }\n            }\n            \n            var key = arg.slice(-1)[0];\n            if (!broken && key !== '-') {\n                if (args[i+1] && !/^(-|--)[^-]/.test(args[i+1])\n                && !flags.bools[key]\n                && (aliases[key] ? !aliasIsBoolean(key) : true)) {\n                    setArg(key, args[i+1], arg);\n                    i++;\n                }\n                else if (args[i+1] && /^(true|false)$/.test(args[i+1])) {\n                    setArg(key, args[i+1] === 'true', arg);\n                    i++;\n                }\n                else {\n                    setArg(key, flags.strings[key] ? '' : true, arg);\n                }\n            }\n        }\n        else {\n            if (!flags.unknownFn || flags.unknownFn(arg) !== false) {\n                argv._.push(\n                    flags.strings['_'] || !isNumber(arg) ? arg : Number(arg)\n                );\n            }\n            if (opts.stopEarly) {\n                argv._.push.apply(argv._, args.slice(i + 1));\n                break;\n            }\n        }\n    }\n    \n    Object.keys(defaults).forEach(function (key) {\n        if (!hasKey(argv, key.split('.'))) {\n            setKey(argv, key.split('.'), defaults[key]);\n            \n            (aliases[key] || []).forEach(function (x) {\n                setKey(argv, x.split('.'), defaults[key]);\n            });\n        }\n    });\n    \n    if (opts['--']) {\n        argv['--'] = new Array();\n        notFlags.forEach(function(key) {\n            argv['--'].push(key);\n        });\n    }\n    else {\n        notFlags.forEach(function(key) {\n            argv._.push(key);\n        });\n    }\n\n    return argv;\n};\n\nfunction hasKey (obj, keys) {\n    var o = obj;\n    keys.slice(0,-1).forEach(function (key) {\n        o = (o[key] || {});\n    });\n\n    var key = keys[keys.length - 1];\n    return key in o;\n}\n\nfunction isNumber (x) {\n    if (typeof x === 'number') return true;\n    if (/^0x[0-9a-f]+$/i.test(x)) return true;\n    return /^[-+]?(?:\\d+(?:\\.\\d*)?|\\.\\d+)(e[-+]?\\d+)?$/.test(x);\n}\n\n\nfunction isConstructorOrProto (obj, key) {\n    return key === 'constructor' && typeof obj[key] === 'function' || key === '__proto__';\n}\n","var cc   = require('./lib/utils')\nvar join = require('path').join\nvar deepExtend = require('deep-extend')\nvar etc = '/etc'\nvar win = process.platform === \"win32\"\nvar home = win\n           ? process.env.USERPROFILE\n           : process.env.HOME\n\nmodule.exports = function (name, defaults, argv, parse) {\n  if('string' !== typeof name)\n    throw new Error('rc(name): name *must* be string')\n  if(!argv)\n    argv = require('minimist')(process.argv.slice(2))\n  defaults = (\n      'string' === typeof defaults\n    ? cc.json(defaults) : defaults\n    ) || {}\n\n  parse = parse || cc.parse\n\n  var env = cc.env(name + '_')\n\n  var configs = [defaults]\n  var configFiles = []\n  function addConfigFile (file) {\n    if (configFiles.indexOf(file) >= 0) return\n    var fileConfig = cc.file(file)\n    if (fileConfig) {\n      configs.push(parse(fileConfig))\n      configFiles.push(file)\n    }\n  }\n\n  // which files do we look at?\n  if (!win)\n   [join(etc, name, 'config'),\n    join(etc, name + 'rc')].forEach(addConfigFile)\n  if (home)\n   [join(home, '.config', name, 'config'),\n    join(home, '.config', name),\n    join(home, '.' + name, 'config'),\n    join(home, '.' + name + 'rc')].forEach(addConfigFile)\n  addConfigFile(cc.find('.'+name+'rc'))\n  if (env.config) addConfigFile(env.config)\n  if (argv.config) addConfigFile(argv.config)\n\n  return deepExtend.apply(null, configs.concat([\n    env,\n    argv,\n    configFiles.length ? {configs: configFiles, config: configFiles[configFiles.length - 1]} : undefined,\n  ]))\n}\n","'use strict';\nvar fs   = require('fs')\nvar ini  = require('ini')\nvar path = require('path')\nvar stripJsonComments = require('strip-json-comments')\n\nvar parse = exports.parse = function (content) {\n\n  //if it ends in .json or starts with { then it must be json.\n  //must be done this way, because ini accepts everything.\n  //can't just try and parse it and let it throw if it's not ini.\n  //everything is ini. even json with a syntax error.\n\n  if(/^\\s*{/.test(content))\n    return JSON.parse(stripJsonComments(content))\n  return ini.parse(content)\n\n}\n\nvar file = exports.file = function () {\n  var args = [].slice.call(arguments).filter(function (arg) { return arg != null })\n\n  //path.join breaks if it's a not a string, so just skip this.\n  for(var i in args)\n    if('string' !== typeof args[i])\n      return\n\n  var file = path.join.apply(null, args)\n  var content\n  try {\n    return fs.readFileSync(file,'utf-8')\n  } catch (err) {\n    return\n  }\n}\n\nvar json = exports.json = function () {\n  var content = file.apply(null, arguments)\n  return content ? parse(content) : null\n}\n\nvar env = exports.env = function (prefix, env) {\n  env = env || process.env\n  var obj = {}\n  var l = prefix.length\n  for(var k in env) {\n    if(k.toLowerCase().indexOf(prefix.toLowerCase()) === 0) {\n\n      var keypath = k.substring(l).split('__')\n\n      // Trim empty strings from keypath array\n      var _emptyStringIndex\n      while ((_emptyStringIndex=keypath.indexOf('')) > -1) {\n        keypath.splice(_emptyStringIndex, 1)\n      }\n\n      var cursor = obj\n      keypath.forEach(function _buildSubObj(_subkey,i){\n\n        // (check for _subkey first so we ignore empty strings)\n        // (check for cursor to avoid assignment to primitive objects)\n        if (!_subkey || typeof cursor !== 'object')\n          return\n\n        // If this is the last key, just stuff the value in there\n        // Assigns actual value from env variable to final key\n        // (unless it's just an empty string- in that case use the last valid key)\n        if (i === keypath.length-1)\n          cursor[_subkey] = env[k]\n\n\n        // Build sub-object if nothing already exists at the keypath\n        if (cursor[_subkey] === undefined)\n          cursor[_subkey] = {}\n\n        // Increment cursor used to track the object at the current depth\n        cursor = cursor[_subkey]\n\n      })\n\n    }\n\n  }\n\n  return obj\n}\n\nvar find = exports.find = function () {\n  var rel = path.join.apply(null, [].slice.call(arguments))\n\n  function find(start, rel) {\n    var file = path.join(start, rel)\n    try {\n      fs.statSync(file)\n      return file\n    } catch (err) {\n      if(path.dirname(start) !== start) // root\n        return find(path.dirname(start), rel)\n    }\n  }\n  return find(process.cwd(), rel)\n}\n\n\n","module.exports = {\n  validate: require('./lib/validate'),\n  validateStrict: require('./lib/validate-strict'),\n  coerce: require('./lib/coerce'),\n  infer: require('./lib/infer'),\n  isEqual: require('./lib/is-equal'),\n  stringify: require('./lib/stringify'),\n  parse: require('./lib/parse'),\n  parseHuman: require('./lib/parse-human'),\n  stringifyHuman: require('./lib/stringify-human'),\n  hydrate: require('./lib/hydrate'),\n  dehydrate: require('./lib/dehydrate'),\n  compile: require('./lib/compile'),\n  sample: require('./lib/sample'),\n  getDefaultExemplar: require('./lib/get-default-exemplar'),\n  getDisplayType: require('./lib/get-display-type'),\n  getRdt: require('./lib/get-rdt'),\n  isSpecific: require('./lib/is-specific'),\n  isInvalidExample: require('./lib/is-invalid-example'),\n  reify: require('./lib/reify'),\n  intersection: require('./lib/intersection'),\n  union: require('./lib/union'),\n  getPathInfo: require('./lib/get-path-info'),\n  getBaseVal: require('./lib/get-base-val'),\n  coerceExemplar: require('./lib/coerce-exemplar'),\n  getPatternFromExemplar: require('./lib/get-pattern-from-exemplar'),\n  cast: require('./lib/cast'),\n  rebuild: require('./lib/rebuild'),\n  getDisplayTypeLabel: require('./lib/get-display-type-label'),\n  getNounPhrase: require('./lib/get-noun-phrase'),\n  GRAMMAR: require('./lib/GRAMMAR'),\n  getInvalidityMessage: require('./lib/get-invalidity-message'),\n  inferDisplayType: require('./lib/infer-display-type'),\n  validateExemplarStrict: require('./lib/validate-exemplar-strict'),\n};\n\n\n// Backwards compatibility\nmodule.exports.encode = module.exports.stringify;\nmodule.exports.decode = module.exports.parse;\nmodule.exports.typeInfo = require('./lib/type-info');\nmodule.exports.inspect = module.exports.compile;\nmodule.exports.exemplar = module.exports.getDefaultExemplar;\nmodule.exports.isStrictType = module.exports.isSpecific;\n","/**\n * GRAMMAR\n *\n * Precomputed permutations of various grammar/formatting opts provided as\n * constants for convenient use with `rttc.getNounPhrase()` and/or `getDisplayType()`.\n * ```\n * role / capitalization\n *   FRAGMENT  ({capitalization: 'fragment'})\n *   SENTENCE  ({completeSentence: true} or {capitalization: 'start'} -- depending on where it's used)\n *   TITLE     ({capitalization: 'title'})\n * plural\n *   SINGULAR  ({plural: false})\n *   PLURAL    ({plural: true})\n * determiner\n *   DEFINITE     ({determiner: 'the'})\n *   INDEFINITE   ({determiner: 'a'})\n *   EXISTENTIAL  ({determiner: 'any'})\n *   UNPRECEDED   ({determiner: ''})\n * ```\n *\n * > Note that this doesn't necessarily include EVERY possible mashup- just the\n * > common ones.  (It deliberately excludes some defaults to avoid redundancy.)\n * >\n * > Also be aware that **NOT EVERY COMBINATION HEREIN IS SUPPORTED** for ALL methods.\n * > Some combos might only be supported for either `.getDisplayTypeLabel()`, while others\n * > only work for `.getNounPhrase()`.  Be sure to do a few examples as thought experiments\n * > any time you pick a grammatical option set, since bad combos fail silently! (No error!)\n *\n * @type {Dictionary}\n */\nmodule.exports = {\n\n  // Basics:\n  // =============================================\n  DEFINITE:                                      {determiner:'the'},\n  INDEFINITE:                                    {determiner:'a'},\n  EXISTENTIAL:                                   {determiner:'any'},\n  UNPRECEDED:                                    {determiner:''},\n\n  SINGULAR:                                      {plural: false},\n  PLURAL:                                        {plural: true},\n\n  FRAGMENT:                                      {capitalization: 'fragment'},\n  SENTENCE:                                      {capitalization: 'start', completeSentence: true},\n  TITLE:                                         {capitalization: 'title'},\n\n  // 2D Mashups:\n  // =============================================\n  DEFINITE_PLURAL:                               {determiner:'the', plural: true},\n  // *Can't do indefinite plural (\"an aardvarks\")*  (because we don't have the right aggregator word to build e.g. \"a troupe of aardvarks\")\n  EXISTENTIAL_PLURAL:                            {determiner:'any', plural: true},\n  UNPRECEDED_PLURAL:                             {determiner:'', plural: true},\n\n  PLURAL_FRAGMENT:                               {plural: true, capitalization: 'fragment'},\n  PLURAL_SENTENCE:                               {plural: true, capitalization: 'start', completeSentence: true},\n  PLURAL_TITLE:                                  {plural: true, capitalization: 'title'},\n\n  DEFINITE_FRAGMENT:                             {determiner: 'the', capitalization: 'fragment'},\n  INDEFINITE_FRAGMENT:                           {determiner: 'a', capitalization: 'fragment'},\n  EXISTENTIAL_FRAGMENT:                          {determiner: 'any', capitalization: 'fragment'},\n  UNPRECEDED_FRAGMENT:                           {determiner: '', capitalization: 'fragment'},\n\n  DEFINITE_SENTENCE:                             {determiner: 'the', capitalization: 'start', completeSentence: true},\n  INDEFINITE_SENTENCE:                           {determiner: 'a', capitalization: 'start', completeSentence: true},\n  EXISTENTIAL_SENTENCE:                          {determiner: 'any', capitalization: 'start', completeSentence: true},\n  UNPRECEDED_SENTENCE:                           {determiner: '', capitalization: 'start', completeSentence: true},\n\n  // It never makes sense to use `title` at the same time as the determiner opts,\n  // since neither of the methods supports both of them!\n  // ```\n  // DEFINITE_TITLE:                                {determiner: 'the', capitalization: 'title'},\n  // INDEFINITE_TITLE:                              {determiner: 'a', capitalization: 'title'},\n  // EXISTENTIAL_TITLE:                             {determiner: 'any', capitalization: 'title'},\n  // UNPRECEDED_TITLE:                              {determiner: '', capitalization: 'title'},\n  // ```\n\n  // 3D Mashups:\n  // =============================================\n  DEFINITE_PLURAL_FRAGMENT:                      {determiner: 'the', plural: true, capitalization: 'fragment'},\n  // *Can't do indefinite plural (see above)*\n  EXISTENTIAL_PLURAL_FRAGMENT:                   {determiner: 'any', plural: true, capitalization: 'fragment'},\n  UNPRECEDED_PLURAL_FRAGMENT:                    {determiner: '', plural: true, capitalization: 'fragment'},\n\n  DEFINITE_PLURAL_SENTENCE:                      {determiner: 'the', plural: true, capitalization: 'start', completeSentence: true},\n  // *Can't do indefinite plural (see above)*\n  EXISTENTIAL_PLURAL_SENTENCE:                   {determiner: 'any', plural: true, capitalization: 'start', completeSentence: true},\n  UNPRECEDED_PLURAL_SENTENCE:                    {determiner: '', plural: true, capitalization: 'start', completeSentence: true},\n\n  // It wouldn't make sense to use `title` at the same time as the determiner opts.\n  // (See above for explanation.)\n  // ```\n  // DEFINITE_PLURAL_TITLE:                         {determiner: 'the', plural: true, capitalization: 'title'},\n  // // *Can't do indefinite plural (see above)*\n  // EXISTENTIAL_PLURAL_TITLE:                      {determiner: 'any', plural: true, capitalization: 'title'},\n  // UNPRECEDED_PLURAL_TITLE:                       {determiner: '', plural: true, capitalization: 'title'},\n  // ```\n\n};\n","// Simple macro for inferring a schema from a template,\n// then coercing a variable to match that schema.\nmodule.exports = function cast (template, data) {\n  var rttc = require('../');\n  return rttc.coerce(rttc.infer(template), data);\n};\n","/**\n * Module dependencies\n */\n\nvar _ = require('@sailshq/lodash');\nvar typeInfo = require('./type-info');\nvar dehydrate = require('./dehydrate');\nvar union = require('./union');\n\n\n/**\n * coerceExemplar()\n *\n * Convert a normal JavaScript value into the _most specific_ RTTC exemplar\n * which would accept it.... more or less.\n *\n * > --------------------------------------------------------------------------------\n * > WARNING: While this logic is OK at understanding functions, it's not really\n * > smart enough to figure out cases where it would need refs.  It dehydrates\n * > everything first, meaning it ensures everything is JSON compatible by ripping\n * > out circular references and replacing replacing streams, buffers, and\n * > RttcRefPlaceholder instances with `null`. It also rips out `undefined` array\n * > items, and dictionary keys with `undefined` values (meaning that there are\n * > never any _nested_ `undefined`s by the time it gets around to building the\n * > exemplar.)  And finally, it converts all Dates, RegExps, and Error instances\n * > to strings.\n * > --------------------------------------------------------------------------------\n *\n * @param  {Anything} value\n *         A normal JavaScript value.\n *\n * @param  {Boolean} allowSpecialSyntax\n *         If set, string literals which look like special RTTC exemplar syntax (->, *, and ===)\n *         take on their traditional symbolism; meaning they will NOT be \"exemplified\"-- that is,\n *         replaced with other strings: ('an arrow symbol', 'a star symbol', and '3 equal signs').\n *         > WARNING: Use with care!  Remember other things need to be exemplified too!\n *         > (e.g. consider the `null` literal)\n *         @default false\n *\n * @param  {Boolean} treatTopLvlUndefinedAsRef\n *         If set, if the provided value is `undefined`, it will be treated as a ref.\n *         Note that this purely for backwards compatibility, since as of rttc@9.3.0,\n *         the `===` exemplar no longer accepts `undefined`; and its base value is now `null`.\n *         > The default value for this flag will be changed to `false` in a future release.\n *         @default true\n *\n * @param  {boolean} useStrict\n *         If set, the pattern exemplar for any multi-item arrays within the provided value will be\n *         determined by coercing and unioning the array items using strict validation rules (e.g.\n *         `32  'foo' <=> '*'`).  Also do not squish Infinity/-Infinity/NaN.\n *         Otherwise, loose validation rules will be used instead (e.g. `32  'foo' <=> 'foo`),\n *         and Infinity/-Infinity/NaN will be squished to 0.\n *         > The default value for this flag will be changed to `false` in a future release.\n *         @default true\n *\n * @returns {JSON}\n *          An RTTC exemplar.\n */\nmodule.exports = function coerceExemplar (value, allowSpecialSyntax, treatTopLvlUndefinedAsRef, useStrict) {\n\n  // Default `treatTopLvlUndefinedAsRef` to `true`.\n  // (will be changed to false in a future release)\n  if (_.isUndefined(treatTopLvlUndefinedAsRef)) { treatTopLvlUndefinedAsRef = true; }\n\n  // Default `useStrict` to `true`.\n  // (will be changed to false in a future release)\n  if (_.isUndefined(useStrict)) { useStrict = true; }\n\n  // If the provided value is `undefined` at the top level...\n  if (_.isUndefined(value)) {\n    // If `treatTopLvlUndefinedAsRef` is enabled,\n    if (treatTopLvlUndefinedAsRef) {\n      // then use `===` (note that this approach isn't quite 1-to-1 with reality,\n      //  since `===` doesn't accept `undefined` values as of rttc@9.3.0.)\n      return typeInfo('ref').getExemplar();\n    }\n    // Otherwise: treat it as if it were `null`, and use `*`.\n    else { return typeInfo('json').getExemplar(); }\n  }\n\n  // Dehydrate the wanna-be exemplar to avoid circular recursion\n  // (but allow null, and don't stringify functions, and --\n  // if `useStrict` is enabled-- allow NaN/Infinity/-Infinity)\n  value = dehydrate(value, true, true, !!useStrict);\n\n\n  // Next, iterate over the value and coerce it into a valid rttc exemplar.\n  return (function _recursivelyCoerceExemplar(valuePart){\n\n    // `null` becomes '*'\n    if (_.isNull(valuePart)) {\n      return typeInfo('json').getExemplar();\n    }\n    // `Infinity`, `-Infinity`, and `NaN` SHOULD become '==='\n    // (because they are not JSON-compatible, and not \"number\"s, by rttc's definition)\n    // ...unless `useStrict` is disabled, in which case they should become `0`.\n    if (valuePart === Infinity || valuePart === -Infinity || _.isNaN(valuePart)) {\n      if (useStrict) {\n        return typeInfo('ref').getExemplar();\n      } else {\n        return 0;\n      }\n    }\n    // functions become '->'\n    else if (_.isFunction(valuePart)) {\n      return typeInfo('lamda').getExemplar();\n    }\n    // and strings which resemble potentially-ambiguous exemplars\n    // become their own exemplar description instead (because all of\n    // the exemplar descriptions are strings, which is what we want)\n    else if (typeInfo('json').isExemplar(valuePart)) {\n      return allowSpecialSyntax ? valuePart : typeInfo('json').getExemplarDescription();\n    }\n    else if (typeInfo('ref').isExemplar(valuePart)) {\n      return allowSpecialSyntax ? valuePart : typeInfo('ref').getExemplarDescription();\n    }\n    else if (typeInfo('lamda').isExemplar(valuePart)) {\n      return allowSpecialSyntax ? valuePart : typeInfo('lamda').getExemplarDescription();\n    }\n    // arrays need a recursive step\n    else if (_.isArray(valuePart)) {\n      // empty arrays (`[]`) just become generic JSON array exemplars (`[]` aka `['*']`):\n      if (valuePart.length === 0) {\n        // Note:\n        // In a future version of RTTC, this will be modified to\n        // return `['*']` instead of `[]`.\n        return valuePart;\n      }\n      // NON-empty arrays (e.g. `[1,2,3]`) become pattern array exemplars (e.g. `[1]`):\n      else {\n        // To do this, we recursively call `rttc.coerceExemplar()` on each of the normal\n        // items in the array, then `rttc.union()` them all together and use the resulting\n        // exemplar as our deduced pattern.\n        var pattern = _.reduce(valuePart.slice(1), function (patternSoFar, item) {\n          patternSoFar = union(patternSoFar, _recursivelyCoerceExemplar(item), true, useStrict);\n          // meaning of `rttc.union()` flags, in order:\n          //  `true` (yes these are exemplars)\n          //   `true` (yes, use strict validation rules to prevent confusion)\n          return patternSoFar;\n        }, _recursivelyCoerceExemplar(valuePart[0]));\n\n        //--------------------------------------------------------------------------------\n        // Note:\n        // If the narrowest common schema for the pattern is \"===\" (ref), that means\n        // that, as a whole, the exemplar is `['===']`.  That makes it effectively\n        // heterogeneous, as well as indicating that its items are not necessarily\n        // JSON-compatible, and that they may even be mutable references.\n        //--------------------------------------------------------------------------------\n        return [\n          pattern\n        ];\n      }\n    }\n    // dictionaries need a recursive step too\n    else if (_.isObject(valuePart)) {\n      // Empty dictionaries (`{}`) just become generic dictionaries (`{}`),\n      // and NON-EMPTY dictionaries (e.g. `{foo: ['bar','baz'] }`) become\n      // faceted dictionary exemplars (`{foo:'bar'}`)\n      return _.reduce(_.keys(valuePart), function (dictSoFar, key) {\n        var subValue = valuePart[key];\n        dictSoFar[key] = _recursivelyCoerceExemplar(subValue); // <= recursive step\n        return dictSoFar;\n      }, {});\n    }\n    // Finally, if none of the special cases above apply, this valuePart is already\n    // good to go, so just return it.\n    return valuePart;\n\n  })(value);\n\n};\n","/**\n * Module dependencies\n */\n\nvar _ = require('@sailshq/lodash');\nvar validateRecursive = require('./helpers/validate-recursive');\nvar consolidateErrors = require('./helpers/consolidate-errors');\n\n/**\n * Coerce value to type schema\n * (very forgiving)\n *\n * @param  {~Schema} expected   type schema\n * @param  {===} actual           \"mystery meat\"\n * @return {<expected>}\n */\nmodule.exports = function coerce (expected, actual){\n\n  // Jump into recursive validation\n  var errors = [];\n  var result = validateRecursive(expected, actual, errors, []);\n\n  // Strip out \"E_NOT_STRICTLY_VALID\" errors- they are ok if we're just coercing.\n  _.remove(errors, {code: 'E_NOT_STRICTLY_VALID'});\n\n  // Strip out \"E_NOT_EVEN_CLOSE\" errors- they are ok if we're just coercing.\n  _.remove(errors, {code: 'E_NOT_EVEN_CLOSE'});\n\n  // Note that it would be more efficient to pass in a list of error codes\n  // to ignore when calling `validateRecursive`, rather than iterating through\n  // the list of errors afterwards and stripping them out.\n\n  // If there are still errors, coallesce the remaining list of errors into a single\n  // Error object we can throw.\n  var err = consolidateErrors(errors, 'coercing value');\n  if (err) {\n    throw err;\n  }\n  else {\n    return result;\n  }\n};\n","/**\n * Module dependencies\n */\n\nvar _ = require('@sailshq/lodash');\nvar dehydrate = require('./dehydrate');\n\n\n/**\n * Given a value, return a human-readable string representing the **value itself**.\n * This string is equivalent to a JavaScript code snippet which would accurately represent\n * the value in code.\n *\n * This is a lot like `util.inspect(val, false, null)`, but it also has special\n * handling for Errors, Dates, RegExps, and Functions (using `dehydrate()` with\n * `allowNull` enabled.) The biggest difference is that everything you get from\n * `rttc.compile()` is ready for use as values in `*`, `{}`, or `[]` type machines,\n * Treeline, Angular's rendering engine, and JavaScript code in general (i.e. if you\n * were to append it on the right-hand side of `var x = `, or if you ran `eval()` on it)\n *\n * Note that undefined values in arrays and undefined values of keys in dictionaries\n * will be stripped out, and circular references will be handled as they are in\n * `util.inspect(val, false, null)`\n *\n * Useful for:\n *   + generating code samples\n *   + in particular for bootstrapping data on server-rendered views for access by client-side JavaScript\n *   + error messages,\n *   + debugging\n *   + user interfaces\n *\n *                             ~~ Notable differences from `util.inspect()` ~~\n *                            =================================================\n *\n *  |  actual                 |  util.inspect()                           |  rttc.compile()                      |\n *  | ----------------------- | ----------------------------------------- | -------------------------------------|\n *  | a function              | `[Function: foo]`                         | `function foo (){}`                |\n *  | a Date                  | `Tue May 26 2015 20:05:37 GMT-0500 (CDT)` | `'2015-05-27T01:06:37.072Z'`         |\n *  | a RegExp                | `/foo/gi`                                 | `'/foo/gi/'`                         |\n *  | an Error                | `[Error]`                                 | `'Error\\n    at repl:1:24\\n...'`     |\n *  | a deeply nested thing   | `{ a: { b: { c: [Object] } } }`           | `{ a: { b: { c: { d: {} } } } }`     |\n *  | a circular thing        | `{ y: { z: [Circular] } }`                | `{ y: { z: '[Circular ~]' } }`       |\n *  | undefined               | `undefined`                               | `null`                               |\n *  | Infinity                | `Infinity`                                | `0`                                  |\n *  | -Infinity               | `-Infinity`                               | `0`                                  |\n *  | NaN                     | `NaN`                                     | `0`                                  |\n *  | Readable (Node stream)  | `{ _readableState: { highWaterMar..}}`    | `null`                               |\n *  | Buffer (Node bytestring)| `<Buffer 61 62 63>`                       | `null`                               |\n *\n *\n * ----------------------------------------------------------------------------------------\n *\n * @param  {===} val\n * @return {String}\n */\nmodule.exports = function compile(val){\n  return customInspect(dehydrate(val, true, true));\n};\n\n\n\n\n\n\n//////////////////////////////////////////////////////////////////////////////\n// From https://github.com/defunctzombie/node-util/blob/master/util.js#L211 //\n// ------------------------------------------------------------------------ //\n//////////////////////////////////////////////////////////////////////////////\n\n\nfunction customInspect(val) {\n\n  // Set up ctx\n  var ctx = {};\n\n  // Default for stylize\n  ctx.stylize = ctx.stylize || function (val){ return val; };\n\n  // Initialize empty 'seen' array\n  ctx.seen = [];\n\n  return formatValue(ctx, val, 100);\n\n}\n\nfunction formatValue(ctx, value, recurseTimes) {\n\n\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      _.isFunction(value.inspect) &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!_.isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (_.isError(value) && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (_.isFunction(value)) {\n      // The classic util.inspect() impl:\n      // var name = value.name ? ': ' + value.name : '';\n      // return ctx.stylize('[Function' + name + ']', 'special');\n      //\n      // Our impl:\n      return value.toString();\n    }\n    if (_.isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (_.isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (_.isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (_.isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (_.isFunction(value)) {\n    base = value.toString();\n    // The classic util.inspect() impl:\n    // var n = value.name ? ': ' + value.name : '';\n    // base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (_.isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (_.isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (_.isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length === 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (_.isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (_.isUndefined(value)) {\n    return ctx.stylize('undefined', 'undefined');\n  }\n  if (_.isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (_.isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (_.isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (_.isNull(value)) {\n    return ctx.stylize('null', 'null');\n  }\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (_.isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (_.isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n","/**\n * Module dependencies\n */\n\nvar rebuildSanitized = require('./helpers/sanitize');\n\n\n/**\n * Dehydrate/sanitize a value recursively:\n *    stringifying functions, dates, regexps, and errors, as well\n *    taking care of circular references\n *    normalizing -Infinity, Infinity, and NaN (to 0)\n *    stripping undefined (and potentially null) keys and values. If `allowNull` is set, `null` values will not be stripped from the encoded string.\n *\n * @param  {===} value\n * @param  {Boolean} allowNull  [defaults to false]\n * @param  {Boolean} dontStringifyFunctions  [defaults to false]\n * @param  {Boolean} allowNaNAndFriends  [defaults to false]\n * @param  {Boolean} doRunToJSONMethods  [defaults to false]\n *                   ^^^^^^^^^^^^^^^^^^\n *                   (only applies to certain things -- see https://trello.com/c/5SkpUlhI/402-make-customtojson-work-with-actions2#comment-5a3b6e7b43107b7a2938e7bd)\n * @return {String}\n */\nmodule.exports = function dehydrate (value, allowNull, dontStringifyFunctions, allowNaNAndFriends, doRunToJSONMethods) {\n  return rebuildSanitized(value, allowNull, dontStringifyFunctions, allowNaNAndFriends, doRunToJSONMethods);\n};\n","/**\n * Module dependencies\n */\n\nvar coerce = require('./coerce');\nvar infer = require('./infer');\n\n\n/**\n * A convenience method to return the base value for the given exemplar.\n *\n * @param  {===} exemplar\n * @return {*?}\n */\nmodule.exports = function getBaseVal(exemplar){\n  return coerce(infer(exemplar));\n};\n","/**\n * Module dependencies\n */\n\nvar _ = require('@sailshq/lodash');\nvar typeInfo = require('./type-info');\nvar dehydrate = require('./dehydrate');\nvar buildSchemaIterator = require('./helpers/build-schema-iterator');\n\n\n/**\n * Given a type schema, return an exemplar which accepts precisely the same set of values.\n *\n * @param  {*} typeSchema\n * @return {*}\n */\nmodule.exports = function getDefaultExemplar (typeSchema) {\n\n  // Dehydrate the type schema to avoid circular recursion\n  var dehydratedTypeSchema = dehydrate(typeSchema);\n\n  // Configure type schema iterator\n  return buildSchemaIterator(\n    function onFacetDict(facetDictionary, parentKeyOrIndex, callRecursive){\n      return _.reduce(facetDictionary, function (memo, val, key) {\n        var facet = callRecursive(val, key);\n        memo[key] = facet;\n        return memo;\n      }, {});\n    },\n    function onPatternArray(patternArray, parentKeyOrIndex, iterateRecursive){\n      var pattern = iterateRecursive(patternArray[0], 0);\n      return [ pattern ];\n    },\n    function onGenericDict(schema, parentKeyOrIndex){\n      return typeInfo('dictionary').getExemplar();\n    },\n    function onGenericArray(schema, parentKeyOrIndex){\n      return typeInfo('array').getExemplar();\n    },\n    function onOther(schema, parentKeyOrIndex){\n      return typeInfo(schema).getExemplar();\n    }\n  )(dehydratedTypeSchema);\n\n};\n\n\n","/**\n * Module dependencies\n */\n\nvar _ = require('@sailshq/lodash');\nvar getRdt = require('./get-rdt');\n\n/**\n * Given an RTTC \"display type\" aka \"typeclass\" string,\n * return the appropriate human-readable label for that type.\n * Useful for error messages, user interfaces, etc.\n *\n *\n * @param  {String} type\n *         Recognizes any of the standard RTTC types:\n *            string\n *            number\n *            boolean\n *            lamda\n *            dictionary\n *            array\n *            json\n *            ref\n *\n *         (Also tolerates type schemas.)\n *\n * @optional {Dictionary} options\n *\n *           @property {Boolean} plural\n *             If enabled, the returned display type will be plural.\n *             @default false\n *\n *           @property {String} capitalization\n *             One of:\n *               \"title\"    (e.g. \"JSON-Compatible Value\", or \"String\")\n *               \"start\"    (e.g. \"JSON-compatible value\", or \"String\")\n *               \"fragment\" (e.g. \"JSON-compatible value\", or \"string\")\n *             @default \"title\"\n *\n *\n * @return {String}\n */\nmodule.exports = function getDisplayTypeLabel(type, options){\n\n  if (typeof type === 'string') {\n    // OK!   This is probably an RDT, so we'll try it.\n  } else if (!!type && typeof type === 'object') {\n    // This might be a type schema, so we'll parsing an RDT from it first and use that.\n    type = getRdt(type);\n  } else {\n    throw new Error('Usage error: rttc.getDisplayTypeLabel() expects a string display type such as '+\n    '`dictionary` or `ref`.  If you are trying to get the display type label for an exemplar, do '+\n    '`rttc.getDisplayTypeLabel(rttc.inferDisplayType(exemplar))`. If you are trying to get a display '+\n    'type label to represent voidness (i.e. a null exemplar), then you should determine that on a '+\n    'case-by-case basis-- there\\'s no good sane default.');\n  }\n\n  // Set up defaults\n  options = options || {};\n  options = _.defaults(options, {\n    plural: false,\n    capitalization: 'title'\n  });\n\n  if (!_.contains(['title', 'start', 'fragment'], options.capitalization)) {\n    throw new Error('Usage error: Unrecognized `capitalization` option: `'+options.capitalization+'`. '+\n    'Should be either \"title\", \"start\", or \"fragment\". (defaults to \"title\")');\n  }\n\n\n  if (type === 'string') {\n    switch (options.capitalization) {\n      case 'title':\n      case 'start':    return !options.plural ? 'String' : 'Strings';\n      case 'fragment': return !options.plural ? 'string' : 'strings';\n    }\n  }\n  else if (type === 'number') {\n    switch (options.capitalization) {\n      case 'title':\n      case 'start':    return !options.plural ? 'Number' : 'Numbers';\n      case 'fragment': return !options.plural ? 'number' : 'numbers';\n    }\n  }\n  else if (type === 'boolean') {\n    switch (options.capitalization) {\n      case 'title':\n      case 'start':    return !options.plural ? 'Boolean' : 'Booleans';\n      case 'fragment': return !options.plural ? 'boolean' : 'booleans';\n    }\n  }\n  else if (type === 'lamda') {\n    switch (options.capitalization) {\n      case 'title':\n      case 'start':     return !options.plural ? 'Function' : 'Functions';\n      case 'fragment':  return !options.plural ? 'function' : 'functions';\n    }\n  }\n  else if (type === 'dictionary') {\n    switch (options.capitalization) {\n      case 'title':\n      case 'start':     return !options.plural ? 'Dictionary' : 'Dictionaries';\n      case 'fragment':  return !options.plural ? 'dictionary' : 'dictionaries';\n    }\n  }\n  else if (type === 'array') {\n    switch (options.capitalization) {\n      case 'title':\n      case 'start':     return !options.plural ? 'Array' : 'Arrays';\n      case 'fragment':  return !options.plural ? 'array' : 'arrays';\n    }\n  }\n  else if (type === 'json') {\n    switch (options.capitalization) {\n      case 'title':     return !options.plural ? 'JSON-Compatible Value' : 'JSON-Compatible Values';\n      case 'start':\n      case 'fragment':  return !options.plural ? 'JSON-compatible value' : 'JSON-compatible values';\n    }\n  }\n  else if (type === 'ref') {\n    switch (options.capitalization) {\n      case 'title':      return !options.plural ? 'Value' : 'Values';\n      case 'start':      return !options.plural ? 'Value' : 'Values';\n      case 'fragment':   return !options.plural ? 'value' : 'values';\n      // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n      // Note: This was changed for flexibility.  Here's the old way, for reference:\n      // ```\n      // case 'title':      return !options.plural ? 'Anything' : 'Any Values';\n      // case 'start':      return !options.plural ? 'Value of any type' : 'Values of any type';\n      // case 'fragment':   return !options.plural ? 'value of any type' : 'values of any type';\n      // ```\n      // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n    }\n  }\n  else {\n    throw new Error('Unknown type: `'+type+'`');\n  }\n\n  // (should never make it here!)\n  throw new Error('Consistency violation: Could not get display type due to an internal error in RTTC.');\n\n};\n","/**\n * Module dependencies\n */\n\nvar _ = require('@sailshq/lodash');\nvar TYPES = require('./helpers/types');\n\n/**\n * Given a value, return an INFORMAL type string loosely\n * representing its data type.\n *\n * WARNING: THIS FUNCTION IS NOT ALL THAT IT SEEMS.\n * It does not return an RDT (\"RTTC display type\")-- it returns a display string\n * that might include other values as well, such as `'undefined'`, `'null',\n * `'Date'`, etc.\n *\n * > ------------------------------------------------------------------------\n * > NOTE:\n * > THIS FUNCTION IS DEPRECATED AND WILL BE REMOVED IN FAVOR OF MORE\n * > SPECIFIC UTILITY METHODS IN AN UPCOMING RELEASE OF RTTC.\n * > ------------------------------------------------------------------------\n *\n * TODO: Remove this\n *\n * @param  {===} val\n * @return {String}\n */\nmodule.exports = function getDisplayType(val){\n\n  // `undefined` should take precedence over special exemplar syntax\n  // (i.e. '===')\n  if (_.isUndefined(val)) return 'undefined';\n\n  if (TYPES.json.isExemplar(val)) return 'json';\n  if (TYPES.lamda.isExemplar(val)) return 'lamda';\n  if (TYPES.ref.isExemplar(val)) return 'ref';\n  if (_.isEqual(val, Infinity) || _.isEqual(val, -Infinity) || _.isNaN(val)) {\n    return 'invalid number';\n  }\n  if (_.isString(val)) return 'string';\n  if (_.isNumber(val)) return 'number';\n  if (_.isBoolean(val)) return 'boolean';\n  if (_.isNull(val)) return 'null';\n  if (_.isArray(val)) return 'array';\n  if (_.isFunction(val)) return 'function';\n  if (_.isDate(val)) return 'Date';\n  if (_.isError(val)) return 'Error';\n  if (_.isRegExp(val)) return 'RegExp';\n\n  // If it's an object\n  if (_.isObject(val)) {\n    var displayType = typeof val;\n    try {\n      displayType = val.constructor.name;\n      if (displayType.match(/object/i) && _.isPlainObject(val)) {\n        return 'dictionary';\n      }\n      // Use the constructor name if it's anything other than \"Object\"\n      return displayType;\n    }\n    catch (e){}\n  }\n\n  // ok.. wtf is it?\n  return 'unknown';\n\n};\n","/**\n * Module dependencies\n */\n\nvar _ = require('@sailshq/lodash');\nvar getRdt = require('./get-rdt');\nvar getDisplayTypeLabel = require('./get-display-type-label');\nvar getNounPhrase = require('./get-noun-phrase');\nvar GRAMMAR = require('./GRAMMAR');\nvar inferDisplayType = require('./infer-display-type');\nvar coerceExemplar = require('./coerce-exemplar');\n\n\n/**\n * getInvalidityMessage()\n *\n * Get a formatted message explaining exactly how some data was invalid vs. some type schema,\n * using the specified invalidity error from `rttc.validate()`/`rttc.validateStrict()` for\n * guidance.\n *\n * @param  {Ref} expectedTypeSchema\n * @param  {Ref} invalidData\n * @param  {Error} eInvalid             [ an E_INVALID Error from rttc.validate() etc.]\n * @param  {String?} optionalDataLabel\n *\n * @returns {String}\n */\nmodule.exports = function getInvalidityMessage(expectedTypeSchema, invalidData, eInvalid, optionalDataLabel){\n\n  var originNounPhrase = (function _gettingOriginNounPhrase(){\n    if (!optionalDataLabel) {\n      return 'data';// formerly `getDisplayType(invalidData)`\n    } else {\n      var wasExpectingArray = _.isArray(expectedTypeSchema);\n      var gotArray = _.isArray(invalidData);\n      var wasExpectingDictionary = _.isObject(expectedTypeSchema) && !wasExpectingDictionary;\n      var gotDictionary = _.isObject(invalidData) && !gotArray;\n\n      if ((wasExpectingArray&&gotArray) || (wasExpectingArray&&gotDictionary)) {\n        return optionalDataLabel+' '+getDisplayTypeLabel(expectedTypeSchema, GRAMMAR.FRAGMENT);\n      } else {\n        return String(optionalDataLabel);\n      }\n    }\n  })();//:= ()\n\n  return 'Invalid '+originNounPhrase+':\\n   ' + (\n    _.without(_.map(eInvalid.errors, function(subErr) {\n      if (subErr.hops.length === 0) {\n        var actualTopLvlType = inferDisplayType(coerceExemplar(subErr.actual));\n        return (\n          subErr.actual===undefined?\n          'Expecting'\n          :\n          'Expecting'\n        )+' '+getNounPhrase(subErr.expected, GRAMMAR.INDEFINITE)\n        +(\n          subErr.actual===undefined?\n          '.'\n          :\n          ', but got '+(\n            subErr.actual===Infinity||subErr.actual===-Infinity||_.isNaN(subErr.actual)?\n            subErr.actual\n            :\n            actualTopLvlType==='json' || actualTopLvlType==='ref'?\n            'some other '+getNounPhrase(actualTopLvlType, GRAMMAR.UNPRECEDED_FRAGMENT)\n            :\n            getNounPhrase(actualTopLvlType, GRAMMAR.INDEFINITE_FRAGMENT)\n          )+'.'\n        );\n      }\n      else {\n        var parentHops = subErr.hops.slice(0, -1);\n        var parentHopsHash = parentHops.join('.');\n        var parentSubErr = _.find(eInvalid.errors, function(otherSubErr){\n          return otherSubErr.hops.join('.') === parentHopsHash;\n        });\n        if (parentSubErr) { return ''; }\n\n        var isArrayItem = !_.isNaN(+(subErr.hops.slice(-1)[0]));\n        var expectedRdt = getRdt(subErr.expected);\n        var actualType = inferDisplayType(coerceExemplar(subErr.actual));\n        return (\n          isArrayItem?\n          '@ `'+_.reduce(parentHops, function(prettiedParentHops, hop){\n            if (+hop===hop){\n              prettiedParentHops += '['+hop+']';\n            } else {\n              prettiedParentHops += '.'+hop;\n            }\n            return prettiedParentHops;\n          }, '')+'['+(subErr.hops.slice(-1))+']`:  '\n          :\n          '@ `' + subErr.hops.join('.') + '`:  '\n        )+''+\n        (\n          subErr.actual===undefined?\n          'Missing property (expecting '+getNounPhrase(expectedRdt, GRAMMAR.INDEFINITE)+')'\n          :\n          'Expecting '+(\n            isArrayItem?\n            'array to contain only '+getNounPhrase(expectedRdt, GRAMMAR.UNPRECEDED_PLURAL)\n            :\n            ''+getNounPhrase(expectedRdt, GRAMMAR.INDEFINITE)\n          )\n        )+''+\n        (\n          subErr.actual===undefined?\n          '.'\n          :\n          ', but '+\n          (isArrayItem?'this item is':'got')+' '+\n          (\n            subErr.actual===Infinity||subErr.actual===-Infinity||_.isNaN(subErr.actual)?\n            subErr.actual\n            :\n            actualType==='json' || actualType==='ref'?\n            'some other '+getNounPhrase(actualType,GRAMMAR.UNPRECEDED_FRAGMENT)\n            :\n            getNounPhrase(actualType,GRAMMAR.INDEFINITE_FRAGMENT)\n          )+'.'\n        );\n      }\n    }), '').join('\\n   ')\n  );\n\n};\n","/**\n * Module dependencies\n */\n\nvar _ = require('@sailshq/lodash');\nvar getDisplayTypeLabel = require('./get-display-type-label');\nvar getRdt = require('./get-rdt');\n\n\n/**\n * getNounPhrase()\n *\n * Given an RTTC \"display type\" string (and some options)\n * return an appropriate human-readable noun-phrase.\n * Useful for error messages, user interfaces, etc.\n *\n * @required  {String} type\n *         Recognizes any of the standard RTTC types:\n *            string\n *            number\n *            boolean\n *            lamda\n *            dictionary\n *            array\n *            json\n *            ref\n *\n *         (Also tolerates type schemas.)\n *\n *\n * @optional {Dictionary} options\n *\n *           @property {Boolean} plural\n *             If enabled, the returned noun phrase will be plural.\n *             @default false\n *\n *           @property {Boolean} completeSentence\n *             If enabled, a complete sentence with a capital letter\n *             & ending punctuation (a period) will be returned.\n *             Otherwise (by default), the returned noun phrase will\n *             be a fragment designed for use in an existing sentence.\n *             @default false\n *\n *           @property {String} determiner\n *             One of:\n *               \"the\"   (definite article)\n *               \"a\"     (indefinite article)\n *               \"any\"   (existential qualifier)\n *               \"\"      (no determiner)\n *              > Note that if \"a\" is specified, either \"a\" or \"an\" will be used,\n *              > whichever is more appropriate.\n *              > (for more background, see https://en.wikipedia.org/wiki/Article_(grammar)\n *              >  and/or https://en.wikipedia.org/wiki/English_determiners)\n *             @default \"a\" (or \"\", if plural)\n *\n *\n * @return {String} [noun phrase]\n */\nmodule.exports = function getNounPhrase(type, options){\n  if (typeof type === 'string') {\n    // OK!   This is probably an RDT, so we'll try it.\n  } else if (!!type && typeof type === 'object') {\n    // This might be a type schema, so we'll parsing an RDT from it first and use that.\n    type = getRdt(type);\n  } else {\n    throw new Error('Usage error: rttc.getNounPhrase() expects a string display type such as '+\n    '`dictionary` or `ref`.  If you are trying to get the noun phrase for an exemplar, do '+\n    '`rttc.getNounPhrase(rttc.inferDisplayType(exemplar))`. If you are trying to get a noun '+\n    'phrase to represent voidness (i.e. null exemplar), then you should determine that on a '+\n    'case-by-case basis-- there\\'s no good sane default.');\n  }\n\n  // Set up defaults\n  options = options || {};\n  options = _.defaults(options, {\n    plural: false,\n    completeSentence: false,\n    determiner: !options.plural ? 'a' : ''\n  });\n\n  // Tolerate \"an\" for \"a\"\n  if (options.determiner === 'an') {\n    options.determiner = 'a';\n  }\n\n  // Validate determiner\n  if (!_.contains(['the', 'a', 'any', ''], options.determiner)) {\n    throw new Error('Usage error: Unrecognized `determiner` option: `'+options.determiner+'`. '+\n    'Should be either \"the\", \"a\", \"any\", or \"\". (defaults to \"a\", or \"\" if plural)');\n  }\n\n  // Ensure we're not trying to use \"a\" in a plural noun phrase.\n  if (options.plural && options.determiner === 'a') {\n    throw new Error('Usage error: Cannot use that determiner (\"a\") to generate a plural noun phrase.  '+\n    'Trust me, it wouldn\\'t sound right.');\n  }\n\n\n\n  // Compute the display type label that will be used below.\n  var displayTypeLabel = getDisplayTypeLabel(type, {\n    capitalization: 'fragment',\n    plural: options.plural\n  });\n\n  // Determine the appropriate naked noun phrase.\n  // (i.e. with determiner, but without ending punctuation or start-sentence capitalization)\n  var nounPhrase;\n  if (type === 'string') {\n    switch (options.determiner) {\n      case 'the': nounPhrase = 'the '+displayTypeLabel; break;\n      case 'a':   nounPhrase = 'a '+displayTypeLabel; break;\n      case 'any': nounPhrase = 'any '+displayTypeLabel; break;\n      case '':    nounPhrase = displayTypeLabel; break;\n    }\n  }\n  else if (type === 'number') {\n    switch (options.determiner) {\n      case 'the': nounPhrase = 'the '+displayTypeLabel; break;\n      case 'a':   nounPhrase = 'a '+displayTypeLabel; break;\n      case 'any': nounPhrase = 'any '+displayTypeLabel; break;\n      case '':    nounPhrase = displayTypeLabel; break;\n    }\n  }\n  else if (type === 'boolean') {\n    switch (options.determiner) {\n      case 'the': nounPhrase = 'the '+displayTypeLabel; break;\n      case 'a':   nounPhrase = 'a '+displayTypeLabel; break;\n      case 'any': nounPhrase = 'any '+displayTypeLabel; break;\n      case '':    nounPhrase = displayTypeLabel; break;\n    }\n  }\n  else if (type === 'lamda') {\n    switch (options.determiner) {\n      case 'the': nounPhrase = 'the '+displayTypeLabel; break;\n      case 'a':   nounPhrase = 'a '+displayTypeLabel; break;\n      case 'any': nounPhrase = 'any '+displayTypeLabel; break;\n      case '':    nounPhrase = displayTypeLabel; break;\n    }\n  }\n  else if (type === 'dictionary') {\n    switch (options.determiner) {\n      case 'the': nounPhrase = 'the '+displayTypeLabel; break;\n      case 'a':   nounPhrase = 'a '+displayTypeLabel; break;\n      case 'any': nounPhrase = 'any '+displayTypeLabel; break;\n      case '':    nounPhrase = displayTypeLabel; break;\n    }\n  }\n  else if (type === 'array') {\n    switch (options.determiner) {\n      case 'the': nounPhrase = 'the '+displayTypeLabel; break;\n      case 'a':   nounPhrase = 'an '+displayTypeLabel; break;\n      case 'any': nounPhrase = 'any '+displayTypeLabel; break;\n      case '':    nounPhrase = displayTypeLabel; break;\n    }\n  }\n  else if (type === 'json') {\n    switch (options.determiner) {\n      case 'the': nounPhrase = 'the '+displayTypeLabel; break;\n      case 'a':   nounPhrase = 'a '+displayTypeLabel; break;\n      case 'any': nounPhrase = 'any '+displayTypeLabel; break;\n      case '':    nounPhrase = displayTypeLabel; break;\n    }\n    // for future reference, this is where we could do:\n    // > \"might be a string, number, boolean, dictionary, array, or even null\"\n  }\n  else if (type === 'ref') {\n    switch (options.determiner) {\n      case 'the': nounPhrase = 'the '+displayTypeLabel; break;\n      case 'a':   nounPhrase = 'a '+displayTypeLabel; break;\n      case 'any': nounPhrase = 'any '+displayTypeLabel; break;\n      case '':    nounPhrase = displayTypeLabel; break;\n    }\n  }\n  else {\n    throw new Error('Unknown type: `'+type+'`');\n  }\n\n  // Finally, deal with sentence capitalization and ending punctuation (if relevant).\n  if (options.completeSentence) {\n    nounPhrase = nounPhrase[0].toUpperCase() + nounPhrase.slice(1);\n    nounPhrase += '.';\n  }\n\n  // And return our noun phrase.\n  return nounPhrase;\n\n};\n\n","/**\n * Module dependencies\n */\n\nvar _ = require('@sailshq/lodash');\nvar TYPES = require('./helpers/types');\nvar dehydrate = require('./dehydrate');\n\n\n/**\n * Given an exemplar schema and a keypath, return information\n * about the specified segment.\n *\n * If the path is inside of a generic, then the exemplar is '*',\n * and this path is optional. If the path is inside of a `ref`,\n * then the exemplar is '===', and this path is optional.\n *\n *\n * @param  {*} schema      - an exemplar\n * @param  {String} path   - a valid dot-deliminited path, where empty string ('') is the root (e.g. \"\" or \"foo\" or \"foo.bar\" or \"foo.0.bar.0.baz\")\n *\n * @returns {Dictionary}\n *         @property {*} exemplar\n *         @property {Boolean} optional\n *\n * @throws E_MALFORMED_PATH\n *         If keypath is invalid for the provided schema\n *\n * @throws E_UNREACHABLE\n *         if keypath is unreachable (meaning it is not allowed in the schema)\n */\nmodule.exports = function getPathInfo (schema, path) {\n\n  // Dehydrate the schema to avoid circular recursion\n  var dehydratedSchema = dehydrate(schema);\n\n  // Derive an array of \"hops\" from the provided keypath.\n  var hops = (path === '') ? [] : path.split('.');\n\n  // These variables are used by the logic below.\n  var currentExemplar = dehydratedSchema;\n  // By default the path is not optional.\n  var optional = false;\n\n\n  _.each(hops, function dereferenceEach(hop){\n\n    if (_.isArray(currentExemplar)) {\n      if (!_.isFinite(+hop)) {\n        // If the hop cannot be cast to a positive integer,\n        // something funny is going on.\n        throw (function (){\n          var err = new Error('Malformed keypath: \"'+path+'\" (non-numeric hop `'+hop+'` is not a valid array index)');\n          err.code = 'E_MALFORMED_PATH';\n          return err;\n        })();\n      }\n\n      // generic array\n      // (same thing as `['*']`)\n      if (_.isEqual(currentExemplar, [])) {\n        optional = true;\n        currentExemplar = TYPES.json.getExemplar();\n      }\n      // patterned array\n      else {\n        optional = false;\n        if (_.isUndefined(currentExemplar[0])) {\n          throw (function (){\n            var err = new Error('Keypath: \"'+path+'\" is unreachable in schema');\n            err.code = 'E_UNREACHABLE';\n            return err;\n          })();\n        }\n        else {\n          currentExemplar = currentExemplar[0];\n        }\n      }\n    }\n    else if (_.isObject(currentExemplar)) {\n      // generic dictionary\n      if (_.isEqual(currentExemplar, {})) {\n        optional = true;\n        currentExemplar = TYPES.json.getExemplar();\n      }\n      // facted dictionary\n      else {\n        optional = false;\n        if (_.isUndefined(currentExemplar[hop])) {\n          throw (function (){\n            var err = new Error('Keypath: \"'+path+'\" is unreachable in schema');\n            err.code = 'E_UNREACHABLE';\n            return err;\n          })();\n        }\n        else {\n          currentExemplar = currentExemplar[hop];\n        }\n      }\n    }\n    // generic json\n    else if (TYPES.json.isExemplar(currentExemplar)) {\n      optional = true;\n      currentExemplar = TYPES.json.getExemplar();\n    }\n\n    // mutable reference\n    else if (TYPES.ref.isExemplar(currentExemplar)) {\n      optional = true;\n      currentExemplar = TYPES.ref.getExemplar();\n    }\n\n    // lamda\n    else if (TYPES.lamda.isExemplar(currentExemplar)) {\n      throw (function (){\n        var err = new Error('Keypath: \"'+path+'\" is unreachable in schema');\n        err.code = 'E_UNREACHABLE';\n        return err;\n      })();\n    }\n\n    // primitive\n    else {\n      throw (function (){\n        var err = new Error('Keypath: \"'+path+'\" is unreachable in schema');\n        err.code = 'E_UNREACHABLE';\n        return err;\n      })();\n    }\n  });\n\n\n  return {\n    exemplar: currentExemplar,\n    optional: optional\n  };\n\n};\n\n\n","/**\n * Module dependencies\n */\n\nvar _ = require('@sailshq/lodash');\n\n\n/**\n * getPatternFromExemplar()\n *\n * Determine the pattern from the specified array exemplar.\n *\n * @param {Array} arrayExemplar\n *        The array exemplar whose pattern should be deduced.\n *        (must be a valid RTTC exemplar!)\n *\n * @returns {JSON}\n *          An RTTC exemplar.\n *\n * @throws {Error} If `arrayExemplar` is not actually an array.\n * @throws {Error} If `arrayExemplar` is not actually an exemplar because it has >1 items.\n */\nmodule.exports = function getPatternFromExemplar(arrayExemplar){\n\n  if (!_.isArray(arrayExemplar)) {\n    throw new Error('Provided \"array exemplar\" is not actually an array (it is a `'+typeof arrayExemplar+'`).');\n  }\n\n  // Generic arrays (`[]`) are the same thing as generic JSON arrays (`['*']`),\n  // so as you might expect, they have a `*` pattern.\n  if (arrayExemplar.length === 0) {\n    return '*';\n  }\n  // If there is only one single item, just use that.\n  else if (arrayExemplar.length === 1){\n    return arrayExemplar[0];\n  }\n  // Otherwise, this isn't actually an exemplar because it has >1 items.\n  else {\n    throw new Error('Provided \"array exemplar\" is not actually an exemplar because it has too many items ('+arrayExemplar.length+').');\n  }\n\n};\n","/**\n * Module dependencies\n */\n\n// N/A\n\n\n/**\n * getRdt()\n *\n * Get the formal RDT (\"RTTC display type\") of the provided type schema.\n *\n * @param  {Ref} typeSchema\n *         The type schema to parse.\n *         (Note that this should already be verified as a valid type schema.)\n *\n * @returns {String}\n *          The formal RDT (\"RTTC display type\" or \"RDT-formatted type\") of\n *          the specified type schema.\n */\n\nmodule.exports = function getRdt(typeSchema) {\n\n  // If the type schema is a simple recognized string, then it's\n  // already a valid RDT-- so just return it.  Otherwise, it should\n  // always be dictionary or array, so parse that and return accordingly.\n  if (\n    typeSchema === 'string' ||\n    typeSchema === 'number' ||\n    typeSchema === 'boolean' ||\n    typeSchema === 'lamda' || //(sic)\n    typeSchema === 'json' ||\n    typeSchema === 'ref'\n  ) {\n    return typeSchema;\n  } else if (!!typeSchema && typeof typeSchema === 'object') {\n    return Array.isArray(typeSchema)? 'array' : 'dictionary';\n  } else {\n    throw new Error('Could not parse unrecognized type schema: `'+typeSchema+'`');\n  }\n\n};\n","/**\n * Module dependencies\n */\n\nvar _ = require('@sailshq/lodash');\n\n\n\n/**\n * Build an iterator/reducer function for a schema that builds up and returns a new value.\n *\n * Note that this works for either type schemas OR exemplars!\n *\n * @param  {Function} onFacetDict\n *         -> @param {Object} facetDictionary\n *         -> @param {String} parentKeyOrIndex\n *         -> @param {Function} iterateRecursive(nextSchema, nextKey)\n *         -> @returns {*} value for this part of our result\n *\n * @param  {Function} onPatternArray\n *         -> @param {Array} patternArray\n *         -> @param {String} parentKeyOrIndex\n *         -> @param {Function} iterateRecursive(nextSchema, nextIndex)\n *         -> @returns {*} value for this part of our result\n *\n * @param  {Function} onGenericDict\n *         -> @param {Object} schema  -- (this is always `{}`)\n *         -> @param {String} parentKeyOrIndex\n *         -> @returns {*} value for this part of our result\n *\n * @param  {Function} onGenericArray\n *         -> @param {Array} schema  -- (this is always `[]`)\n *         -> @param {String} parentKeyOrIndex\n *         -> @returns {*} value for this part of our result\n *\n * @param  {Function} onOther\n *         -> @param {*} schema\n *         -> @param {String} parentKeyOrIndex\n *         -> @returns {*} value for this part of our result\n *\n * @return {Function}\n */\nmodule.exports = function buildIterator(onFacetDict, onPatternArray, onGenericDict, onGenericArray, onOther) {\n\n  /**\n   * @param  {*} subSchema  [description]\n   * @param  {} keyOrIndex [description]\n   * @return {[type]}            [description]\n   */\n  function _iterator(subSchema, keyOrIndex){\n    if (_.isArray(subSchema)) {\n      if (_.isEqual(subSchema, [])) {\n        return onGenericArray(subSchema, keyOrIndex);\n      }\n      return onPatternArray(subSchema, keyOrIndex, function (nextSchema, nextIndex){\n        return _iterator(nextSchema, nextIndex);\n      });\n    }\n    else if (_.isObject(subSchema)) {\n      if (_.isEqual(subSchema, {})) {\n        return onGenericDict(subSchema, keyOrIndex);\n      }\n      return onFacetDict(subSchema, keyOrIndex, function (nextSchema, nextKey) {\n        return _iterator(nextSchema, nextKey);\n      });\n    }\n    else {\n      return onOther(subSchema, keyOrIndex);\n    }\n  }\n\n  /**\n   * @param  {*} thingToTraverse\n   * @return {*}\n   */\n  return function (thingToTraverse){\n    return _iterator(thingToTraverse);\n  };\n};\n","/**\n * Module dependencies\n */\n\nvar _ = require('@sailshq/lodash');\nvar TYPES = require('./types');\n\n\n\n/**\n * Builds a two-headed cursor useful for comparing type schemas.\n *\n * @param  {[type]} isExemplar\n * @param  {[type]} onFacetDict    [description]\n * @param  {[type]} onPatternArray [description]\n * @param  {[type]} onGenericDict  [description]\n * @param  {[type]} onGenericArray [description]\n * @param  {[type]} onJson         [description]\n * @param  {[type]} onRef          [description]\n * @param  {[type]} onLamda        [description]\n * @param  {[type]} onString       [description]\n * @param  {[type]} onNumber       [description]\n * @param  {[type]} onBoolean      [description]\n * @return {[type]}                [description]\n */\nmodule.exports = function buildTwoHeadedSchemaCursor(isExemplar, onFacetDict, onPatternArray, onGenericDict, onGenericArray, onJson, onRef, onLamda, onString, onNumber, onBoolean) {\n\n  // If the `isExemplar` option is set, then the provided values will be\n  // treated as exemplars instead of type schemas.\n  isExemplar = !!isExemplar;\n\n  // exemplar-vs-type-schema-agnostic type check helper\n  function thisSchema(schema){\n    return {\n      is: function (){\n        var acceptableTypes = Array.prototype.slice.call(arguments);\n        if (!isExemplar) {\n          return _.contains(acceptableTypes, schema);\n        }\n        return _.any(acceptableTypes, function (typeName){\n          return TYPES[typeName].isExemplar(schema);\n        });\n      }\n    };\n  }\n\n  function _iterator(subSchema0, subSchema1, keyOrIndex){\n    if (_.isArray(subSchema0)) {\n      if (_.isEqual(subSchema0, [])) {\n        return onGenericArray(subSchema0, subSchema1, keyOrIndex);\n      }\n      return onPatternArray(subSchema0, subSchema1, keyOrIndex, function (nextIndex){\n        var nextSchema0 = subSchema0[nextIndex];\n        var nextSchema1 = subSchema1[nextIndex];\n        return _iterator(nextSchema0, nextSchema1, nextIndex);\n      });\n    }\n    else if (_.isObject(subSchema0)) {\n      if (_.isEqual(subSchema0, {})) {\n        return onGenericDict(subSchema0, subSchema1, keyOrIndex);\n      }\n      return onFacetDict(subSchema0, subSchema1, keyOrIndex, function (nextKey) {\n        var nextSchema0 = subSchema0[nextKey];\n        var nextSchema1 = subSchema1[nextKey];\n        return _iterator(nextSchema0, nextSchema1, nextKey);\n      });\n    }\n    else if ( thisSchema(subSchema0).is('json') ) {\n      return onJson(subSchema0, subSchema1, keyOrIndex);\n    }\n    else if ( thisSchema(subSchema0).is('boolean') ) {\n      return onBoolean(subSchema0, subSchema1, keyOrIndex);\n    }\n    else if ( thisSchema(subSchema0).is('number') ) {\n      return onNumber(subSchema0, subSchema1, keyOrIndex);\n    }\n    else if ( thisSchema(subSchema0).is('string') ) {\n      return onString(subSchema0, subSchema1, keyOrIndex);\n    }\n    else if ( thisSchema(subSchema0).is('lamda') ) {\n      return onLamda(subSchema0, subSchema1, keyOrIndex);\n    }\n    else if ( thisSchema(subSchema0).is('ref') ) {\n      return onRef(subSchema0, subSchema1, keyOrIndex);\n    }\n    else {\n      throw new Error('Unrecognized type.');\n    }\n  }\n\n  /**\n   * @param  {*} thingToTraverse0\n   * @param  {*} thingToTraverse1\n   * @return {*}\n   */\n  return function (thingToTraverse0, thingToTraverse1){\n    return _iterator(thingToTraverse0, thingToTraverse1);\n  };\n\n};\n\n","/**\n * Module dependencies\n */\n\nvar util = require('util');\nvar _ = require('@sailshq/lodash');\n\n/**\n * Combine an array of errors into a single Error object.\n *\n * @param  {Array} errors\n * @param  {String} msgSuffix\n * @return {Error}\n */\nmodule.exports = function consolidateErrors (errors, msgSuffix) {\n\n  // If there are errors, coallesce them into a single Error object we can throw.\n  if (errors.length === 0) {\n    return;\n  }\n\n  // Remove duplicate E_NOT_EVEN_CLOSE / E_NOT_STRICTLY_VALID errors.\n  var uniqueErrors = _.uniq(errors, function disregardValidationErrCode(err){\n    var hash = '';\n    if (!err.code) {\n      hash += '?';\n    }\n    else if (err.code !== 'E_NOT_EVEN_CLOSE' && err.code !== 'E_NOT_STRICTLY_VALID') {\n      hash += err.code;\n    }\n    hash += err.expected;\n    if (err.hops) {\n      hash += err.hops.join('.');\n    }\n    return hash;\n  });\n\n  var errMsg = util.format(\n    '%d error%s%s:',\n    uniqueErrors.length, (uniqueErrors.length!==1?'s':''), (msgSuffix?(' '+msgSuffix):''),\n    (\n      '\\n  '+ _.pluck(uniqueErrors, 'message').join('\\n  ')\n    )\n  );\n  var err = new Error(errMsg);\n\n  // Determine the appropriate top-level error code.\n  if (_.any(uniqueErrors, { code: 'E_UNKNOWN_TYPE' })) {\n    err.code = 'E_UNKNOWN_TYPE';\n  }\n  else {\n    err.code = 'E_INVALID';\n  }\n\n  // If any of the original errors are not \"minor\", then this is not a \"minor\" error.\n  err.minor = _.reduce(errors, function(memo, subError) {\n    if (!memo || !subError.minor) {\n      return false;\n    }\n    return true;\n  }, true);\n  // Don't include `minor` property if it's falsy.\n  if (!err.minor) {\n    delete err.minor;\n  }\n\n  // Expose duplicate-free list of errors as `err.errors`\n  err.errors = uniqueErrors;\n\n  return err;\n};\n\n\n","/**\n * Module dependencies\n */\n\nvar types = require('./types');\n\n\n\n/**\n * Infer the type of a primitive exemplar.\n * (note that while the inferred type schema is always a string,\n *  this doesn't mean that it _represents a string type_)\n *\n * @param  {JSON} eg   [rttc exemplar (as a number, boolean, or string)]\n * @return {String}    [type schema]\n */\nmodule.exports = function inferPrimitive(eg) {\n\n  // Check for `type: 'ref'` (===)\n  if (types.ref.isExemplar(eg)) {\n    return 'ref';\n  }\n  // Check for `type: 'lamda'` (->)\n  else if (types.lamda.isExemplar(eg)) {\n    return 'lamda';\n  }\n  // Check for `type: 'json'` (*)\n  else if (types.json.isExemplar(eg)){\n    return 'json';\n  }\n  // Check for string\n  else if (types.string.isExemplar(eg)) {\n    return 'string';\n  }\n  // Check for number\n  else if (types.number.isExemplar(eg)) {\n    return 'number';\n  }\n  // Check for boolean\n  else if (types.boolean.isExemplar(eg)) {\n    return 'boolean';\n  }\n  // This return value of undefined means the inference failed.\n  else {\n    return;\n  }\n};\n","/**\n * Module dependencies\n */\n\nvar util = require('util');\nvar _ = require('@sailshq/lodash');\nvar Readable = require('stream').Readable;\nvar getDisplayType = require('../get-display-type');\n\n\n/**\n * rebuildRecursive()\n *\n * Rebuild a potentially-recursively-deep value, running\n * the specified `handleLeafTransform` lifecycle callback\n * (aka transformer function) for every primitive (i.e. string,\n * number, boolean, null, function).\n *\n * Note that this is very similar to the sanitize helper, except\n * that it does not make any assumptions about how to handle functions\n * or primitives.\n *\n * @param {Anything} val\n *\n * @param {Function} handleLeafTransform        [run AFTER stringification of Errors, Dates, etc.]\n *        @param {Anything} leafVal\n *        @param {String} leafType [either 'string', 'number', 'boolean', 'null', or 'lamda']\n *        @return {Anything} [transformed version of `leafVal`]\n *\n * @param {Function} handleCompositeTransform   [run BEFORE recursion and stripping of undefined items/props]\n *        @param {Dictionary|Array} compositeVal\n *        @param {String} leafType [either 'array' or 'dictionary']\n *        @return {Dictionary|Array} [transformed version of `compositeVal`-- MUST BE A DICTONARY OR ARRAY THAT IS SAFE TO RECURSIVELY DIVE INTO!!!]\n *\n * @returns {JSON}\n */\nmodule.exports = function rebuildRecursive(val, handleLeafTransform, handleCompositeTransform) {\n  // If an invalid transformer function was provided, throw a usage error.\n  if (!_.isFunction(handleLeafTransform)){\n    throw new Error('Usage: A transformer function must be provided as the second argument when rebuilding.  Instead, got: '+util.inspect(handleLeafTransform, {depth:null}));\n  }\n\n  // If `val` is undefined at the top level, leave it as `undefined`.\n  if (_.isUndefined(val)) {\n    return undefined;\n  }\n\n  // The only reason this outer wrapper self-calling function exists\n  // is to isolate the inline function below (the cycleReplacer)\n  return (function _rebuild() {\n    var stack = [];\n    var keys = [];\n\n    // This was modified from @isaacs' json-stringify-safe\n    // (see https://github.com/isaacs/json-stringify-safe/commit/02cfafd45f06d076ac4bf0dd28be6738a07a72f9#diff-c3fcfbed30e93682746088e2ce1a4a24)\n    var cycleReplacer = function(unused, value) {\n      if (stack[0] === value) { return '[Circular ~]'; }\n      return '[Circular ~.' + keys.slice(0, stack.indexOf(value)).join('.') + ']';\n    };\n\n    // This is a self-invoking recursive function.\n    return (function _recursiveRebuildIt (thisVal, key) {\n\n      // Handle circle jerks\n      if (stack.length > 0) {\n        var self = this;\n        var thisPos = stack.indexOf(self);\n        ~thisPos ? stack.splice(thisPos + 1) : stack.push(self);\n        ~thisPos ? keys.splice(thisPos, Infinity, key) : keys.push(key);\n        if (~stack.indexOf(thisVal)) {\n          thisVal = cycleReplacer.call(self, key, thisVal);\n        }\n      }\n      else { stack.push(thisVal); }\n\n\n      // If this is an array, we'll recursively rebuild and strip undefined items.\n      if (_.isArray(thisVal)) {\n        // But first, run the composite transform handler, if one was provided.\n        if (!_.isUndefined(handleCompositeTransform)) {\n          thisVal = handleCompositeTransform(thisVal, 'array');\n        }\n        // Now recursively rebuild and strip undefined items.\n        return _.reduce(thisVal,function (memo, item, i) {\n          if (!_.isUndefined(item)) {\n            memo.push(_recursiveRebuildIt.call(thisVal, item, i));\n          }\n          return memo;\n        }, []);\n      }\n\n      // Serialize errors, regexps, and dates to strings, then\n      // allow those strings to be handled by the transformer\n      // function from userland:\n      else if (_.isError(thisVal)){\n        thisVal = thisVal.stack;\n        thisVal = handleLeafTransform(thisVal, 'string');\n      }\n      else if (_.isRegExp(thisVal)){\n        thisVal = thisVal.toString();\n        thisVal = handleLeafTransform(thisVal, 'string');\n      }\n      else if (_.isDate(thisVal)){\n        thisVal = thisVal.toJSON();\n        thisVal = handleLeafTransform(thisVal, 'string');\n      }\n\n      // But allow functions, strings, numbers, booleans, and `null` to\n      // be handled by the transformer function provided from userland:\n      else if (_.isFunction(thisVal)){\n        thisVal = handleLeafTransform(thisVal, 'lamda');\n      }\n      else if (!_.isObject(thisVal)) {\n        // There are a few special cases which are always\n        // handled the same way-- these get transformed to zero,\n        // then passed to the transformer function.\n        // They are `NaN`, `Infinity`, `-Infinity`, and `-0`:\n        if (_.isNaN(thisVal)) {\n          thisVal = 0;\n          thisVal = handleLeafTransform(thisVal, 'number');\n        }\n        else if (thisVal === Infinity) {\n          thisVal = 0;\n          thisVal = handleLeafTransform(thisVal, 'number');\n        }\n        else if (thisVal === -Infinity) {\n          thisVal = 0;\n          thisVal = handleLeafTransform(thisVal, 'number');\n        }\n        else if (thisVal === 0) {\n          // (this coerces -0 to +0)\n          thisVal = 0;\n          thisVal = handleLeafTransform(thisVal, 'number');\n        }\n        // Otherwise, this is a normal primitive, so it just\n        // goes through the transformer as-is, using rttc.getDisplayType()\n        // to determine the second argument.\n        else {\n          thisVal = handleLeafTransform(thisVal, getDisplayType(thisVal));\n        }\n      }\n\n      // Handle objects (which might be dictionaries and arrays,\n      // or crazy things like streams):\n      else if (_.isObject(thisVal)) {\n        // Reject readable streams out of hand\n        if (thisVal instanceof Readable) {\n          return null;\n        }\n        // Reject buffers out of hand\n        if (thisVal instanceof Buffer) {\n          return null;\n        }\n        // Reject `RttcRefPlaceholders` out of hand\n        // (this is a special case so there is a placeholder value that ONLY validates stricly against the \"ref\" type)\n        // (note that like anything else, RttcRefPlaceholders nested inside of a JSON/generic dict/generic array get sanitized into JSON-compatible things)\n        if (_.isObject(thisVal.constructor) && thisVal.constructor.name === 'RttcRefPlaceholder') {\n          return null;\n        }\n\n        // Now we're about to take the the recursive step..!\n        //\n        // But first, run the composite transform handler, if one was provided.\n        if (!_.isUndefined(handleCompositeTransform)) {\n          thisVal = handleCompositeTransform(thisVal, 'dictionary');\n        }\n        // Then recursively rebuild and strip undefined keys.\n        return _.reduce(_.keys(thisVal),function (memo, key) {\n          var subVal = thisVal[key];\n          if (!_.isUndefined(subVal)) {\n            memo[key] = _recursiveRebuildIt.call(thisVal, subVal, key);\n          }\n          return memo;\n        }, {});\n      }\n\n      // If the transformer function set the new `thisVal` to `undefined` or\n      // left/set it to a function, then use `null` instead.\n      // (because `null` is JSON serializable).\n      if (_.isUndefined(thisVal) || _.isFunction(thisVal)) {\n        thisVal = null;\n      }\n      // This check is just for convenience/to avoid common mistakes.\n      // Note that the transformer function could have technically\n      // returned a circular object that would cause an error\n      // when/if stringified as JSON.  Or it might have nested undefineds,\n      // functions, Dates, etc., which would cause it to look different\n      // after undergoing JSON serialization.\n      //\n      // We do not handle these cases for performance reasons.\n      // It is up to userland code to provide a reasonable transformer\n      // that returns JSON serializable things.\n\n      return thisVal;\n    })(val, '');\n    // ^^Note that we pass in the empty string for the top-level\n    // \"key\" to satisfy Mr. isaac's cycle replacer\n  })();\n};\n","/**\n * Module dependencies\n */\n\nvar _ = require('@sailshq/lodash');\nvar Readable = require('stream').Readable;\n\n\n\n/**\n * Rebuild a value to make it JSON-compatible (plus some extra affordances)\n * This is used when validating/coercing an array or dictionary (and its contents)\n * against `example: {}` or `example: []`.\n *\n * It is also used elsewhere throughout rttc.\n *\n * @param {Anything} val\n * @param {Boolean?} allowNull\n * @param {Boolean?} dontStringifyFunctions\n * @param {Boolean?} allowNaNAndFriends\n * @param {Boolean?} doRunToJSONMethods\n *                   ^^^^^^^^^^^^^^^^^^\n *                   (only applies to certain things -- see https://trello.com/c/5SkpUlhI/402-make-customtojson-work-with-actions2#comment-5a3b6e7b43107b7a2938e7bd)\n */\nmodule.exports = function rebuildSanitized(val, allowNull, dontStringifyFunctions, allowNaNAndFriends, doRunToJSONMethods) {\n\n  // Does not `allowNull` by default.\n\n  // Never allows `undefined` at the top level (or inside- but that check is below in stringifySafe)\n  if (_.isUndefined(val)) {\n    if (allowNull) { return null; }\n    else { return undefined; }\n  }\n\n  return _rebuild(val, allowNull, dontStringifyFunctions, allowNaNAndFriends, doRunToJSONMethods);\n};\n\n// (note that the recursive validation will not penetrate deeper into this\n//  object, so we don't have to worry about this function running more than once\n//  and doing unnecessary extra deep copies at each successive level)\n\n\n// If dictionary:\n// ==============================================================================\n// Sanitize a dictionary provided for a generic dictionary example (`example: {}`)\n// The main recursive validation function will not descend into this dictionary because\n// it's already met the minimum requirement of being an object.  So we need to deep clone\n// the provided value for safety; and in the process ensure that it meets the basic minimum\n// quality requirements (i.e. no dictionaries within have any keys w/ invalid values)\n\n// If array:\n// ==============================================================================\n// Sanitize an array provided for a generic array example (`example: []`)\n// The main recursive validation function will not descend into this array because\n// it's already met the minimum requirement of being `_.isArray()`.  So we need to\n// deep clone the provided value for safety; and in the process ensure that it meets\n// the basic minimum quality requirements (i.e. no dictionaries within have any keys w/\n// invalid values)\n//\n// We also don't include invalid items in the rebuilt array.\n//\n// (NOTE: `example: ['===']` won't make it here because it will be picked up\n// by the recursive validation.  And so it's different-- it will contain\n// the original items, and therefore may contain dictionaries w/ keys w/ invalid values)\n\nfunction _rebuild(val, allowNull, dontStringifyFunctions, allowNaNAndFriends, doRunToJSONMethods) {\n  var stack = [];\n  var keys = [];\n\n  // This was modified from @isaacs' json-stringify-safe\n  // (see https://github.com/isaacs/json-stringify-safe/commit/02cfafd45f06d076ac4bf0dd28be6738a07a72f9#diff-c3fcfbed30e93682746088e2ce1a4a24)\n  var cycleReplacer = function(unused, value) {\n    if (stack[0] === value) { return '[Circular ~]'; }\n    return '[Circular ~.' + keys.slice(0, stack.indexOf(value)).join('.') + ']';\n  };\n\n  function _recursivelyRebuildAndSanitize (val, key) {\n\n    // Handle circle jerks\n    if (stack.length > 0) {\n      var self = this;\n      var thisPos = stack.indexOf(self);\n      ~thisPos ? stack.splice(thisPos + 1) : stack.push(self);\n      ~thisPos ? keys.splice(thisPos, Infinity, key) : keys.push(key);\n      if (~stack.indexOf(val)) {\n        val = cycleReplacer.call(self, key, val);\n      }\n    }\n    else { stack.push(val); }\n\n\n\n    // Rebuild and strip undefineds/nulls\n    if (_.isArray(val)) {\n      return _.reduce(val,function (memo, item, i) {\n        if (!_.isUndefined(item) && (allowNull || !_.isNull(item))) {\n          memo.push(_recursivelyRebuildAndSanitize.call(val, item, i));\n        }\n        return memo;\n      }, []);\n    }\n\n    // Serialize errors, regexps, dates, and functions to strings:\n    else if (_.isError(val)){\n      if (doRunToJSONMethods && _.isFunction(val.toJSON)) {\n        val = val.toJSON();\n      } else {\n        val = val.stack;\n      }\n    }\n    else if (_.isRegExp(val)){\n      val = val.toString();\n    }\n    else if (_.isDate(val)){\n      val = val.toJSON();\n    }\n    else if (_.isFunction(val)){\n      if (!dontStringifyFunctions) {\n        val = val.toString();\n      }\n    }\n    else if (!_.isObject(val)) {\n      // Coerce NaN, Infinity, and -Infinity to 0:\n      // (unless \"allowNaNAndFriends\" is enabled)\n      if (!allowNaNAndFriends) {\n        if (_.isNaN(val)) {\n          val = 0;\n        }\n        else if (val === Infinity) {\n          val = 0;\n        }\n        else if (val === -Infinity) {\n          val = 0;\n        }\n      }\n\n      // Always coerce -0 to +0 regardless.\n      if (val === 0) {\n        val = 0;\n      }\n    }\n    else if (_.isObject(val)) {\n      // Reject readable streams out of hand\n      if (val instanceof Readable) {\n        return null;\n      }\n      // Reject buffers out of hand\n      if (val instanceof Buffer) {\n        return null;\n      }\n      // Reject `RttcRefPlaceholders` out of hand\n      // (this is a special case so there is a placeholder value that ONLY validates stricly against the \"ref\" type)\n      // (note that like anything else, RttcRefPlaceholders nested inside of a JSON/generic dict/generic array get sanitized into JSON-compatible things)\n      if (_.isObject(val.constructor) && val.constructor.name === 'RttcRefPlaceholder') {\n        return null;\n      }\n      // Run its .toJSON() method and use the result, if appropriate.\n      if (doRunToJSONMethods && _.isFunction(val.toJSON)) {\n        return val.toJSON();\n      }//\n\n      return _.reduce(_.keys(val),function (memo, key) {\n        var subVal = val[key];\n        if (!_.isUndefined(subVal) && (allowNull || !_.isNull(subVal))) {\n          memo[key] = _recursivelyRebuildAndSanitize.call(val, subVal, key);\n        }\n        return memo;\n      }, {});\n    }\n\n\n    return val;\n  }\n\n  // Pass in the empty string for the top-level \"key\"\n  // to satisfy Mr. isaac's replacer\n  return _recursivelyRebuildAndSanitize(val, '');\n}\n","/**\n * Module dependencies\n */\n\nvar Readable = require('stream').Stream;\nvar _ = require('@sailshq/lodash');\n\n\n/**\n * Basic type definitions.\n *\n * Roughly based on https://github.com/bishopZ/Typecast.js\n * ________________________________________________________________________________\n * @type {Object}\n */\n\nvar TYPES = {\n\n\n\n\n\n\n  //              $$\\               $$\\\n  //              $$ |              \\__|\n  //   $$$$$$$\\ $$$$$$\\    $$$$$$\\  $$\\ $$$$$$$\\   $$$$$$\\\n  //  $$  _____|\\_$$  _|  $$  __$$\\ $$ |$$  __$$\\ $$  __$$\\\n  //  \\$$$$$$\\    $$ |    $$ |  \\__|$$ |$$ |  $$ |$$ /  $$ |\n  //   \\____$$\\   $$ |$$\\ $$ |      $$ |$$ |  $$ |$$ |  $$ |\n  //  $$$$$$$  |  \\$$$$  |$$ |      $$ |$$ |  $$ |\\$$$$$$$ |\n  //  \\_______/    \\____/ \\__|      \\__|\\__|  \\__| \\____$$ |\n  //                                              $$\\   $$ |\n  //                                              \\$$$$$$  |\n  //                                               \\______/\n  string: {\n    id: 'string',\n    description: 'a string',\n    getExamples: function (){\n      return ['foo', 'bar', 'baz'];\n    },\n    is: _.isString,\n    to: function(v) {\n\n      if(_.isString(v)) { return v; }\n\n      // Convert date into zone-independent (UTC) ISO-8601 timestamp\n      if(_.isDate(v)) {\n        return v.toJSON();\n      }\n\n      if (_.isUndefined(v)){\n        throw new Error('E_runtimeInputTypeCoercionError');\n      }\n\n      if(v instanceof Function) {\n        throw new Error('E_runtimeInputTypeCoercionError');\n      }\n\n      if(v instanceof Object) {\n        throw new Error('E_runtimeInputTypeCoercionError');\n      }\n\n      if(v instanceof Array) {\n        throw new Error('E_runtimeInputTypeCoercionError');\n      }\n\n      // Reject RttcRefPlaceholders\n      // (this is a special case so there is a placeholder value that ONLY validates against the \"ref\" type)\n      if (_.isObject(v) && v.constructor.name === 'RttcRefPlaceholder') {\n        throw new Error('E_runtimeInputTypeCoercionError');\n      }\n\n      if(v === Infinity) {\n        throw new Error('E_runtimeInputTypeCoercionError');\n      }\n\n      if(v === -Infinity) {\n        throw new Error('E_runtimeInputTypeCoercionError');\n      }\n\n      if(_.isNaN(v)) {\n        throw new Error('E_runtimeInputTypeCoercionError');\n      }\n\n      if(_.isNull(v)) {\n        throw new Error('E_runtimeInputTypeCoercionError');\n      }\n\n      return String(v);\n    },\n    getBase: function (){\n      return '';\n    },\n    getExemplar: function() {\n      return 'a string';\n    },\n    isExemplar: function (eg){\n      return TYPES.str.is(eg) && !TYPES.lamda.isExemplar(eg) && !TYPES.json.isExemplar(eg) && !TYPES.ref.isExemplar(eg);\n    }\n  },\n\n\n\n\n\n  //                                    $$\\\n  //                                    $$ |\n  //  $$$$$$$\\  $$\\   $$\\ $$$$$$\\$$$$\\  $$$$$$$\\   $$$$$$\\   $$$$$$\\\n  //  $$  __$$\\ $$ |  $$ |$$  _$$  _$$\\ $$  __$$\\ $$  __$$\\ $$  __$$\\\n  //  $$ |  $$ |$$ |  $$ |$$ / $$ / $$ |$$ |  $$ |$$$$$$$$ |$$ |  \\__|\n  //  $$ |  $$ |$$ |  $$ |$$ | $$ | $$ |$$ |  $$ |$$   ____|$$ |\n  //  $$ |  $$ |\\$$$$$$  |$$ | $$ | $$ |$$$$$$$  |\\$$$$$$$\\ $$ |\n  //  \\__|  \\__| \\______/ \\__| \\__| \\__|\\_______/  \\_______|\\__|\n  //\n  //\n  //\n  number: {\n    id: 'number',\n    description: 'a real number',\n    getExamples: function (){\n      return [-10, 11, 4.5, -942.2];\n    },\n    is: function(v) {\n      return _.isNumber(v) && !_.isNaN(parseFloat(v)) && v!==Infinity && v!==-Infinity;\n    },\n    to: function(v) {\n\n      // Check for Infinity and NaN\n      if (v === Infinity || v === -Infinity) { throw new Error('E_runtimeInputTypeCoercionError'); }\n      if (_.isNaN(v)) { throw new Error('E_runtimeInputTypeCoercionError'); }\n\n      // Check for `null` and `undefined`\n      if (_.isNull(v)) { throw new Error('E_runtimeInputTypeCoercionError'); }\n      if (_.isUndefined(v)) { throw new Error('E_runtimeInputTypeCoercionError'); }\n\n      // Tolerate Date instances.\n      if (_.isDate(v)) { return v.getTime(); }\n\n      // Reject any other JavaScript objects (includes dictionaries, arrays, functions, regexps, etc.)\n      if (_.isObject(v)) { throw new Error('E_runtimeInputTypeCoercionError'); }\n\n      if(TYPES.number.is(v)) { return v; }\n      if(TYPES.boolean.is(v)) { return v ? 1 : 0; }\n      if(TYPES.string.is(v)) {\n\n        // Is this a string that appears to be a number?\n        var isStringThatAppearsToBeNumber = (function _getIsStringThatAppearsToBeNumber(value){\n          if (!_.isString(value)) { return false; }\n\n          // (this is an exception... apparently doing `+''` and `+' '` in javascript results in `0`)\n          if (value === '' || value.match(/\\s/)) { return false; }\n\n          // General case:\n          if ( _.isNaN(+value) ) { return false; }\n          if ( +value=== Infinity ) { return false; }\n          if ( +value=== -Infinity ) { return false; }\n\n          return true;\n        })(v);\n\n        if (!isStringThatAppearsToBeNumber) {\n          throw new Error('E_runtimeInputTypeCoercionError');\n        }\n\n        // Check for Infinity\n        if (v === 'Infinity' || v === '-Infinity') {\n          throw new Error('E_runtimeInputTypeCoercionError');\n        }\n        return +v;\n      }\n\n      var num = v * 1;\n      if(!_.isNumber(num)) {\n        throw new Error('E_runtimeInputTypeCoercionError');\n      }\n      return (num === 0 && !v.match(/^0+$/)) ? 0 : num;\n    },\n    getBase: function (){\n      return 0;\n    },\n    getExemplar: function() {\n      return 123;\n    },\n    isExemplar: function (eg){\n      return TYPES.number.is(eg);\n    }\n  },\n\n\n\n\n\n\n  //  $$\\                           $$\\\n  //  $$ |                          $$ |\n  //  $$$$$$$\\   $$$$$$\\   $$$$$$\\  $$ | $$$$$$\\   $$$$$$\\  $$$$$$$\\\n  //  $$  __$$\\ $$  __$$\\ $$  __$$\\ $$ |$$  __$$\\  \\____$$\\ $$  __$$\\\n  //  $$ |  $$ |$$ /  $$ |$$ /  $$ |$$ |$$$$$$$$ | $$$$$$$ |$$ |  $$ |\n  //  $$ |  $$ |$$ |  $$ |$$ |  $$ |$$ |$$   ____|$$  __$$ |$$ |  $$ |\n  //  $$$$$$$  |\\$$$$$$  |\\$$$$$$  |$$ |\\$$$$$$$\\ \\$$$$$$$ |$$ |  $$ |\n  //  \\_______/  \\______/  \\______/ \\__| \\_______| \\_______|\\__|  \\__|\n  //\n  //\n  //\n  boolean: {\n    id: 'boolean',\n    description: 'true or false',\n    getExamples: function (){\n      return [true, false];\n    },\n    is: _.isBoolean,\n    to: function(v) {\n      if(_.isBoolean(v)) { return v; }\n      if (_.isNumber(v)){\n        if(v === 1) { return true; }\n        if(v === 0) { return false; }\n      }\n      if (_.isString(v)) {\n        if(v === 'true') { return true; }\n        if(v === 'false') { return false; }\n        if(v === '1') { return true; }\n        if(v === '0') { return false; }\n      }\n\n      throw new Error('E_runtimeInputTypeCoercionError');\n    },\n    getBase: function (){\n      return false;\n    },\n    getExemplar: function() {\n      return true;\n    },\n    isExemplar: function (eg){\n      return TYPES.boolean.is(eg);\n    }\n  },\n\n\n\n\n\n\n\n  //        $$\\ $$\\             $$\\     $$\\\n  //        $$ |\\__|            $$ |    \\__|\n  //   $$$$$$$ |$$\\  $$$$$$$\\ $$$$$$\\   $$\\  $$$$$$\\  $$$$$$$\\   $$$$$$\\   $$$$$$\\  $$\\   $$\\\n  //  $$  __$$ |$$ |$$  _____|\\_$$  _|  $$ |$$  __$$\\ $$  __$$\\  \\____$$\\ $$  __$$\\ $$ |  $$ |\n  //  $$ /  $$ |$$ |$$ /        $$ |    $$ |$$ /  $$ |$$ |  $$ | $$$$$$$ |$$ |  \\__|$$ |  $$ |\n  //  $$ |  $$ |$$ |$$ |        $$ |$$\\ $$ |$$ |  $$ |$$ |  $$ |$$  __$$ |$$ |      $$ |  $$ |\n  //  \\$$$$$$$ |$$ |\\$$$$$$$\\   \\$$$$  |$$ |\\$$$$$$  |$$ |  $$ |\\$$$$$$$ |$$ |      \\$$$$$$$ |\n  //   \\_______|\\__| \\_______|   \\____/ \\__| \\______/ \\__|  \\__| \\_______|\\__|       \\____$$ |\n  //                                                                                $$\\   $$ |\n  //                                                                                \\$$$$$$  |\n  //                                                                                 \\______/\n  dictionary: {\n    id: 'dictionary',\n    description: 'a dictionary ({...})',\n    getExamples: function (typeSchema){\n      return [{}, {foo: 'bar'}, {foo: {bar: [{baz: true}]}}];\n    },\n    is: function(v) {\n      if (!_.isObject(v)) { return false; }\n      if (TYPES.array.is(v)) { return false; }\n      if (!_.isPlainObject(v)) { return false; }\n      // Reject readable streams\n      if (v instanceof Readable) {\n        return false;\n      }\n      // Reject buffers\n      if (v instanceof Buffer) {\n        return false;\n      }\n      // Reject RttcRefPlaceholders\n      // (this is a special case so there is a placeholder value that ONLY validates against the \"ref\" type)\n      if (_.isObject(v.constructor) && v.constructor.name === 'RttcRefPlaceholder') {\n        return false;\n      }\n      return true;\n    },\n    to: function(v) {\n\n      // Don't tolerate non-objects, or arrays, or regexps, or dates.\n      if (!_.isObject(v) || _.isArray(v) || _.isDate(v) || _.isRegExp(v) || _.isError(v) || _.isFunction(v)) {\n        throw new Error('E_runtimeInputTypeCoercionError');\n      }\n\n      // Plain objects are ok, pass them on through\n      //\n      // (we used to clone them here, but it's not actually necessary, since we\n      // rebuild those which have explicit nested `example`s, and if this is\n      // `example: {}`, we're rebuilding the dictionary and all of its contents\n      // recursively anyways as the last step in `validate-recursive`.)\n      if (_.isPlainObject(v)){\n        return v;\n      }\n\n      // Cannot coerce a Readable stream\n      if (v instanceof Readable) {\n        throw new Error('E_runtimeInputTypeCoercionError');\n      }\n\n      // Cannot coerce a Buffer\n      if (v instanceof Buffer) {\n        throw new Error('E_runtimeInputTypeCoercionError');\n      }\n\n      // Reject RttcRefPlaceholders\n      // (this is a special case so there is a placeholder value that ONLY validates against the \"ref\" type)\n      if (_.isObject(v) && v.constructor.name === 'RttcRefPlaceholder') {\n        throw new Error('E_runtimeInputTypeCoercionError');\n      }\n\n      // Also tolerate \"pretty close\" objects-- i.e. things which might have prototypal properties\n      // and/or some weird getters and setters and stuff.\n      return v;\n\n    },\n    getBase: function (){\n      return {};\n    },\n    getExemplar: function() {\n      return {};\n    },\n    isExemplar: function (eg){\n      return TYPES.dictionary.is(eg);\n    }\n  },\n\n\n\n\n\n  //\n  //\n  //   $$$$$$\\   $$$$$$\\   $$$$$$\\  $$$$$$\\  $$\\   $$\\\n  //   \\____$$\\ $$  __$$\\ $$  __$$\\ \\____$$\\ $$ |  $$ |\n  //   $$$$$$$ |$$ |  \\__|$$ |  \\__|$$$$$$$ |$$ |  $$ |\n  //  $$  __$$ |$$ |      $$ |     $$  __$$ |$$ |  $$ |\n  //  \\$$$$$$$ |$$ |      $$ |     \\$$$$$$$ |\\$$$$$$$ |\n  //   \\_______|\\__|      \\__|      \\_______| \\____$$ |\n  //                                         $$\\   $$ |\n  //                                         \\$$$$$$  |\n  //                                          \\______/\n  array: {\n    id: 'array',\n    description: 'an array ([...])',\n    getExamples: function (typeSchema){\n      return [[], ['foo'], [['foo']], [{foo: 'bar'}], [2,3,4], [true]];\n    },\n    is: _.isArray,\n    to: function(v) {\n      if (!_.isArray(v)) {\n        throw new Error('E_runtimeInputTypeCoercionError');\n      }\n      return v;\n    },\n    getBase: function (){\n      return [];\n    },\n    getExemplar: function() {\n      return [];\n    },\n    isExemplar: function (eg){\n      return TYPES.array.is(eg);\n    }\n  },\n\n\n\n\n\n  //\n  //                             ad88\n  //                            d8\"\n  //                            88\n  //  8b,dPPYba,   ,adPPYba,  MM88MMM\n  //  88P'   \"Y8  a8P_____88    88\n  //  88          8PP\"\"\"\"\"\"\"    88\n  //  88          \"8b,   ,aa    88\n  //  88           `\"Ybbd8\"'    88\n  //\n  //\n  //\n  // (i.e. `example: \"===\"`)\n  //\n  // (This is a special case-- not just because it accepts anything except `undefined`, including streams, buffers,\n  //  crazy prototypal objects, etc., but because it passes these values through by reference.  This means the value\n  //  IS NOT cloned.  This is handy for streams, for example.)\n  ref: {\n    id: 'ref',\n    description: 'a mutable reference (===)',\n    getExamples: function (){\n      return [null, 'stuff', 2352, true, {foo: {bar: [{baz: true}]}}, [], {}, [{a:1,b:2}]];\n    },\n    is: function(v) {\n      return !_.isUndefined(v);\n    },\n    to: function(v) {\n\n      if(_.isUndefined(v)) {\n        throw new Error('E_runtimeInputTypeCoercionError');\n      }\n\n      return v;\n    },\n    getBase: function (){\n      return null;\n    },\n    getExemplar: function() {\n      return '===';\n    },\n    isExemplar: function (eg){\n      return (eg === '===') || _.isUndefined(eg);\n    },\n    getExemplarDescription: function () {\n      return '3 equal signs';\n    }\n  },\n\n\n\n\n\n  //\n  //     88\n  //     \"\"\n  //\n  //     88  ,adPPYba,   ,adPPYba,   8b,dPPYba,\n  //     88  I8[    \"\"  a8\"     \"8a  88P'   `\"8a\n  //     88   `\"Y8ba,   8b       d8  88       88\n  //     88  aa    ]8I  \"8a,   ,a8\"  88       88\n  //     88  `\"YbbdP\"'   `\"YbbdP\"'   88       88\n  //    ,88\n  //  888P\"\n  //\n  // (i.e. `example: \"*\"`)\n  //\n  // aka purely JSON-serializable\n  // like `{}` or `[]`, this guarantees immutability, but also permits strings, numbers,\n  // or boolean values at the top level. Notably, this also permits null, both at the top-level\n  // and recursively within.\n  json: {\n    id: 'json',\n    description: 'a JSON-compatible value (*)',\n    getExamples: function (){\n      return [null, 'stuff', 2352, true, {foo: {bar: [{baz: true}]}}, [], {}, [{a:1,b:2}]];\n    },\n    is: function(v) {\n      // Reject Infinity, -Infinity, and NaN\n      if (v===Infinity || v===-Infinity || _.isNaN(v)) {\n        return false;\n      }\n      // Reject readable streams\n      if (v instanceof Readable) {\n        return false;\n      }\n      // Reject buffers\n      if (v instanceof Buffer) {\n        return false;\n      }\n      // Reject RttcRefPlaceholders\n      // (this is a special case so there is a placeholder value that ONLY validates against the \"ref\" type)\n      if (_.isObject(v) && v.constructor.name === 'RttcRefPlaceholder') {\n        return false;\n      }\n      if (_.isString(v) || _.isNumber(v) || _.isBoolean(v) || _.isPlainObject(v) || _.isArray(v) || _.isNull(v)) {\n        return true;\n      }\n      return false;\n    },\n    to: function(v) {\n\n      if(_.isUndefined(v)) {\n        throw new Error('E_runtimeInputTypeCoercionError');\n      }\n\n      if (_.isObject(v)){\n        // Cannot coerce a Readable stream to be compatible\n        // with the wonderful world of JSON\n        if (v instanceof Readable) {\n          throw new Error('E_runtimeInputTypeCoercionError');\n        }\n\n        // Cannot coerce a Buffer\n        if (v instanceof Buffer) {\n          throw new Error('E_runtimeInputTypeCoercionError');\n        }\n        // Cannot coerce a RttcRefPlaceholder\n        // (this is a special case so there is a placeholder value that ONLY validates against the \"ref\" type)\n        if (_.isObject(v) && v.constructor.name === 'RttcRefPlaceholder') {\n          throw new Error('E_runtimeInputTypeCoercionError');\n        }\n      }\n\n      return v;\n    },\n    getBase: function (){\n      return null;\n    },\n    getExemplar: function() {\n      return '*';\n    },\n    isExemplar: function (eg){\n      return eg === '*';\n    },\n    getExemplarDescription: function () {\n      return 'a star symbol';\n    }\n  },\n\n\n\n\n\n\n  //\n  //  88                                           88\n  //  88                                           88\n  //  88                                           88\n  //  88  ,adPPYYba,  88,dPYba,,adPYba,    ,adPPYb,88  ,adPPYYba,\n  //  88  \"\"     `Y8  88P'   \"88\"    \"8a  a8\"    `Y88  \"\"     `Y8\n  //  88  ,adPPPPP88  88      88      88  8b       88  ,adPPPPP88\n  //  88  88,    ,88  88      88      88  \"8a,   ,d88  88,    ,88\n  //  88  `\"8bbdP\"Y8  88      88      88   `\"8bbdP\"Y8  `\"8bbdP\"Y8\n  //\n  // (aka `->`)\n  //\n  // special type which represents a function literal which must comply with a predetermined contract\n  // indicating which inputs are provided and which exits are expected.\n  lamda: {\n    id: 'lamda',\n    description: 'a function (->)',\n    getExamples: function (){\n      return [function (){}, function someFn(might,have,args){ return 'and probably has some code in it'; }];\n    },\n    is: function(v) {\n      if (_.isFunction(v)) {\n        return true;\n      }\n      return false;\n    },\n    to: function(v) {\n      if (_.isFunction(v)) {\n        return v;\n      }\n      throw new Error('E_runtimeInputTypeCoercionError');\n    },\n    getBase: function (){\n      return function () { throw new Error('Not implemented! (this function was automatically created by `rttc`'); };\n    },\n    getExemplar: function() {\n      return '->';\n    },\n    isExemplar: function (eg){\n      return _.isString(eg) && eg.match(/(^-+>$)|(^=+>$)|(^<=+$)|(^<-+$)/);\n    },\n    getExemplarDescription: function () {\n      return 'an arrow symbol';\n    }\n  },\n\n\n\n};\n\n\n\n\n\n\n// Abbreviation aliases for backwards compat.\nTYPES.str = TYPES.string;\nTYPES.num = TYPES.number;\nTYPES.bool = TYPES.boolean;\nTYPES.arr = TYPES.array;\nTYPES.dict = TYPES.dictionary;\n\n// (Mi)spelling aliases\nTYPES.lambda = TYPES.lamda;\n\n// Case-folding aliases\nTYPES.JSON = TYPES.json;\n\nmodule.exports = TYPES;\n\n\n\n","/**\n * Module dependencies\n */\n\nvar util = require('util');\nvar _ = require('@sailshq/lodash');\nvar types = require('./types');\nvar rebuildSanitized = require('./sanitize');\nvar compile = require('../compile');\nvar getDisplayType = require('../get-display-type');\n\n\n/**\n *\n * @param  {===} expected\n * @param  {===} actual\n * @param  {Array} errors  [errors encountered along the way are pushed here]\n * @param  {Array} hops   [used in error messages]\n * @param  {Boolean} strict [if set, validation will be strict]\n * @return {===} coerced value\n */\nmodule.exports = function _validateRecursive (expected, actual, errors, hops, strict){\n\n  // Look up expected type from `types` object using `expected`.\n  var expectedType;\n  var isExpectingArray;\n  var isExpectingDictionary;\n  var isExpectingAnything;\n  var allowAnyArray;\n  var allowAnyDictionary;\n  var allowAnyJSONCompatible;\n\n\n  // console.log('validating',actual,'against',expected,'...');\n\n\n  //\n  // Set special flags about what to allow/expect for the type:\n  //\n\n  // Flag [] (allow any array)\n  if (_.isArray(expected) && expected.length === 0) {\n    allowAnyArray = true;\n  }\n  // Flag {} (allow any dictionary)\n  else if (_.isPlainObject(expected) && _.keys(expected).length === 0) {\n    allowAnyDictionary = true;\n  }\n  // Flag 'ref' (allow anything that's not undefined)\n  else if (expected === 'ref') {\n    isExpectingAnything = true;\n  }\n  // Flag 'json' (allow anything that's JSON compatible)\n  else if (expected === 'json') {\n    allowAnyJSONCompatible = true;\n  }\n\n\n\n  //\n  // Now look up the proper type validation/coercion strategy:\n  //\n\n  // Arrays\n  if (_.isArray(expected)) {\n    expectedType = types.array;\n    isExpectingArray = true;\n  }\n  // Dictionaries\n  else if (_.isObject(expected)) {\n    expectedType = types.dictionary;\n    isExpectingDictionary = true;\n  }\n  // everything else (i.e. 'string', 'boolean', 'number', 'ref', 'lamda', 'json')\n  else {\n    expectedType = types[expected];\n\n    // If this refers to an unknown type, default\n    // to a string's base type and remember the error.\n    if (_.isUndefined(expectedType)) {\n      errors.push((function (){\n        var err = new Error('Unknown type: '+expected);\n        err.code = 'E_UNKNOWN_TYPE';\n        return err;\n      })());\n      return types.string.getBase();\n    }\n  }\n\n  // Default the coercedValue to the actual value.\n  var coercedValue = actual;\n\n  // If the actual value is undefined, fill in with the\n  // appropriate base value for the type.\n  if(_.isUndefined(actual)) {\n    coercedValue = expectedType.getBase();\n  }\n\n  // Check `actual` value using `expectedType.is()`\n  if (!expectedType.is(actual)){\n\n\n    // Build an E_NOT_STRICTLY_VALID error\n    var newErr = (function (){\n      var msg = '';\n      if (_.isUndefined(actual)) {\n        msg += 'Expecting ' + compile(expected) + ' (but got `undefined`)';\n      }\n      else {\n        msg += 'Specified value (a ' + getDisplayType(actual) + ': '+((actual===Infinity||actual===-Infinity||_.isNaN(actual))?actual:compile(actual))+') ';\n        msg += 'doesn\\'t match the expected '+(_.isObject(expected)?getDisplayType(expected)+' ':'')+'type'+(_.isObject(expected)?' schema ':'')+ ': ' + compile(expected) + '';\n      }\n      if (hops.length > 0) {\n        msg = '@ `'+hops.join('.')+'`: ' + msg;\n      }\n      var err = new Error(msg);\n      err.hops = hops;\n      err.actual = actual;\n      err.expected = expected;\n      err.code = 'E_NOT_STRICTLY_VALID';\n\n      // This is considered a \"minor\" error if it can be coerced without\n      // causing any errors.\n      try {\n        expectedType.to(actual);\n        err.minor = true;\n      }\n      catch (e) {}\n      return err;\n    })();\n\n    // Don't bother tracking minor errors unless we're in `strict` mode.\n    if (!newErr.minor || (strict && newErr.minor)) {\n      errors.push(newErr);\n    }\n\n\n    // Invalid expected type.  Try to coerce:\n    try {\n      coercedValue = expectedType.to(actual);\n    }\n    catch (e) {\n\n      // If that doesn't work, use the base type:\n      coercedValue = expectedType.getBase();\n\n      // But also push an `E_NOT_EVEN_CLOSE` error\n      errors.push((function (){\n        var msg = '';\n        if (_.isUndefined(actual)) {\n          msg += 'Expecting ' + compile(expected) + ' (but got `undefined`)';\n        }\n        else {\n          msg += 'Specified value (a ' + getDisplayType(actual) + ': '+compile(actual)+ ') ';\n          msg += 'doesn\\'t match the expected '+(_.isObject(expected)?getDisplayType(expected)+' ':'')+'type'+(_.isObject(expected)?' schema ':'')+ ': ' + compile(expected) + '';\n        }\n        msg += ' Attempted to coerce the specified value to match, but it wasn\\'t similar enough to the expected value.';\n        if (hops.length > 0) {\n          msg = '@ `'+hops.join('.')+'`: ' + msg;\n        }\n        var err = new Error(msg);\n        err.hops = hops;\n        err.actual = actual;\n        err.expected = expected;\n        err.code = 'E_NOT_EVEN_CLOSE';\n        return err;\n      })());\n    }\n  }\n\n  // Build partial result\n  // (taking recursive step if necessary)\n\n  // ...expecting ANYTHING ('===')\n  if (isExpectingAnything) {\n    // Note that, in this case, we return a mutable reference.\n    return coercedValue;\n  }\n\n  // ...expecting ANY json-compatible value (`\"*\"`)\n  if (allowAnyJSONCompatible) {\n    // (run rebuildSanitized with `allowNull` enabled)\n    return rebuildSanitized(coercedValue, true);\n  }\n\n  if (isExpectingArray) {\n\n    // ...expecting ANY array (`[]`)\n    if (allowAnyArray) {\n      return rebuildSanitized(coercedValue, true);\n    }\n\n    // ...expecting a specific array example\n    var arrayItemTpl = expected[0];\n    return _.reduce(coercedValue, function (memo, coercedVal, i){\n\n      // Never consider `undefined` a real array item. Because things cannot be and also not be.\n      if (_.isUndefined(coercedVal)) {\n        return memo;\n      }\n      memo.push(_validateRecursive(arrayItemTpl, coercedVal, errors, hops.concat(i), strict));\n      return memo;\n    }, []);\n  }\n\n  if (isExpectingDictionary) {\n\n    // ...expecting ANY dictionary (`{}`)\n    if (allowAnyDictionary){\n      return rebuildSanitized(coercedValue, true);\n    }\n    // ...expecting a specific dictionary example\n    return _.reduce(expected, function (memo, expectedVal, expectedKey) {\n      memo[expectedKey] = _validateRecursive(expected[expectedKey], coercedValue[expectedKey], errors, hops.concat(expectedKey), strict);\n      return memo;\n    }, {});\n  }\n\n  // ...expecting a primitive\n  return coercedValue;\n};\n\n\n\n","/**\n * Module dependencies\n */\n\nvar _ = require('@sailshq/lodash');\n\n\n/**\n * Eval stringified functions at the top-level or within value (use `typeSchema` to know\n * where to expect functions-- the \"lamda\" type)\n *\n * @param  {*} value\n * @param  {*} typeSchema\n * @return {*}\n */\nmodule.exports = function hydrate (value, typeSchema) {\n\n  if (_.isUndefined(typeSchema)) {\n    throw new Error('rttc.hydrate() requires a 2nd argument (`typeSchema`).');\n  }\n\n  // Deserialize any lamda functions that exist in the provided input value,\n  // including at the top level.\n  //\n  // If this is a lamda type, or something which MIGHT contain a lamda type\n  // (i.e. nested array or dictionary type schema), we must recursively iterate over the\n  // type schema looking for lamda types, and when we find them, parse input values as\n  // stringified functions, converting them to hydrated JavaScript functions.\n  //\n  // But otherwise, we just go ahead and bail.\n  if (typeSchema !== 'lamda' &&\n    (!_.isObject(typeSchema) || _.isEqual(typeSchema, []) || _.isEqual(typeSchema, {}))) {\n    return value;\n  }\n\n  return (function parseLamdaInputValues(val, keysSoFar){\n\n    var typeHere = keysSoFar.length > 0 ? _.get(typeSchema, keysSoFar.join('.')) : typeSchema;\n\n    // If this is supposed to be an array or dictionary, recursively traverse the\n    // next leg of the type schema\n    //\n    // (note that we don't need to worry about circular refs because we've already\n    // ensured JSON serializability above)\n    if (_.isArray(typeHere)) {\n\n      // if the actual value does not have an array here as expected,\n      // just stop looking for lamdas this direction (there obviously aren't any,\n      // and it's not the job of this function to catch any validation issues)\n      if (!_.isArray(val)) {\n        return val;\n      }\n\n      // Special case for array generic (`[]`)\n      if (typeHere.length === 0) {\n        return val;\n      }\n\n      // Since a type schema array will only have one item, we must iterate over\n      // the actual value:\n      return _.reduce(val, function (memo, unused, index){\n        memo.push(parseLamdaInputValues(val[index], keysSoFar.concat('0') ));\n        return memo;\n      }, []);\n    }\n    else if (_.isObject(typeHere)){\n\n      // if the actual value does not have a dictionary here as expected,\n      // just stop looking for lamdas this direction (there obviously aren't any,\n      // and it's not the job of this function to catch any validation issues)\n      if (!_.isObject(val)) {\n        return val;\n      }\n\n      // Special case for dictionary generic (`{}`)\n      if (_.keys(typeHere).length === 0) {\n        return val;\n      }\n\n      return _.reduce(typeHere, function (memo, unused, subKey){\n        // If the key from the type schema contains `.`, then fail with an error.\n        if ((''+subKey).match(/\\./)) {\n          throw new Error('Keys containing dots (`.`) are not currently supported in the type schema for `rttc.hydrate`.');\n        }\n        memo[subKey] = parseLamdaInputValues(val[subKey], keysSoFar.concat(subKey));\n        return memo;\n      }, {});\n    }\n\n    // If this is supposed to be a lamda, and the actual value is a string,\n    // parse a function out of it.  If anything goes wrong, just pass the value\n    // through as-is.\n    else if (typeHere === 'lamda' && _.isString(val)) {\n      try {\n        var fn;\n        // If the lamda string begins with \"function\", then we'll assume it's a\n        // complete, stringified function.\n        if (val.match(/^\\s*function/)){\n          eval('fn='+val);\n        }\n        // If the lamda string doesn't begin with \"function\", then we'll assume it\n        // is a function body, and build a machine `fn` out of it (assumes standard\n        // `fn` function signature)\n        else {\n          eval('fn=function(inputs, exits, env){'+val+'}');\n        }\n        return fn;\n      }\n      catch (e){\n        // Could not parse usable lamda function from provided string-\n        // so just pass the value through as-is.\n        return val;\n      }\n    }\n\n    // Otherwise, just return what we've got\n    return val;\n  })(value, []);\n\n};\n","/**\n * Module dependencies\n */\n\nvar types = require('./helpers/types');\nvar inferPrimitive = require('./helpers/infer-primitive');\n\n\n\n/**\n * Given an RTTC exemplar, compute the display type string (aka \"typeclass\").\n *\n * For example, given `{foo: 'bar'}`, this returns `'dictionary'`,\n * and given `'->'`, this returns `'ref'`.  And so forth.\n *\n *\n * @param {JSON} exemplar\n *        e.g. `{soup: 'Rabbit soup'}`\n *\n * @returns  {String} [display type]\n *         Returns one of the standard RTTC display types:\n *            string\n *            number\n *            boolean\n *            lamda\n *            dictionary\n *            array\n *            json\n *            ref\n *          ...or '' (empty string is the catchall if exemplar is unrecognized; e.g. `null`)\n */\nmodule.exports = function inferDisplayType(exemplar){\n  // Currently `types.ref.is(undefined)` returns true.  This will change in\n  // future of RTTC, but to preserve compatibility, we are leaving it the way\n  // it is for the time being.  So we check that the exemplar is not `undefined`\n  // out here. (We should pull this into the `isExemplar` function of the `ref` type\n  // in a future major version release).\n  if (typeof exemplar === 'undefined') {\n    return '';\n  }\n\n  // If the exemplar isn't a dictionary or array, we will infer\n  // its type without messing around with any kind of recursion.\n  if(!types.dictionary.is(exemplar) && !types.array.is(exemplar)) {\n    var displayType = inferPrimitive(exemplar);\n    // If inferPrimitive returned something other than undefined, everything is in order.\n    if (typeof displayType !== 'undefined') {\n      return displayType;\n    }\n    // But otherwise, this exemplar must be null or undefined-- or perhaps something\n    // completely strange, so we return empty string to indicate voidness and/or\n    // our confusion.\n    else {\n      return '';\n    }\n  }\n  // Otherwise, if the exemplar is an array, we return 'array'.\n  else if(types.array.is(exemplar)) {\n    return 'array';\n  }\n  // Otherwise, if the exemplar is a dictionary, we return 'dictionary'.\n  else if(types.dictionary.is(exemplar)){\n    return 'dictionary';\n  }\n  else {\n    throw new Error('Consistency violation: Unexpected logic error in RTTC.');\n  }\n};\n\n","/**\n * Module dependencies\n */\n\nvar _ = require('@sailshq/lodash');\nvar types = require('./helpers/types');\nvar inferPrimitive = require('./helpers/infer-primitive');\n\n\n/**\n * Infer the type schema of the provided RTTC exemplar (aka example).\n *\n * @param  {JSON} eg [an rttc exemplar]\n * @return {JSON} [a type schema]\n */\nmodule.exports = function infer(eg) {\n\n  // If the exemplar isn't a dictionary or array, we will infer\n  // its type without messing around with any kind of recursion.\n  if(!types.dictionary.is(eg) && !types.array.is(eg)) {\n    return inferPrimitive(eg);\n  }\n  // If the exemplar is an array...\n  else if(types.array.is(eg)) {\n    // If this array is empty, that means it's a generic array exemplar.\n    // (we do not parse generic array exemplars recursively.)\n    if (eg.length === 0) {\n      return eg;\n    }\n    // Otherwise this is pattern array- which we do infer recursively.\n    else {\n      // << Recursive step >>\n      return [ infer(eg[0]) ];\n    }//</pattern array>\n  }\n  // If the exemplar is a dictionary...\n  else {\n    // If this dictionary is empty, that means it's a generic\n    // dictionary exemplar (we do not parse generic dictionary\n    // exemplars recursively.)\n    if (_.keys(eg).length === 0) {\n      return eg;\n    }//</generic dictionary>\n\n    // Otherwise, this is a faceted dictionary exemplar.\n    // So we infer its type schema recursively.\n    else {\n      var dictionaryTypeSchema = {};\n      _.each(_.keys(eg), function(key) {\n        // << Recursive step >>\n        dictionaryTypeSchema[key] = infer(eg[key]);\n      });\n      return dictionaryTypeSchema;\n    }//</faceted dictionary>\n  }\n};\n","/**\n * Module dependencies\n */\n\nvar _ = require('@sailshq/lodash');\nvar buildTwoHeadedSchemaCursor = require('./helpers/build-two-headed-schema-cursor');\nvar TYPES = require('./helpers/types');\n\n\n\n/**\n * intersection()\n *\n * Given two rttc schemas, return the most specific schema that accepts the shared subset\n * of values accepted by both, and that _does not_ accept any values that both schemas would\n * accept individually. Formally, this subset is the intersection of A and B (A  B),\n * where A is the set of values accepted by `schema0` and B is the set of values accepted by\n * `schema1`.  If there is no schema that accepts only `A  B` (e.g. 'boolean'  `[{foo:['json']]`)\n * then this function will return `null`.  Otherwise it will return the schema that precisely\n * accepts `A  B`.\n *\n * @param  {*} schema0\n * @param  {*} schema1\n * @param  {boolean} isExemplar - if set, the schemas will be treated as exemplars (rather than type schemas)\n * @param  {boolean} isStrict - if set, the schemas will be intersected using strict validation rules.\n * @return {*}\n */\nmodule.exports = function intersection (schema0, schema1, isExemplar, isStrict) {\n\n  // exemplar-vs-type-schema-agnostic type check helper\n  function thisSchema(schema){\n    return {\n      is: function (){\n        var acceptableTypes = Array.prototype.slice.call(arguments);\n        if (!isExemplar) {\n          return _.contains(acceptableTypes, schema);\n        }\n        return _.any(acceptableTypes, function (typeName){\n          return TYPES[typeName].isExemplar(schema);\n        });\n      }\n    };\n  }\n\n\n  // Configure two-headed schema cursor and use it to recursively\n  // determine the schema intersection.\n  var twoHeadedCursor = buildTwoHeadedSchemaCursor(\n\n    // If we pass in `false` as the first argument, it indicates we're traversing\n    // type schemas rather than exemplars. If `true`, then it's the other way around.\n    !!isExemplar,\n\n    function onFacetDict(schema0, schema1, parentKeyOrIndex, iterateRecursive){\n\n      if ( thisSchema(schema1).is('json', 'ref') ) {\n        return schema0;\n      }\n\n      var isIncompatible;\n      var intersectedFacetDict = _.reduce(schema0, function (memo, val, key) {\n\n        // If schema1 is a faceted dictionary, check to see if it has this key.\n        // It not, include the key no matter what!\n        if (_.isObject(schema1) && !_.isArray(schema1) && !_.isEqual(schema1, {})) {\n          if (_.isUndefined(schema1[key]) || _.isNull(schema1[key])) {\n            memo[key] = val;\n            return memo;\n          }\n        }\n\n        var intersectedFacet = iterateRecursive(key);\n        if (_.isNull(intersectedFacet)) {\n          isIncompatible = true;\n          return memo;\n        }\n\n        memo[key] = intersectedFacet;\n        return memo;\n      }, {});\n\n      if (isIncompatible) {\n        return null;\n      }\n\n      // If schema1 is a faceted dictionary, check to see if it has any keys which\n      // are not in schema0.  If so, include them in the intersection.\n      if (_.isObject(schema1) && !_.isArray(schema1) && !_.isEqual(schema1, {})) {\n        _.each(schema1, function (val, key){\n          if (_.isUndefined(schema0[key]) || _.isNull(schema0[key])) {\n            intersectedFacetDict[key] = val;\n          }\n        });\n      }\n\n      return intersectedFacetDict;\n    },\n    function onPatternArray(schema0, schema1, parentKeyOrIndex, iterateRecursive){\n      if ( thisSchema(schema1).is('json', 'ref') ) {\n        return schema0;\n      }\n\n      if (!_.isArray(schema1)) {\n        return null;\n      }\n      var intersectedPattern = iterateRecursive(0);\n      if (_.isNull(intersectedPattern)) {\n        return null;\n      }\n      return [ intersectedPattern ];\n    },\n    function onGenericDict(schema0, schema1, parentKeyOrIndex){\n      if ( thisSchema(schema1).is('json', 'ref') ) {\n        return schema0;\n      }\n\n      if (!_.isArray(schema1) && _.isObject(schema1)) {\n        return schema1;\n      }\n      return null;\n    },\n    function onGenericArray(schema0, schema1, parentKeyOrIndex){\n      if ( thisSchema(schema1).is('json', 'ref') ) {\n        return schema0;\n      }\n\n      if (_.isArray(schema1)) {\n        return schema1;\n      }\n      return null;\n    },\n    function onJson(schema0, schema1, parentKeyOrIndex) {\n\n      if (_.isArray(schema1)) {\n        return schema1;\n      }\n      if (_.isObject(schema1)) {\n        return schema1;\n      }\n\n      if ( thisSchema(schema1).is('ref', 'json') ) {\n        return schema0;\n      }\n      if ( thisSchema(schema1).is('string', 'number', 'boolean') ) {\n        return schema1;\n      }\n\n      return null;\n    },\n    function onRef(schema0, schema1, parentKeyOrIndex) {\n      return schema1;\n    },\n    function onLamda(schema0, schema1, parentKeyOrIndex) {\n      if ( thisSchema(schema1).is('lamda') ) {\n        return schema1;\n      }\n      if ( thisSchema(schema1).is('ref') ) {\n        return schema0;\n      }\n      return null;\n    },\n    function onString(schema0, schema1, parentKeyOrIndex) {\n      if ( thisSchema(schema1).is('string') ) {\n        return schema1;\n      }\n      if ( thisSchema(schema1).is('json', 'ref') ) {\n        return schema0;\n      }\n      if (!isStrict){\n        if ( thisSchema(schema1).is('number', 'boolean') ) {\n          return schema1;\n        }\n      }\n      return null;\n    },\n    function onNumber(schema0, schema1, parentKeyOrIndex) {\n      if ( thisSchema(schema1).is('number') ) {\n        return schema1;\n      }\n      if ( thisSchema(schema1).is('json', 'ref') ) {\n        return schema0;\n      }\n      if (!isStrict){\n        if ( thisSchema(schema1).is('string') ) {\n          return schema0;\n        }\n        if ( thisSchema(schema1).is('boolean') ) {\n          return schema1;\n        }\n      }\n      return null;\n    },\n    function onBoolean(schema0, schema1, parentKeyOrIndex) {\n      if ( thisSchema(schema1).is('boolean') ) {\n        return schema1;\n      }\n      if ( thisSchema(schema1).is('json', 'ref') ) {\n        return schema0;\n      }\n      if (!isStrict){\n        if ( thisSchema(schema1).is('string', 'number') ) {\n          return schema0;\n        }\n      }\n      return null;\n    }\n  );\n\n\n  // If either schema is void, then the intersection will always be the same.\n  // (only relevant w/ exemplars)\n  if (isExemplar && _.isNull(schema0) || _.isNull(schema1)) {\n    return null;\n  }\n\n\n  // Run the iterator to get the schema intersection.\n  var result = twoHeadedCursor(schema0, schema1);\n\n  if (_.isUndefined(result)) {\n    throw new Error('Consistency violation: Result from rttc.intersection() should never be `undefined`.');\n  }\n\n  return result;\n\n};\n\n\n\n","/**\n * Module dependencies\n */\n\nvar _ = require('@sailshq/lodash');\n\n\n/**\n * A variation on the lodash equality check that uses the expected typeSchema\n * for additional context (it stringifies lamdasand compares them that way)\n *\n * If no typeSchema is provided, this is currently just the same thing as `_.isEqual`\n *\n * @param  {===} firstValue\n * @param  {===} secondValue\n * @param  {*} typeSchema\n * @return {Boolean}\n */\nmodule.exports = function isEqual (firstValue, secondValue, typeSchema) {\n\n  // If typeSchema is not provided, use `_.isEqual`\n  if (_.isUndefined(typeSchema)) {\n    return _.isEqual(firstValue, secondValue);\n  }\n\n\n  // Otherwise recursively crawl the type schema and ensure that `firstValue`\n  // and `secondValue` are equivalent to one another in all the places.\n  //\n  // The following code returns the result via calling a self-calling\n  // (but *named*) recursive function.\n\n  /**\n   * [_isEqualRecursive description]\n   * @param  {[type]}  firstValue  [description]\n   * @param  {[type]}  secondValue [description]\n   * @param  {[type]}  typeSchemaHere  [description]\n   * @param  {[type]}  keypathArray  [description]\n   * @param  {[type]}  keyOrIndex  [description]\n   * @return {Boolean}             [description]\n   */\n  return (function _isEqualRecursive(firstValue, secondValue, typeSchemaHere, keypathArray, keyOrIndex){\n\n    // If the key or index is a string and contains `.`, then fail with an error.\n    if ((''+keyOrIndex).match(/\\./)) {\n      throw new Error('Keys containing dots (`.`) are not currently supported in values provided to `rttc.isEqual` when the 3rd argument is being used.');\n    }\n\n    // Clone (shallow) the keypath array so we can mutate it.\n    if (_.isArray(keypathArray)){\n      keypathArray = _.clone(keypathArray);\n    }\n\n    // If `keyOrIndex` is undefined, then this is the initial pass.\n    // Otherwise it's a subsequent pass.\n    if (!_.isUndefined(keyOrIndex)){\n      // Keep track of indices/keys already traversed in order to dereference the appropriate part\n      // of the type schema (`indexOrKey` will be undefined if this is the top-level)\n      keypathArray.push(keyOrIndex);\n    }\n\n    // Now look up the two value segments we'll be comparing below.\n    var firstValueSegment = keypathArray.length === 0 ? firstValue : _.get(firstValue, keypathArray.join('.'));\n    var secondValueSegment = keypathArray.length === 0 ? secondValue : _.get(secondValue, keypathArray.join('.'));\n\n    // console.log('(for key (`%s`), keypathArray:',keyOrIndex, keypathArray,'typeSchemaHere:', typeSchemaHere,')');\n    // console.log('at `%s`, comparing:',keypathArray.join('.'), firstValueSegment,'vs',secondValueSegment);\n\n\n    if (_.isArray(typeSchemaHere)) {\n      // If this path expects a generic array (i.e. `['*']` or `[]` for short),\n      // then just use lodash.\n      if (_.isEqual(typeSchemaHere, [])){\n        return _.isEqual(firstValueSegment, secondValueSegment);\n      }\n      // Otherwise, this is a pattern array so take the recursive step.\n      // (but first check to make sure both things are actually arrays)\n      if (!_.isArray(firstValueSegment) || !_.isArray(secondValueSegment)){\n        return false;\n      }\n      return _.all(firstValueSegment, function checkEachItemIn1stArray(unused, i){\n        return _isEqualRecursive(firstValue, secondValue, typeSchemaHere[0], keypathArray, i);\n      }) &&\n      _.all(secondValueSegment, function checkEachItemIn2ndArray(unused, i){\n        return _isEqualRecursive(firstValue, secondValue, typeSchemaHere[0], keypathArray, i);\n      });\n    }\n    else if (_.isObject(typeSchemaHere)) {\n      // If this path expects a generic dictionary (i.e. `{}`), then just use lodash.\n      if (_.isEqual(typeSchemaHere, {})){\n        return _.isEqual(firstValueSegment, secondValueSegment);\n      }\n\n      // Otherwise, this is a facted dictionary so take the recursive step.\n      // (but first check to make sure both things are actually dictionaries)\n      if (_.isArray(firstValueSegment) || !_.isObject(firstValueSegment) || _.isArray(secondValueSegment) || !_.isObject(secondValueSegment)){\n        return false;\n      }\n      return _.all(firstValueSegment, function checkEachItemIn1stDict(unused, key){\n        return _isEqualRecursive(firstValue, secondValue, typeSchemaHere[key], keypathArray, key);\n      }) &&\n      _.all(secondValueSegment, function checkEachItemIn2ndDict(unused, key){\n        return _isEqualRecursive(firstValue, secondValue, typeSchemaHere[key], keypathArray, key);\n      });\n    }\n    // If this type is a lamda, `.toString()` the functions and compare\n    // them that way.\n    else if (typeSchemaHere === 'lamda') {\n      // Look for any obvious mismatches and return false if they are encountered.\n      if (!firstValueSegment || !secondValueSegment || !_.isFunction(firstValueSegment.toString) || !_.isFunction(secondValueSegment.toString)) {\n        return false;\n      }\n      return (firstValueSegment.toString() === secondValueSegment.toString());\n    }\n    // Miscellaneous thing.\n    else {\n      return _.isEqual(firstValueSegment, secondValueSegment);\n    }\n\n  })(firstValue, secondValue, typeSchema, []);//</self-calling recursive fn>\n};\n","/**\n * Module dependencies\n */\n\nvar _ = require('@sailshq/lodash');\nvar infer = require('./infer');\n\n\n/**\n * isInvalidExample()\n *\n * Check out the provided example and see if it fails inference via rttc.infer().\n *\n * Note:\n * Although `undefined` technically is inferred as \"ref\", this function\n * considers it an invalid example.\n *\n * ----------------------------------------------------------------------------\n * @param  {JSON} example\n *\n * @return {===} truthy if the provided example is invalid,\n *               false otherwise.\n */\nmodule.exports = function isInvalidExample(example, tolerateMultiItemArrays){\n\n  if (_.isUndefined(example)) {\n    return new Error('Invalid example: `undefined` is not a valid example.');\n  }\n  try {\n    var typeSchema = infer(example);\n    if (_.isUndefined(typeSchema) || _.isNull(typeSchema)) {\n      return new Error('Invalid example: could not infer type schema.');\n    }\n  }\n  catch (e) {\n    return e;\n  }\n\n  return false;\n};\n","/**\n * Module dependencies\n */\n\nvar _ = require('@sailshq/lodash');\nvar buildSchemaIterator = require('./helpers/build-schema-iterator');\n\n\n\n/**\n * Return whether or not this schema is \"specific\"-- meaning\n * its type is either \"string\", \"number\", \"boolean\", \"lamda\", a\n * faceted dictionary, or a patterned array.\n *\n * This check is not recursive by default (i.e. `foo: { bar: [], baz: {} }`\n * would be considered \"specific\").  Set `checkRecursively` to true to enable\n * recursive parsing.\n *\n * @param  {*} schema\n * @param  {Boolean} checkRecursively  [defaults to false]\n * @param  {Boolean} isExemplar [defaults to false]\n *         if set, the schema will be treated as an exemplars (rather than a type schema)\n *\n * @return {Boolean}\n */\nmodule.exports = function isSpecific (schema, checkRecursively, isExemplar) {\n\n  // Build iterator\n  var iterator = (buildSchemaIterator(\n    function onFacetDict(facetDictionary, parentKeyOrIndex, callRecursive){\n      if (!checkRecursively) {\n        return true;\n      }\n      return _.reduce(facetDictionary, function (isSpecific, val, key) {\n        return isSpecific && callRecursive(val, key);\n      }, true);\n    },\n    function onPatternArray(patternArray, parentKeyOrIndex, iterateRecursive){\n      if (!checkRecursively) {\n        return true;\n      }\n      return iterateRecursive(patternArray[0], 0);\n    },\n    function onGenericDict(schema, parentKeyOrIndex){\n      return false;\n    },\n    function onGenericArray(schema, parentKeyOrIndex){\n      return false;\n    },\n    function onOther(schema, parentKeyOrIndex){\n      if (isExemplar) {\n        return (schema !== '*' && schema !== '===');\n      }\n      return (schema !== 'json' && schema !== 'ref');\n    }\n  ));\n\n  return iterator(schema);\n\n};\n\n","/**\n * Module dependencies\n */\n\nvar util = require('util');\nvar _ = require('@sailshq/lodash');\nvar types = require('./helpers/types');\nvar validate = require('./validate');\nvar parse = require('./parse');\nvar hydrate = require('./hydrate');\n\n\n/**\n * parseHuman()\n *\n * Convert a string that was entered by a human into a value of the appropriate type.\n * By default, parse numbers and booleans-- but otherwise leave it as a string.\n *\n * On the other hand, if the optional `expectedTypeSchema` is provided, use it to make a better guess:\n *    If the type schema is expecting a string, number, or boolean, then loose validation (`rttc.validate()`)\n *     will be performed and the potentially-coerced result will be returned.\n *    If the type schema is expecting a function, then if `unsafeMode` is enabled, the human string will be hydrated\n *     as a JavaScript function.  Otherwise, if `unsafeMode` is false, an error will be thrown.\n *    Finally, if the type schema is expecting a dictionary, array, JSON, or any ref, then interpret the human string\n *     as JSON (using rttc.parse(), with respect for `unsafeMode` re hydrating nested functions).  If the string cannot\n *     be parsed as JSON, an error is thrown.  But if the rttc.parse() is successful, the result is then validated against\n *     the type schema (using RTTC loose validation).  If _that_ doesn't throw an error, then the result is returned.\n *\n * @param  {String} humanString\n * @param  {*} expectedTypeSchema  [optional]\n * @param  {Boolean} unsafeMode  - enable to use `eval` to hydrate stringified functions based on `expectedTypeSchema` (this is not safe to use on user-provided input and so is disabled by default)\n * @return {*}\n */\nmodule.exports = function parseHuman (humanString, expectedTypeSchema, unsafeMode) {\n\n  if (!_.isString(humanString)) {\n    throw new Error('rttc.parseHuman() expects a string value, but a '+typeof humanString+' was provided: '+util.inspect(humanString, false, null));\n  }\n\n  if (unsafeMode && _.isUndefined(expectedTypeSchema)) {\n    throw new Error('rttc.parseHuman() cannot enable `unsafeMode` without also providing a `expectedTypeSchema`.');\n  }\n\n\n  // If no type schema was specified, we will try to make a nice number or boolean\n  // out of the value, but if that doesn't work, we'll leave it a string.\n  if (_.isUndefined(expectedTypeSchema)) {\n    try {\n      return types.number.to(humanString);\n    }\n    catch (e){}\n    try {\n      return types.boolean.to(humanString);\n    }\n    catch (e){}\n    return humanString;\n  }\n\n\n  // --\n  // A type schema was specified.\n\n  // If the type schema is expecting a simple string, boolean, or number, then...\n  if (expectedTypeSchema === 'string' || expectedTypeSchema === 'number' || expectedTypeSchema === 'boolean') {\n    // Run the string through RTTC loose validation. and send the result back.\n    // (if validation fails, an error will be thrown)\n    return validate(expectedTypeSchema, humanString);\n  }\n\n  // --\n  // If the type schema is expecting a simple lamda function, attempt to use hydrate.\n  // (but if `unsafeMode` is disabled, just return the string as-is)\n  if (expectedTypeSchema === 'lamda') {\n    if (!unsafeMode) { return humanString; }\n    return hydrate(humanString, expectedTypeSchema);\n  }\n\n  // --\n  // Otherwise, we'll assume this was entered as JSON and parse it first...\n  // ...and if we make it past that, then we'll validate (and potentially lightly coerce) the final result.\n  return validate(expectedTypeSchema, parse(humanString, expectedTypeSchema, unsafeMode));\n\n};\n","/**\n * Module dependencies\n */\n\nvar util = require('util');\nvar _ = require('@sailshq/lodash');\nvar hydrate = require('./hydrate');\n\n\n/**\n * A variation on JSON.parse that also takes care of a few additional\n * edge-cases including eval-ing stringified functions.\n *\n * TODO: if `typeSchema` is provided, also coerce the decoded value to match.\n *\n * @param  {String} value\n * @param  {*} typeSchema        - optionally provide `typeSchema` so that it can be used to improve the accuracy of the deserialized result (specifically it is necessary to eval lamda functions)\n * @param  {Boolean} unsafeMode  - enable to use `eval` to hydrate stringified functions based on `typeSchema` (this is not safe to use on user-provided input and so is disabled by default)\n * @return {*}\n */\nmodule.exports = function parse (value, typeSchema, unsafeMode) {\n\n  // `unsafeMode` is disabled by default\n  unsafeMode = unsafeMode || false;\n\n  if (!_.isString(value)) {\n    throw new Error('rttc.decode() expects a string value, but a '+typeof value+' was provided:'+util.inspect(value, false, null));\n  }\n  if (unsafeMode && _.isUndefined(typeSchema)) {\n    throw new Error('rttc.decode() cannot enable `unsafeMode` without also providing a `typeSchema`.');\n  }\n\n  var deserializedVal;\n\n  // Attempt to parse provided JSON-encoded value\n  try {\n    deserializedVal = JSON.parse(value);\n  }\n  catch (e) {\n    throw new Error('Could not JSON.parse() provided value: '+value);\n  }\n\n  // Deserialize any lamda functions that exist in the provided input value\n  // (but only in `unsafeMode`, and if `typeSchema` is provided)\n  //\n  // If this is a lamda type, or something which MIGHT contain a lamda type\n  // (i.e. nested array or dictionary type schema), we must recursively iterate over the\n  // type schema looking for lamda types, and when we find them, parse input values as\n  // stringified machine fn bodies, converting them to hydrated JavaScript functions.\n  if (unsafeMode) {\n    deserializedVal = hydrate(deserializedVal, typeSchema);\n  }\n\n  return deserializedVal;\n};\n","/**\n * Module dependencies\n */\n\nvar rebuildRecursive = require('./helpers/rebuild-recursive');\n\n\n/**\n * rebuild()\n *\n * Rebuild a potentially-recursively-deep value, running\n * the specified `handleLeafTransform` lifecycle callback\n * (aka transformer function) for every primitive (i.e. string,\n * number, boolean, null) and function.\n *\n * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n * @param {Anything} val\n *\n * @param {Function} handleLeafTransform        [run AFTER stringification of Errors, Dates, etc.]\n *        @param {Anything} leafVal\n *        @param {String} leafType [either 'string', 'number', 'boolean', 'null', or 'lamda']\n *        @return {Anything} [transformed version of `leafVal`]\n *\n * @param {Function} handleCompositeTransform   [run BEFORE recursion and stripping of undefined items/props]\n *        @param {Dictionary|Array} compositeVal\n *        @param {String} leafType [either 'array' or 'dictionary']\n *        @return {Dictionary|Array} [transformed version of `compositeVal`-- MUST BE A DICTONARY OR ARRAY THAT IS SAFE TO RECURSIVELY DIVE INTO!!!]\n *\n * @returns {JSONCompatible}\n * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n * Example usage:\n *\n * ```\n * rttc.rebuild({\n *   foo: [\n *     3,\n *     ['hey', 'yo', 235, {}]\n *   ]\n * },\n * function transformPrimitive(val, type){ return val;},\n * function transformDictOrArray(compositeThing, type) {\n *   if (type === 'array') { return compositeThing.slice(1); }\n *   else { return compositeThing; }\n * })\n *\n * // Yields:\n * // { foo: [ [ 'yo', 235, {} ] ] }\n * ```\n * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n */\nmodule.exports = function rebuild(val, handleLeafTransform, handleCompositeTransform){\n  return rebuildRecursive(val, handleLeafTransform, handleCompositeTransform);\n};\n","/**\n * Module dependencies\n */\n\nvar _ = require('@sailshq/lodash');\nvar buildSchemaIterator = require('./helpers/build-schema-iterator');\n\n\n/**\n * reify()\n *\n * Given an rttc type schema, strip out generics to convert it into\n * a more specific type which contains no \"ref\", \"json\", {}, or [] types.\n * In other words, this makes a type schema \"strict\", and the result of\n * this function always passes `rttc.isSpecific()`.\n *\n * @param  {*} typeSchema\n * @return {*}\n */\nmodule.exports = function reify (typeSchema) {\n\n  // Configure type schema iterator and use it to recursively\n  // collapse generic types.\n  var schemaIterator = buildSchemaIterator(\n    function onFacetDict(facetDictionary, parentKeyOrIndex, callRecursive){\n      var newFacetDict = _.reduce(facetDictionary, function (memo, val, key) {\n        var facet = callRecursive(val, key);\n        // Don't include collapsed sub-examples.\n        if (!_.isUndefined(facet)) {\n          memo[key] = facet;\n        }\n        return memo;\n      }, {});\n\n      // Just in case all of the properties were collapsed, don't inadvertently\n      // create another generic by returning an empty {}.\n      if (_.isEqual({}, newFacetDict)) {\n        return undefined;\n      }\n\n      return newFacetDict;\n    },\n    function onPatternArray(patternArray, parentKeyOrIndex, iterateRecursive){\n      var pattern = iterateRecursive(patternArray[0], 0);\n\n      // Don't include collapsed sub-examples.\n      if (_.isUndefined(pattern)) {\n        return undefined;\n      }\n      return [ pattern ];\n    },\n    function onGenericDict(schema, parentKeyOrIndex){\n      return undefined;\n    },\n    function onGenericArray(schema, parentKeyOrIndex){\n      return undefined;\n    },\n    function onOther(schema, parentKeyOrIndex){\n      if (schema === 'json') {\n        return undefined;\n      }\n      if (schema === 'ref') {\n        return undefined;\n      }\n      return schema;\n    }\n  );\n\n  // Run the iterator to get the reified type schema.\n  return schemaIterator(typeSchema);\n\n};\n\n\n","/**\n * Module dependencies\n */\n\nvar _ = require('@sailshq/lodash');\nvar typeInfo = require('./type-info');\nvar coerce = require('./coerce');\nvar dehydrate = require('./dehydrate');\nvar isEqual = require('./is-equal');\nvar buildSchemaIterator = require('./helpers/build-schema-iterator');\n\n\n/**\n * Given a type schema, return an array of up to `n` sample values for it, in random order.\n *\n * @param  {String} typeSchema\n * @param  {Number} n  (defaults to 2)\n * @return {[===]}\n */\nmodule.exports = function sample (typeSchema, n) {\n\n  // Default `n` to 2\n  n = _.isUndefined(n) ? 2 : n;\n\n  // Validate `n`\n  if (n < 1 || !_.isNumber(n)) {\n    throw new Error('rttc.sample() expects `n` (2nd argument) to be a number >= 1 indicating the number of sample values to generate.');\n  }\n\n  // Dehydrate the type schema to avoid circular recursion\n  var dehydratedTypeSchema = dehydrate(typeSchema);\n\n  // Configure type schema iterator\n  var generateSampleVal = buildSchemaIterator(\n    function onFacetDict(facetDictionary, parentKeyOrIndex, callRecursive){\n      return _.reduce(facetDictionary, function (memo, val, key) {\n        var facet = callRecursive(val, key);\n        memo[key] = facet;\n        return memo;\n      }, {});\n    },\n    function onPatternArray(patternArray, parentKeyOrIndex, iterateRecursive){\n      var pattern = iterateRecursive(patternArray[0], 0);\n      return [ pattern ];\n    },\n    function onGenericDict(schema, parentKeyOrIndex){\n      return {};\n    },\n    function onGenericArray(schema, parentKeyOrIndex){\n      return [];\n    },\n    function onOther(schema, parentKeyOrIndex){\n      // Pick a random example\n      var example = _.sample(typeInfo(schema).getExamples());\n      return example;\n    }\n  );\n\n  // Generate some (unique) sample values\n  var samples = _.reduce(_.range(n), function (samplesSoFar, i) {\n    var newSample = generateSampleVal(dehydratedTypeSchema);\n    var isUnique = _.reduce(samplesSoFar, function checkUniqueness(isUnique, existingSample){\n      return isUnique && !isEqual(existingSample, newSample, typeSchema);\n    }, true);\n    if (isUnique) {\n      samplesSoFar.push(newSample);\n    }\n    return samplesSoFar;\n  }, []);\n\n  // Scramble them and return.\n  return _.shuffle(samples);\n};\n\n\n","/**\n * Module dependencies\n */\n\nvar _ = require('@sailshq/lodash');\nvar dehydrate = require('./dehydrate');\nvar stringify = require('./stringify');\nvar validateStrict = require('./validate-strict');\nvar coerce = require('./coerce');\nvar isEqual = require('./is-equal');\n\n\n\n/**\n * Given a value and expectedTypeSchema, return a string that could be passed\n * to `.parseHuman()` along with the same expectedTypeSchema to get the same value.\n * (think of this as the inverse to `.parseHuman()`)\n *\n * This function also strictly validates value against `expectedTypeSchema`, and ensures\n * that the process is reversible w/ parseHuman (if it is not, this function throws)\n *\n * @param  {===} value\n * @param  {*} expectedTypeSchema\n * @return {String}\n */\nmodule.exports = function stringifyHuman (value, expectedTypeSchema) {\n\n  if (!expectedTypeSchema) {\n    throw new Error('rttc.stringifyHuman() requires `expectedTypeSchema` as a second argument');\n  }\n\n  // Validate that the value matches the provided type schema.\n  try {\n    validateStrict(expectedTypeSchema, value);\n  }\n  catch (e) {\n    throw new Error('rttc.stringifyHuman() failed: the provided value does not match the expected type schema.\\nDetails:\\n'+e.stack);\n  }\n\n  // Note that we always \"allowNull\" below -- that's ok because we already did a strict validation check above.\n\n  // Double-check that the value can be stringified (i.e. that the dehydrated value is equivalent\n  // to the original value)\n  // This ensures there are no getters or crazy stuff like that, and that the original value can\n  // actually be \"reclaimed\" from the string we're creating now w/ `parseHuman()`.\n  // (this also ensures we clone the original value before doing anything weird)\n  var dehydratedValue = dehydrate(value, true);\n  if (!isEqual(dehydratedValue, value, expectedTypeSchema)) {\n    throw new Error('rttc.stringifyHuman() failed: the provided value cannot be safely stringified in a reversible way.');\n  }\n\n  // For facet/pattern types, rttc.stringify the value and return it.\n  // (b/c the user would need to enter valid JSON)\n  if (_.isObject(expectedTypeSchema) && !_.isEqual(expectedTypeSchema, {}) && !_.isEqual(expectedTypeSchema, [])) {\n    return stringify(dehydratedValue, true);\n  }\n  // For primitive types and lamdas, return the dehydrated value, simply coerced to a string.\n  else if (expectedTypeSchema === 'lamda' || expectedTypeSchema === 'string' || expectedTypeSchema === 'number' || expectedTypeSchema === 'boolean') {\n    return coerce('string', dehydratedValue);\n  }\n  // Otherwise, for generics, rttc.stringify the value and return it.\n  else {\n    // Only allow null if this is `json` or `ref`\n    if (expectedTypeSchema === 'ref' || expectedTypeSchema === 'json') {\n      return stringify(dehydratedValue, true);\n    }\n    return stringify(dehydratedValue, true);\n  }\n};\n","/**\n * Module dependencies\n */\n\nvar _ = require('@sailshq/lodash');\nvar rebuildSanitized = require('./helpers/sanitize');\n\n\n/**\n * A variation on JSON.stringify that also takes care of a few additional\n * edge-cases like:\n *    stringifying functions, dates, regexps, and errors, as well\n *    taking care of circular references\n *    normalizing -Infinity, Infinity, and NaN (to 0)\n *    stripping undefined (and potentially null) keys and values. If `allowNull` is set, `null` values will not be stripped from the encoded string.\n *\n * @param  {===} value\n * @param  {Boolean} allowNull\n * @return {String}\n */\nmodule.exports = function stringify (value, allowNull) {\n  // TODO: optimize\n  return JSON.stringify(rebuildSanitized(value,allowNull));\n};\n","/**\n * Module dependencies\n */\n\nvar _ = require('@sailshq/lodash');\nvar types = require('./helpers/types');\nvar getDisplayType = require('./get-display-type');\n\n\n\n/**\n * Given a type string or type schema, return an object containing more\n * information about it.\n * Useful for error messages, user interfaces, etc.\n *\n * The recognized types are identical to those of `infer()`, but instead\n * of returning a type schema, this function returns an object containing\n * more information about whatever the top-level type is.\n *\n * @param  {String} type\n * @return {Object}\n */\nmodule.exports = function typeInfo(type){\n\n  if (_.isArray(type)) {\n    return _.cloneDeep(types.array);\n  }\n  if (_.isObject(type)) {\n    if (getDisplayType(type) === 'dictionary') {\n      return _.cloneDeep(types.dictionary);\n    }\n  }\n  if (_.isString(type) && types[type]) {\n    return _.cloneDeep(types[type]);\n  }\n  throw new Error('Unknown type: \"'+type+'\"');\n\n};\n","/**\n * Module dependencies\n */\n\n\nvar _ = require('@sailshq/lodash');\nvar buildTwoHeadedSchemaCursor = require('./helpers/build-two-headed-schema-cursor');\nvar TYPES = require('./helpers/types');\nvar infer = require('./infer');\nvar getDefaultExemplar = require('./get-default-exemplar');\n\n\n\n/**\n * union()\n *\n * Given two rttc schemas, return the most specific schema that\n * would accept the superset of what both schemas accept normally.\n *\n *\n * @param  {*} schema0\n * @param  {*} schema1\n * @param  {boolean} isExemplar - if set, the schemas will be treated as exemplars (rather than type schemas)\n * @param  {boolean} isStrict - if set, the schemas will be unioned using strict validation rules.\n * @return {*}\n */\n\nmodule.exports = function union (schema0, schema1, isExemplar, isStrict) {\n\n  /*\n    // Type union: (using strict validation rules)\n\n    (plan is to not worry about supporting uncertainty at the moment)\n\n    // Special cases:\n    // inside a generic dictionary keypath: act like 'json'\n    // inside a generic array keypath: act like 'json'\n    // inside a JSON keypath: act like 'json'\n    // inside a ref keypath: act like 'ref'\n    // inside any other keypath: not possible, that's an error (will be caught during stabilization, so we can ignore)\n\n    // Types always union with themselves, with an identity result.\n    'string'    'string'          <====> 'string'\n    'number'    'number'          <====> 'number'\n    'boolean'    'boolean'        <====> 'boolean'\n    'lamda'    'lamda'            <====> 'lamda'\n    {}    {}                      <====> {}\n    []    []                      <====> []\n    'json'    'json'              <====> 'json'\n    'ref'    'ref'                <====> 'ref'\n\n    // Every type unions with \"ref\", resulting in \"ref\"\n    (anything)     'ref'          <====> 'ref'\n\n    // Every type but \"lamda\" unions with \"lamda\", resulting in \"ref\"\n    'lamda'      (anything else)       <====> 'ref'\n\n    // Every type except \"ref\" and \"lamda\" unions with \"json\", resulting in \"json\"\n    (anything else)   'json'           <====> 'json'\n\n    // Primitive types union with most things to result in \"json\"\n    'string'      'number'        <====> 'json'\n    'string'      'boolean'       <====> 'json'\n    'string'      'lamda'         <====> 'json'\n    'string'      (any dictionary)    <====> 'json'\n    'string'      (any array)    <====> 'json'\n\n    'number'      'string'        <====> 'json'\n    'number'      'boolean'       <====> 'json'\n    'number'      'lamda'         <====> 'json'\n    'number'      (any dictionary)    <====> 'json'\n    'number'      (any array)    <====> 'json'\n\n    'boolean'      'number'        <====> 'json'\n    'boolean'      'string'       <====> 'json'\n    'boolean'      'lamda'         <====> 'json'\n    'boolean'      (any dictionary)    <====> 'json'\n    'boolean'      (any array)    <====> 'json'\n\n    // Faceted dictionaries union w/ generic dictionaries to result in generic dictionaries.\n    {'a': 'boolean'}   {}           <====> {}\n\n    // Faceted dictionaries union w/ each other, recursively unioning their child properties.\n    // If a key is missing, the result will be a generic dictionary.\n    {'a': 'boolean'}   {'a':'string'}           <====> {'a': 'json'}\n    {'a': 'lamda'}     {'a':'string'}           <====> {'a': 'ref'}\n    {'a': 'boolean'}   {'b':'string'}           <====> {}\n\n\n    // Patterned arrays union w/ generic arrays to result in generic arrays.\n    [{'a': 'boolean'}]   []           <====> []\n\n    // Patterned arrays union w/ each other, recursively unioning their patterns.\n    ['string']   ['number']            <====> ['json']\n    ['lamda']   ['boolean']            <====> ['ref']\n    [[]]   ['number']            <====> ['json']\n    [[[]]]   ['number']            <====> ['json']\n    [[[]]]   [['number']]            <====> [['json']]\n    [{a:'boolean'}]   [{a:'string'}]           <====> [{'a': 'json'}]\n    [{a:'boolean'}]   [{b:'string'}]           <====> [{}]\n    [{a:'boolean'}]   [[{b:'string'}]]         <====> ['json']\n\n\n    // Exceptions when NOT using strict validation:\n    'number'      'string'        <====> 'string'\n    'boolean'      'string'       <====> 'string'\n    'number'      'boolean'       <====> 'number'\n\n   */\n\n  // exemplar-vs-type-schema-agnostic type check helper\n  function thisSchema(schema){\n    return {\n      is: function (){\n        var acceptableTypes = Array.prototype.slice.call(arguments);\n        if (!isExemplar) {\n          return _.contains(acceptableTypes, schema);\n        }\n        return _.any(acceptableTypes, function (typeName){\n          return TYPES[typeName].isExemplar(schema);\n        });\n      },\n\n      containsType: function (){\n        var searchingForTypes = Array.prototype.slice.call(arguments);\n        return _.any(searchingForTypes, function (typeName){\n          if (!_.isObject(schema)) {\n            return false;\n          }\n          if (_.isArray(schema)) {\n            if (schema.length > 0) {\n              return false;\n            }\n            if (!_.isObject(schema[0])) {\n              return thisSchema(schema[0]).is(typeName);\n            }\n            return thisSchema(schema[0]).containsType(typeName);\n          }\n          return _.reduce(schema, function (memo, value, key) {\n            if (!_.isObject(value)) {\n              return memo || thisSchema(value).is(typeName);\n            }\n            return memo || thisSchema(value).containsType(typeName);\n          }, false);\n        });\n      }\n    };\n  }\n  // exemplar-vs-type-schema-agnostic helper for building return values\n  function normalizeResult(type){\n    if (!isExemplar) {\n      return type;\n    }\n    return getDefaultExemplar(type);\n  }\n\n\n\n  // Configure two-headed type schema cursor and use it to recursively\n  // determine the type schema union.\n  var twoHeadedCursor = buildTwoHeadedSchemaCursor(\n\n    // If we pass in `false` as the first argument, it indicates we're traversing\n    // type schemas rather than exemplars. If `true`, then it's the other way around.\n    !!isExemplar,\n\n    function onFacetDict(schema0, schema1, parentKeyOrIndex, iterateRecursive){\n      if ( thisSchema(schema1).is('ref', 'lamda') ) {\n        return normalizeResult('ref');\n      }\n      if (_.isArray(schema1) || !_.isObject(schema1)) {\n        // If `schema1` is a faceted dictionary or patterned array which contains\n        // sub-values of type:` ref` (===) or `lamda` (->), then we must make the\n        // result a `ref` (===).\n        if (thisSchema(schema1).containsType('ref', 'lamda')) {\n          return normalizeResult('ref');\n        }\n        return normalizeResult('json');\n      }\n\n      var sharedKeys = _.intersection(_.keys(schema0), _.keys(schema1));\n\n      // If there are any keys that don't exist in BOTH schemas, we'll just return\n      // a generic type (ref or {}) as the union.  This way coercing a value to the\n      // unioned schema will never result in data loss (i.e. stripped keys).\n      var xorKeys = _.difference(_.union(_.keys(schema0), _.keys(schema1)), sharedKeys);\n      if (xorKeys.length > 0) {\n        // If either schema is a faceted dictionary or patterned array which contains\n        // sub-values of type:` ref` (===) or `lamda` (->), then we must make the\n        // result a `ref` (===).\n        if (thisSchema(schema1).containsType('ref', 'lamda') || thisSchema(schema0).containsType('ref', 'lamda')) {\n          return normalizeResult('ref');\n        }\n        return {};\n      }\n      return _.reduce(sharedKeys, function (memo, key) {\n        memo[key] = iterateRecursive(key);\n        return memo;\n      }, {});\n    },\n    function onPatternArray(schema0, schema1, parentKeyOrIndex, iterateRecursive){\n      if ( thisSchema(schema1).is('ref', 'lamda') ) {\n        return normalizeResult('ref');\n      }\n      if (!_.isArray(schema1)) {\n        // If `schema1` is a faceted dictionary or patterned array which contains\n        // sub-values of type:` ref` (===) or `lamda` (->), then we must make the\n        // result a `ref` (===).\n        if (thisSchema(schema1).containsType('ref', 'lamda')) {\n          return normalizeResult('ref');\n        }\n        return normalizeResult('json');\n      }\n      if (_.isEqual(schema1, [])) {\n        return [];\n      }\n      return [ iterateRecursive(0) ];\n    },\n    function onGenericDict(schema0, schema1, parentKeyOrIndex){\n      if ( thisSchema(schema1).is('ref', 'lamda') ) {\n        return normalizeResult('ref');\n      }\n      // If `schema1` is a faceted dictionary or patterned array which contains\n      // sub-values of type:` ref` (===) or `lamda` (->), then we must make the\n      // result a `ref` (===).\n      if (thisSchema(schema1).containsType('ref', 'lamda')) {\n        return normalizeResult('ref');\n      }\n      if (!_.isArray(schema1) && _.isObject(schema1)) {\n        return {};\n      }\n      return normalizeResult('json');\n    },\n    function onGenericArray(schema0, schema1, parentKeyOrIndex){\n      if ( thisSchema(schema1).is('ref', 'lamda') ) {\n        return normalizeResult('ref');\n      }\n      // If `schema1` is a faceted dictionary or patterned array which contains\n      // sub-values of type:` ref` (===) or `lamda` (->), then we must make the\n      // result a `ref` (===).\n      if (thisSchema(schema1).containsType('ref', 'lamda')) {\n        return normalizeResult('ref');\n      }\n      if (_.isArray(schema1)) {\n        return [];\n      }\n      return normalizeResult('json');\n    },\n    function onJson(schema0, schema1, parentKeyOrIndex) {\n      if ( thisSchema(schema1).is('ref', 'lamda') ) {\n        return normalizeResult('ref');\n      }\n      // If `schema1` is a faceted dictionary or patterned array which contains\n      // sub-values of type:` ref` (===) or `lamda` (->), then we must make the\n      // result a `ref` (===).\n      if (thisSchema(schema1).containsType('ref', 'lamda')) {\n        return normalizeResult('ref');\n      }\n      return normalizeResult('json');\n    },\n    function onRef(schema0, schema1, parentKeyOrIndex) {\n      return normalizeResult('ref');\n    },\n    function onLamda(schema0, schema1, parentKeyOrIndex) {\n      if ( thisSchema(schema1).is('lamda') ) {\n        return normalizeResult('lamda');\n      }\n      return normalizeResult('ref');\n    },\n    function onString(schema0, schema1, parentKeyOrIndex) {\n      if ( thisSchema(schema1).is('string') ) {\n        return schema1;\n      }\n      // If `schema1` is a faceted dictionary or patterned array which contains\n      // sub-values of type:` ref` (===) or `lamda` (->), then we must make the\n      // result a `ref` (===).\n      if (thisSchema(schema1).containsType('ref', 'lamda')) {\n        return normalizeResult('ref');\n      }\n      if (!isStrict){\n        if ( thisSchema(schema1).is('number', 'boolean') ) {\n          return schema0;\n        }\n      }\n      if (\n        thisSchema(schema1).is('number', 'boolean', 'json') ||\n        _.isArray(schema1) ||\n        _.isObject(schema1)\n        ) {\n        return normalizeResult('json');\n      }\n\n      return normalizeResult('ref');\n    },\n    function onNumber(schema0, schema1, parentKeyOrIndex) {\n      if ( thisSchema(schema1).is('number') ) {\n        return schema1;\n      }\n      // If `schema1` is a faceted dictionary or patterned array which contains\n      // sub-values of type:` ref` (===) or `lamda` (->), then we must make the\n      // result a `ref` (===).\n      if (thisSchema(schema1).containsType('ref', 'lamda')) {\n        return normalizeResult('ref');\n      }\n      if (!isStrict){\n        if ( thisSchema(schema1).is('string') ) {\n          return schema1;\n        }\n        if ( thisSchema(schema1).is('boolean') ) {\n          return schema0;\n        }\n      }\n      if (\n        thisSchema(schema1).is('string', 'boolean', 'json') ||\n        _.isArray(schema1) ||\n        _.isObject(schema1)\n        ) {\n        return normalizeResult('json');\n      }\n      return normalizeResult('ref');\n    },\n    function onBoolean(schema0, schema1, parentKeyOrIndex) {\n      if ( thisSchema(schema1).is('boolean') ) {\n        return schema1;\n      }\n      // If `schema1` is a faceted dictionary or patterned array which contains\n      // sub-values of type:` ref` (===) or `lamda` (->), then we must make the\n      // result a `ref` (===).\n      if (thisSchema(schema1).containsType('ref', 'lamda')) {\n        return normalizeResult('ref');\n      }\n\n      if (!isStrict){\n        if ( thisSchema(schema1).is('string', 'number') ) {\n          return schema1;\n        }\n      }\n\n      if (\n        thisSchema(schema1).is('number', 'string', 'json') ||\n        _.isArray(schema1) ||\n        _.isObject(schema1)\n        ) {\n        return normalizeResult('json');\n      }\n      return normalizeResult('ref');\n    }\n  );\n\n  // Run the iterator to get the schema union.\n  var result = twoHeadedCursor(schema0, schema1);\n\n  // This makes sure the resulting exemplar won't be `undefined`.\n  if (isExemplar) {\n    if (_.isUndefined(result)) {\n      return TYPES.ref.getExemplar();\n    }\n  }\n\n  return result;\n};\n\n","/**\n * Module dependencies\n */\n\nvar _ = require('@sailshq/lodash');\nvar rebuild = require('./rebuild');\n\n\n/**\n * validateExemplarStrict()\n *\n * Check the specified value (`supposedExemplar`) and ensure it is\n * a pure RTTC exemplar. If not, throw an error.\n * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n * @param  {Anything} supposedExemplar\n *         The supposed exemplar to validate.\n *\n * @param  {Boolean} prohibitEmptyArrays\n *         If enabled, if the supposed exemplar contains any empty arrays (`[]`),\n *         then an error will be thrown (nested or at the top level).  Otherwise,\n *         (and by default) `rttc.validateExemplarStrict()` tolerates the presence\n *         of `[]`, since most RTTC/machine tooling supports that notation by\n *         understanding it as `['*']`, purely for backwards compatibility.\n *         @default false\n *\n * @throws {Error} If the provided `supposedExemplar` is not a pure RTTC exemplar.\n *         @property {String} code\n *                   This error is intentionally thrown, and always has a `code`\n *                   property of `E_INVALID_EXEMPLAR`.\n *\n * @throws {Error} If the `prohibitEmptyArrays` flag was enabled, and the provided\n *                 `supposedExemplar` contains any empty arrays (nested or at the\n *                 top level).\n *         @property {String} code\n *                   This error is intentionally thrown, and always has a `code`\n *                   property of `E_DEPRECATED_SYNTAX`.\n * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n * Example usage:\n *\n * ```\n * > x\n *    => { foo: 23, bar: 8, baz: { yeah: 'cool!', what: [Circular] } }\n *\n * > rttc.validateExemplarStrict([{a:'Whee', b: 9, c: x}])\n *    => Error: Invalid exemplar: Only strictly JSON-serializable values can qualify to be RTTC exemplars.\n *         at Object.validateExemplarStrict (/Users/mikermcneil/code/rttc/lib/validate-exemplar-strict.js:47:11)\n * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n */\nmodule.exports = function validateExemplarStrict (supposedExemplar, prohibitEmptyArrays) {\n\n  // Used below.\n  var err;\n\n  // Check for obvious bad news.\n  if (_.isUndefined(supposedExemplar)) {\n    err = new Error('Invalid exemplar: `undefined` is not a valid RTTC exemplar.');\n    err.code = 'E_INVALID_EXEMPLAR';\n    throw err;\n  }\n  if (_.isNull(supposedExemplar)) {\n    err = new Error('Invalid exemplar: `null` is not a valid RTTC exemplar.');\n    err.code = 'E_INVALID_EXEMPLAR';\n    throw err;\n  }\n  if (prohibitEmptyArrays && _.isEqual(supposedExemplar, [])) {\n    err = new Error('Invalid exemplar: Empty arrays (`[]`) are not allowed in this RTTC exemplar at any depth. (This error was thrown because `rttc.validateExemplarStrict()` with the `prohibitEmptyArrays` flag enabled.  Otherwise, any occurences of `[]` would have been understood as `[\\'*\\']`.)');\n    err.code = 'E_DEPRECATED_SYNTAX';\n    throw err;\n  }\n\n  // Check for nested nulls, and ensure serializability while we're at it.\n  var rebuiltExemplar = rebuild(\n\n    supposedExemplar,\n\n    function transformPrimitive (val){\n      if (_.isNull(val)) {\n        err = new Error('Invalid exemplar: Nested `null`s are not allowed in an RTTC exemplar.');\n        err.code = 'E_INVALID_EXEMPLAR';\n        throw err;\n      }\n      return val;\n    },\n\n    function transformDictOrArray(val, type) {\n      if (type === 'array' && val.length === 0 && prohibitEmptyArrays) {\n        err = new Error('Invalid exemplar: Empty arrays (`[]`) are not allowed in this RTTC exemplar at any depth. (This error was thrown because `rttc.validateExemplarStrict()` with the `prohibitEmptyArrays` flag enabled.  Otherwise, any occurences of `[]` would have been understood as `[\\'*\\']`.)');\n        err.code = 'E_DEPRECATED_SYNTAX';\n        throw err;\n      }\n      else if (type === 'array' && val.length > 1) {\n        err = new Error('Invalid exemplar: Multi-item arrays (at any depth) are not allowed in an RTTC exemplar.');\n        err.code = 'E_INVALID_EXEMPLAR';\n        throw err;\n      }\n      else { return val; }\n    }\n\n  );\n\n  // Rebuilding the exemplar should have caused it not to change.\n  // (if it did, it means it was circular, or that it contained things that\n  //  could not be losslessly serialized to JSON and back again)\n  if (!_.isEqual(supposedExemplar, rebuiltExemplar)) {\n    err = new Error('Invalid exemplar: Only strictly JSON-serializable values can qualify to be RTTC exemplars.');\n    err.code = 'E_INVALID_EXEMPLAR';\n    throw err;\n  }\n\n};\n","/**\n * Module dependencies\n */\n\nvar validateRecursive = require('./helpers/validate-recursive');\nvar consolidateErrors = require('./helpers/consolidate-errors');\n\n/**\n * Like `validate()`, but doesn't tolerate and coerce minor\n * type incompatibilities such as '1'=>1, 'true'=>true, etc.\n *\n * @param  {~Schema} expected   type schema\n * @param  {===} actual           \"mystery meat\"\n */\nmodule.exports = function validateStrict (expected, actual) {\n\n  var errors = [];\n  validateRecursive(expected, actual, errors, [], true);\n  // ( `true` => `strict` -- i.e. don't ignore minor type errors)\n\n  // If there are still errors, coallesce the remaining list of errors into a single\n  // Error object we can throw.\n  var err = consolidateErrors(errors, 'validating value');\n  if (err) {\n    throw err;\n  }\n};\n\n\n","/**\n * Module dependencies\n */\n\nvar validateRecursive = require('./helpers/validate-recursive');\nvar consolidateErrors = require('./helpers/consolidate-errors');\n\n\n/**\n * Validate a bit of mystery meat (`actual`) against an `expected` type schema,\n * saving up any fatal errors and throwing them in a lump, and otherwise\n * returning the value that was accepted (i.e. because some coercion might have\n * occurred)\n *\n * @param  {~Schema} expected   type schema\n * @param  {===} actual           \"mystery meat\"\n * @return {<expected>}\n */\nmodule.exports = function validate (expected, actual) {\n\n  var errors = [];\n  var result = validateRecursive(expected, actual, errors, [], false);\n  // ( `false` => `strict` -- i.e. ignore minor type errors)\n\n  // If there are still errors, coallesce the remaining list of errors into a single\n  // Error object we can throw.\n  var err = consolidateErrors(errors, 'validating value');\n  if (err) {\n    throw err;\n  } else {\n    return result;\n  }\n};\n\n\n","/**\n * Module dependencies\n */\n\nvar rc = require('../lib/app/configuration/rc');\n\n\n/**\n * require('sails/accessible/rc')\n *\n * A direct reference to Sails' built-in `rc` dependency.\n *\n * > This should not be modified.\n * > It's job is to eliminate the need for an extra `rc` dep. in userland\n * > just to load cmdline config in app.js.\n *\n * @type {Ref}\n */\nmodule.exports = rc;\n","/**\n * Module dependencies\n */\n\nvar _ = require('@sailshq/lodash');\nvar minimist = require('minimist');\nvar rc = require('rc');\nvar rttc = require('rttc');\n\n\n/**\n * Load configuration from .rc files and env vars\n * @param  {String} namespace [namespace to look for env vars under (defaults to `sails`)]\n * @return {Dictionary} A dictionary of config values gathered from .rc files, with env vars and command line options merged on top\n */\n\nmodule.exports = function(namespace) {\n\n  // Default namespace to `sails`.\n  namespace = namespace || 'sails';\n\n  // Locate and load .rc files if they exist.\n  var conf = rc(namespace);\n\n  // Load in overrides from the environment, using `rttc.parseHuman` to\n  // guesstimate the types.\n  // NOTE -- the code below is lifted from the `rc` module, and modified to:\n  //  1. Pass JSHint\n  //  2. Run `parseHuman` on values\n  // If at some point `rc` exposes metadata about which configs came from\n  // the environment, we can simplify our code by just running `parseHuman`\n  // on those values instead of doing the work to pluck them from the env.\n\n  // Construct the expected env var prefix from the namespace.\n  var prefix = namespace + '_';\n\n  // Cache the prefix length so we don't have to keep looking it up.\n  var l = prefix.length;\n\n  // Loop through the env vars, looking for ones with the right prefix.\n  _.each(process.env, function(val, key) {\n\n    // If this var's name has the right prefix...\n    if((key.indexOf(prefix)) === 0) {\n\n      // Replace double-underscores with dots, to work with Lodash _.set().\n      var keypath = key.substring(l).replace(/__/g,'.');\n\n      // Attempt to parse the value as JSON.\n      try {\n        val = rttc.parseHuman(val, 'json');\n      }\n      // If that doesn't work, humanize the value without providing a schema.\n      catch(unusedErr) {\n        val = rttc.parseHuman(val);\n      }\n\n      // Override the current value at this keypath in `conf` (which currently contains\n      // the string value of the env var) with the now (possibly) humanized value.\n      _.set(conf, keypath, val);\n\n    }\n\n  });\n\n  // Load command line arguments, since they need to take precedence over env.\n  var argv = minimist(process.argv.slice(2));\n\n  // Merge the command line arguments back on top.  Minimist allows nested config (i.e. --log.level=silly),\n  // hence the _.merge().\n  conf = _.merge(conf, argv);\n\n  return conf;\n\n};\n","'use strict';\nvar singleComment = 1;\nvar multiComment = 2;\n\nfunction stripWithoutWhitespace() {\n\treturn '';\n}\n\nfunction stripWithWhitespace(str, start, end) {\n\treturn str.slice(start, end).replace(/\\S/g, ' ');\n}\n\nmodule.exports = function (str, opts) {\n\topts = opts || {};\n\n\tvar currentChar;\n\tvar nextChar;\n\tvar insideString = false;\n\tvar insideComment = false;\n\tvar offset = 0;\n\tvar ret = '';\n\tvar strip = opts.whitespace === false ? stripWithoutWhitespace : stripWithWhitespace;\n\n\tfor (var i = 0; i < str.length; i++) {\n\t\tcurrentChar = str[i];\n\t\tnextChar = str[i + 1];\n\n\t\tif (!insideComment && currentChar === '\"') {\n\t\t\tvar escaped = str[i - 1] === '\\\\' && str[i - 2] !== '\\\\';\n\t\t\tif (!escaped) {\n\t\t\t\tinsideString = !insideString;\n\t\t\t}\n\t\t}\n\n\t\tif (insideString) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (!insideComment && currentChar + nextChar === '//') {\n\t\t\tret += str.slice(offset, i);\n\t\t\toffset = i;\n\t\t\tinsideComment = singleComment;\n\t\t\ti++;\n\t\t} else if (insideComment === singleComment && currentChar + nextChar === '\\r\\n') {\n\t\t\ti++;\n\t\t\tinsideComment = false;\n\t\t\tret += strip(str, offset, i);\n\t\t\toffset = i;\n\t\t\tcontinue;\n\t\t} else if (insideComment === singleComment && currentChar === '\\n') {\n\t\t\tinsideComment = false;\n\t\t\tret += strip(str, offset, i);\n\t\t\toffset = i;\n\t\t} else if (!insideComment && currentChar + nextChar === '/*') {\n\t\t\tret += str.slice(offset, i);\n\t\t\toffset = i;\n\t\t\tinsideComment = multiComment;\n\t\t\ti++;\n\t\t\tcontinue;\n\t\t} else if (insideComment === multiComment && currentChar + nextChar === '*/') {\n\t\t\ti++;\n\t\t\tinsideComment = false;\n\t\t\tret += strip(str, offset, i + 1);\n\t\t\toffset = i + 1;\n\t\t\tcontinue;\n\t\t}\n\t}\n\n\treturn ret + (insideComment ? strip(str.substr(offset)) : str.substr(offset));\n};\n","/**\n * app.js\n *\n * Use `app.js` to run your app without `sails lift`.\n * To start the server, run: `node app.js`.\n *\n * This is handy in situations where the sails CLI is not relevant or useful,\n * such as when you deploy to a server, or a PaaS like Heroku.\n *\n * For example:\n *   => `node app.js`\n *   => `npm start`\n *   => `forever start app.js`\n *   => `node debug app.js`\n *\n * The same command-line arguments and env vars are supported, e.g.:\n * `NODE_ENV=production node app.js --port=80 --verbose`\n *\n * For more information see:\n *   https://sailsjs.com/anatomy/app.js\n */\n\n// Ensure we're in the project directory, so cwd-relative paths work as expected\n// no matter where we actually lift from.\n// > Note: This is not required in order to lift, but it is a convenient default.\nprocess.chdir(__dirname)\n\n// Attempt to import `sails` dependency, as well as `rc` (for loading `.sailsrc` files).\nvar sails\nvar rc\ntry {\n  sails = require('sails')\n  rc = require('sails/accessible/rc')\n} catch (err) {\n  console.error(\"Encountered an error when attempting to require('sails'):\")\n  console.error(err.stack)\n  console.error('--')\n  console.error(\n    'To run an app using `node app.js`, you need to have Sails installed'\n  )\n  console.error(\n    \"locally (`./node_modules/sails`).  To do that, just make sure you're\"\n  )\n  console.error('in the same directory as your app and run `npm install`.')\n  console.error()\n  console.error(\n    'If Sails is installed globally (i.e. `npm install -g sails`) you can'\n  )\n  console.error(\n    'also run this app with `sails lift`.  Running with `sails lift` will'\n  )\n  console.error(\n    'not run this file (`app.js`), but it will do exactly the same thing.'\n  )\n  console.error(\n    \"(It even uses your app directory's local Sails install, if possible.)\"\n  )\n  return\n} //-\n\n// Start server\nsails.lift(rc('sails'))\n"],"names":["undefined","VERSION","BIND_FLAG","BIND_KEY_FLAG","CURRY_BOUND_FLAG","CURRY_FLAG","CURRY_RIGHT_FLAG","PARTIAL_FLAG","PARTIAL_RIGHT_FLAG","ARY_FLAG","REARG_FLAG","DEFAULT_TRUNC_LENGTH","DEFAULT_TRUNC_OMISSION","HOT_COUNT","HOT_SPAN","LARGE_ARRAY_SIZE","LAZY_FILTER_FLAG","LAZY_MAP_FLAG","FUNC_ERROR_TEXT","PLACEHOLDER","argsTag","arrayTag","asyncTag","genTag","proxyTag","boolTag","dateTag","errorTag","funcTag","mapTag","numberTag","objectTag","regexpTag","setTag","stringTag","weakMapTag","arrayBufferTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","reEmptyStringLeading","reEmptyStringMiddle","reEmptyStringTrailing","reEscapedHtml","reUnescapedHtml","reHasEscapedHtml","RegExp","source","reHasUnescapedHtml","reEscape","reEvaluate","reInterpolate","reIsDeepProp","reIsPlainProp","rePropName","reRegExpChars","reHasRegExpChars","reComboMark","reEscapeChar","reEsTemplate","reFlags","reHasHexPrefix","reIsHostCtor","reIsUint","reLatin1","reNoMatch","reUnescapedString","reWords","upper","lower","contextProps","shadowProps","templateCounter","typedArrayTags","cloneableTags","deburredLetters","htmlEscapes","htmlUnescapes","objectTypes","regexpEscapes","stringEscapes","freeExports","exports","nodeType","freeModule","module","freeGlobal","global","Object","freeSelf","self","freeWindow","window","moduleExports","root","baseCompareAscending","value","other","valIsNull","valIsUndef","valIsReflexive","othIsNull","othIsUndef","othIsReflexive","baseFindIndex","array","predicate","fromRight","length","index","baseIndexOf","fromIndex","indexOfNaN","baseIsFunction","baseToString","charsLeftIndex","string","chars","indexOf","charAt","charsRightIndex","compareAscending","object","criteria","compareMultiple","orders","objCriteria","othCriteria","ordersLength","result","order","deburrLetter","letter","escapeHtmlChar","chr","escapeRegExpChar","leadingChar","whitespaceChar","escapeStringChar","isHostObject","toString","isObjectLike","isSpace","charCode","replaceHolders","placeholder","resIndex","safeGet","key","sortedUniq","iteratee","seen","computed","trimmedLeftIndex","charCodeAt","trimmedRightIndex","unescapeHtmlChar","runInContext","context","Array","_","defaults","pick","Date","Error","Function","Math","Number","String","TypeError","arrayProto","prototype","errorProto","objectProto","stringProto","fnToString","hasOwnProperty","idCounter","objToString","oldDash","reIsNative","call","replace","ArrayBuffer","clearTimeout","parseFloat","pow","propertyIsEnumerable","Set","getNative","setTimeout","splice","Uint8Array","WeakMap","nativeCeil","ceil","nativeCreate","nativeFloor","floor","nativeIsArray","nativeIsFinite","isFinite","nativeKeys","nativeMax","max","nativeMin","min","nativeNow","nativeParseInt","parseInt","nativeRandom","random","NEGATIVE_INFINITY","POSITIVE_INFINITY","MAX_ARRAY_LENGTH","MAX_ARRAY_INDEX","HALF_MAX_ARRAY_LENGTH","MAX_SAFE_INTEGER","metaMap","realNames","ctorByTag","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8ClampedArray","Uint16Array","Uint32Array","nonEnumProps","lodash","isArray","LazyWrapper","LodashWrapper","wrapperClone","baseLodash","chainAll","actions","__wrapped__","__actions__","__chain__","arrayEach","tag","props","support","__dir__","__filtered__","__iteratees__","__takeCount__","__views__","lazyClone","arrayCopy","lazyReverse","clone","lazyValue","dir","isArr","isRight","arrLength","view","getView","start","end","iteratees","iterLength","takeCount","baseWrapperValue","outer","iterIndex","data","type","MapCache","__data__","mapDelete","has","mapGet","mapHas","mapSet","SetCache","values","push","cacheIndexOf","cache","isObject","set","hash","cachePush","add","arrayConcat","othIndex","othLength","arrayEachRight","arrayEvery","arrayExtremum","comparator","exValue","current","arrayFilter","arrayMap","arrayPush","offset","arrayReduce","accumulator","initFromArray","arrayReduceRight","arraySome","arraySum","assignDefaults","objectValue","sourceValue","assignOwnDefaults","assignWith","customizer","keys","baseAssign","baseCopy","baseAt","collection","isNil","isArrayLike","propsLength","isIndex","baseCallback","func","thisArg","argCount","bindCallback","identity","baseMatches","property","baseMatchesProperty","baseClone","isDeep","stackA","stackB","initCloneArray","isFunc","initCloneByTag","initCloneObject","baseForOwn","subValue","x","Ctor","enumErrorProps","enumPrototypes","nonEnumShadows","test","ownLast","spliceObjects","unindexedChars","templateSettings","baseCreate","baseDelay","wait","args","apply","baseDifference","getIndexOf","isCommon","createCache","valuesLength","valuesIndex","baseEach","createBaseEach","baseEachRight","baseForOwnRight","baseEvery","baseExtremum","baseFill","baseFilter","baseFind","eachFunc","retKey","baseFlatten","isStrict","isArguments","baseFor","createBaseFor","baseForRight","baseForIn","keysIn","baseFunctions","isFunction","baseGet","path","pathKey","toObject","baseIsEqual","isLoose","baseIsEqualDeep","equalFunc","objIsArr","othIsArr","objTag","othTag","isTypedArray","objIsObj","othIsObj","isSameTag","equalByTag","objIsWrapped","othIsWrapped","equalArrays","equalObjects","pop","baseIsMatch","matchData","noCustomizer","objValue","srcValue","baseMap","getMatchData","isKey","isStrictComparable","toPath","baseSlice","last","baseMerge","isSrcArr","baseMergeDeep","mergeFunc","isPlainObject","toPlainObject","baseProperty","basePropertyDeep","basePullAt","indexes","previous","baseRandom","baseReduce","initFromCollection","baseSetData","baseSome","baseSortBy","comparer","sort","baseSortByOrder","callback","getCallback","baseSum","baseUniq","isLarge","seenIndex","baseValues","baseWhile","isDrop","action","binaryIndex","retHighest","low","high","mid","binaryIndexBy","valIsNaN","isDef","isReflexive","setLow","arguments","bufferClone","buffer","byteLength","composeArgs","partials","holders","holdersLength","argsIndex","argsLength","leftIndex","leftLength","composeArgsRight","holdersIndex","rightIndex","rightLength","createAggregator","setter","initializer","createAssigner","assigner","restParam","sources","guard","isIterateeCall","getLength","isLength","iterable","keysFunc","createBindWrapper","createCtorWrapper","wrapper","fn","createCompounder","words","deburr","thisBinding","createCurry","flag","curryFunc","arity","createWrapper","createDefaults","createExtremum","toIterable","createFind","createFindIndex","createFindKey","objectFunc","createFlow","funcs","thru","getFuncName","funcName","getData","isLaziable","plant","createForEach","arrayFunc","createForIn","createForOwn","createObjectMapper","isMapKeys","mapped","createPadDir","createPadding","createPartial","partialFunc","createReduce","createHybridWrapper","bitmask","partialsRight","holdersRight","argPos","ary","isAry","isBind","isBindKey","isCurry","isCurryBound","isCurryRight","argsHolders","newArgPos","newArity","newsHolders","newHoldersRight","newPartials","newPartialsRight","newData","setData","reorder","strLength","padLength","repeat","slice","createPartialWrapper","createRound","methodName","number","precision","createSortedIndex","mergeData","arrValue","othValue","name","message","objProps","objLength","othProps","skipCtor","objCtor","constructor","othCtor","get","noop","otherFunc","target","pairs","isNative","transforms","size","input","byteOffset","exec","lastIndex","invokePath","srcBitmask","newBitmask","isCombo","mergeDefaults","merge","pickByArray","pickByCallback","oldArray","count","lastCalled","stamp","now","remaining","shimKeys","allowIndexes","isString","split","match","quote","chunk","compact","difference","drop","n","dropRight","dropRightWhile","dropWhile","fill","findIndex","findLastIndex","first","flatten","flattenDeep","initial","intersection","arrays","caches","lastIndexOf","pull","pullAt","remove","rest","sortedIndex","sortedLastIndex","take","takeRight","takeRightWhile","takeWhile","union","uniq","isSorted","unzip","group","unzipWith","without","xor","zip","zipObject","zipWith","chain","tap","interceptor","wrapperChain","wrapperCommit","wrapperConcat","wrapperPlant","parent","wrapperReverse","reverse","wrapped","wrapperToString","wrapperValue","at","countBy","every","filter","find","findLast","findWhere","forEach","forEachRight","groupBy","includes","indexBy","invoke","isProp","map","partition","pluck","reduce","reduceRight","reject","sample","toArray","rand","shuffle","some","sortBy","sortByAll","sortByOrder","where","getTime","after","temp","before","bind","bindAll","methodNames","functions","bindKey","curry","curryRight","debounce","options","maxTimeoutId","timeoutId","trailingCall","maxWait","trailing","leading","cancel","complete","isCalled","id","delayed","maxDelayed","debounced","leadingCall","defer","delay","flow","flowRight","memoize","resolver","memoized","Cache","modArgs","negate","once","partial","partialRight","rearg","otherArgs","spread","throttle","wrap","cloneDeep","gt","gte","isBoolean","isDate","isElement","isEmpty","isEqual","isError","isMatch","isNaN","isNumber","isNull","isRegExp","isUndefined","lt","lte","assign","create","properties","defaultsDeep","findKey","findLastKey","forIn","forInRight","forOwn","forOwnRight","defaultValue","invert","multiValue","proto","isProto","skipIndexes","skipErrorProps","skipProto","nonEnums","nonEnum","mapKeys","mapValues","omit","nested","transform","valuesIn","inRange","floating","noMin","noMax","camelCase","word","toLowerCase","toUpperCase","capitalize","endsWith","position","escape","escapeRegExp","kebabCase","pad","padLeft","padRight","radix","trim","snakeCase","startCase","startsWith","template","otherOptions","settings","imports","importsKeys","importsValues","isEscaping","isEvaluating","interpolate","reDelimiters","evaluate","sourceURL","escapeValue","interpolateValue","esTemplateValue","evaluateValue","variable","attempt","trimLeft","trimRight","trunc","omission","separator","search","newEnd","substring","unescape","pattern","e","matches","constant","matchesProperty","method","methodOf","mixin","isObj","noConflict","propertyOf","range","step","times","uniqueId","prefix","augend","addend","round","sum","backflow","collect","compose","each","eachRight","extend","methods","select","tail","unique","all","any","contains","eq","detect","foldl","foldr","head","include","inject","filtered","isFilter","takeName","dropName","operationName","createCallback","checkIteratee","retUnwrapped","lodashFunc","isHybrid","isLazy","useLazy","onlyLazy","protoFunc","chainName","fixObjects","names","commit","concat","run","toJSON","valueOf","define","amd","isSpecificValue","val","Buffer","cloneSpecificValue","alloc","copy","deepCloneArray","arr","item","deepExtend","safeGetProperty","src","obj","parse","decode","stringify","encode","safe","unsafe","eol","process","platform","opt","children","out","section","whitespace","k","__","nk","dotSplit","join","child","str","part","p","re","lines","line","JSON","parts","l","nl","del","isQuoted","doUnesc","substr","esc","unesc","i","c","hasKey","o","isConstructorOrProto","opts","flags","bools","strings","unknownFn","allBools","Boolean","aliases","alias","y","argv","setArg","notFlags","argDefined","arg","setKey","aliasIsBoolean","m","next","letters","broken","j","stopEarly","cc","etc","win","home","env","USERPROFILE","HOME","json","configs","configFiles","addConfigFile","file","fileConfig","config","fs","ini","stripJsonComments","content","readFileSync","err","_emptyStringIndex","keypath","cursor","_subkey","rel","statSync","dirname","cwd","validate","validateStrict","coerce","infer","parseHuman","stringifyHuman","hydrate","dehydrate","compile","getDefaultExemplar","getDisplayType","getRdt","isSpecific","isInvalidExample","reify","getPathInfo","getBaseVal","coerceExemplar","getPatternFromExemplar","cast","rebuild","getDisplayTypeLabel","getNounPhrase","GRAMMAR","getInvalidityMessage","inferDisplayType","validateExemplarStrict","typeInfo","inspect","exemplar","isStrictType","DEFINITE","determiner","INDEFINITE","EXISTENTIAL","UNPRECEDED","SINGULAR","plural","PLURAL","FRAGMENT","capitalization","SENTENCE","completeSentence","TITLE","DEFINITE_PLURAL","EXISTENTIAL_PLURAL","UNPRECEDED_PLURAL","PLURAL_FRAGMENT","PLURAL_SENTENCE","PLURAL_TITLE","DEFINITE_FRAGMENT","INDEFINITE_FRAGMENT","EXISTENTIAL_FRAGMENT","UNPRECEDED_FRAGMENT","DEFINITE_SENTENCE","INDEFINITE_SENTENCE","EXISTENTIAL_SENTENCE","UNPRECEDED_SENTENCE","DEFINITE_PLURAL_FRAGMENT","EXISTENTIAL_PLURAL_FRAGMENT","UNPRECEDED_PLURAL_FRAGMENT","DEFINITE_PLURAL_SENTENCE","EXISTENTIAL_PLURAL_SENTENCE","UNPRECEDED_PLURAL_SENTENCE","rttc","allowSpecialSyntax","treatTopLvlUndefinedAsRef","useStrict","getExemplar","_recursivelyCoerceExemplar","valuePart","Infinity","isExemplar","getExemplarDescription","patternSoFar","dictSoFar","validateRecursive","consolidateErrors","expected","actual","errors","code","customInspect","ctx","stylize","formatValue","recurseTimes","output","ret","primitive","formatPrimitive","visibleKeys","arrayToHash","showHidden","getOwnPropertyNames","formatError","base","braces","toUTCString","formatArray","formatProperty","reduceToSingleString","simple","desc","getOwnPropertyDescriptor","numLinesEst","prev","cur","idx","prop","rebuildSanitized","allowNull","dontStringifyFunctions","allowNaNAndFriends","doRunToJSONMethods","buildSchemaIterator","typeSchema","dehydratedTypeSchema","facetDictionary","parentKeyOrIndex","callRecursive","memo","facet","patternArray","iterateRecursive","schema","TYPES","lamda","ref","displayType","expectedTypeSchema","invalidData","eInvalid","optionalDataLabel","wasExpectingArray","gotArray","wasExpectingDictionary","gotDictionary","subErr","hops","actualTopLvlType","parentHops","parentHopsHash","otherSubErr","isArrayItem","expectedRdt","actualType","prettiedParentHops","hop","nounPhrase","displayTypeLabel","dehydratedSchema","currentExemplar","optional","arrayExemplar","onFacetDict","onPatternArray","onGenericDict","onGenericArray","onOther","_iterator","subSchema","keyOrIndex","nextSchema","nextIndex","nextKey","thingToTraverse","onJson","onRef","onLamda","onString","onNumber","onBoolean","thisSchema","is","acceptableTypes","typeName","subSchema0","subSchema1","thingToTraverse0","thingToTraverse1","util","msgSuffix","uniqueErrors","format","minor","subError","types","eg","boolean","Readable","handleLeafTransform","handleCompositeTransform","depth","stack","cycleReplacer","unused","_recursiveRebuildIt","thisVal","thisPos","subVal","_rebuild","_recursivelyRebuildAndSanitize","description","getExamples","to","v","getBase","num","dictionary","foo","bar","baz","a","b","might","have","bool","dict","lambda","_validateRecursive","strict","allowAnyArray","allowAnyDictionary","isExpectingAnything","allowAnyJSONCompatible","expectedType","isExpectingArray","isExpectingDictionary","coercedValue","newErr","msg","arrayItemTpl","coercedVal","expectedVal","expectedKey","parseLamdaInputValues","keysSoFar","typeHere","subKey","eval","inferPrimitive","dictionaryTypeSchema","buildTwoHeadedSchemaCursor","schema0","schema1","twoHeadedCursor","isIncompatible","intersectedFacetDict","intersectedFacet","intersectedPattern","firstValue","secondValue","_isEqualRecursive","typeSchemaHere","keypathArray","firstValueSegment","secondValueSegment","example","tolerateMultiItemArrays","checkRecursively","iterator","humanString","unsafeMode","deserializedVal","rebuildRecursive","schemaIterator","newFacetDict","generateSampleVal","samples","samplesSoFar","newSample","isUnique","existingSample","dehydratedValue","containsType","searchingForTypes","normalizeResult","sharedKeys","xorKeys","supposedExemplar","prohibitEmptyArrays","rebuiltExemplar","rc","minimist","namespace","conf","unusedErr","singleComment","multiComment","stripWithoutWhitespace","stripWithWhitespace","currentChar","nextChar","insideString","insideComment","strip","sails","chdir","__dirname","console","error","lift"],"mappings":"+DAgCE,YAMA,IAHIA,EAGAC,EAAU,SAGVC,EAAY,EACZC,EAAgB,EAChBC,EAAmB,EACnBC,EAAa,EACbC,EAAmB,GACnBC,EAAe,GACfC,EAAqB,GACrBC,EAAW,IACXC,EAAa,IAGbC,EAAuB,GACvBC,EAAyB,MAGzBC,EAAY,IACZC,EAAW,GAGXC,EAAmB,IAGnBC,EAAmB,EACnBC,EAAgB,EAGhBC,EAAkB,sBAGlBC,EAAc,yBAGdC,EAAU,qBACVC,EAAW,iBAGXC,EAAW,yBACXC,EAAS,6BACTC,EAAW,iBAEXC,EAAU,mBACVC,EAAU,gBACVC,EAAW,iBACXC,EAAU,oBACVC,EAAS,eACTC,EAAY,kBACZC,EAAY,kBACZC,EAAY,kBACZC,EAAS,eACTC,EAAY,kBACZC,EAAa,mBAEbC,EAAiB,uBACjBC,EAAa,wBACbC,EAAa,wBACbC,EAAU,qBACVC,EAAW,sBACXC,EAAW,sBACXC,EAAW,sBACXC,EAAkB,6BAClBC,EAAY,uBACZC,EAAY,uBAGZC,EAAuB,iBACvBC,EAAsB,qBACtBC,EAAwB,gCAGxBC,EAAgB,gCAChBC,EAAkB,YAClBC,EAAmBC,OAAOH,EAAcI,MAAM,EAC9CC,GAAqBF,OAAOF,EAAgBG,MAAM,EAGlDE,GAAW,mBACXC,GAAa,kBACbC,GAAgB,mBAGhBC,GAAe,qDACfC,GAAgB,QAChBC,GAAa,wEAMbC,GAAgB,yEAChBC,GAAmBV,OAAOS,GAAcR,MAAM,EAG9CU,GAAc,gCAGdC,GAAe,WAGfC,GAAe,kCAGfC,GAAU,OAGVC,GAAiB,SAGjBC,GAAe,8BAGfC,GAAW,QAGXC,GAAW,0CAGXC,GAAY,OAGZC,GAAoB,yBAGpBC,GAAW,WACb,IAAIC,EAAQ,8BACRC,EAAQ,+BAEZ,OAAOvB,OAAOsB,EAAQ,OAASA,EAAQC,EAAQ,KAAOD,EAAQ,IAAMC,EAAQ,IAAMD,EAAQ,WAAY,IACxG,IAGIE,GAAe,CACjB,QAAS,cAAe,OAAQ,QAAS,eAAgB,eACzD,WAAY,YAAa,aAAc,aAAc,OAAQ,SAC7D,SAAU,SAAU,MAAO,SAAU,IAAK,eAAgB,WAC1D,aAAc,WAAY,aAAc,YAAa,aACrD,oBAAqB,cAAe,cAAe,UACpD,CAGGC,GAAc,CAChB,cAAe,iBAAkB,gBAAiB,uBAClD,iBAAkB,WAAY,UAC/B,CAGGC,GAAkB,GAGlBC,GAAiB,CAAC,CACtBA,CAAAA,EAAc,CAAC1C,EAAW,CAAG0C,EAAc,CAACzC,EAAW,CACvDyC,EAAc,CAACxC,EAAQ,CAAGwC,EAAc,CAACvC,EAAS,CAClDuC,EAAc,CAACtC,EAAS,CAAGsC,EAAc,CAACrC,EAAS,CACnDqC,EAAc,CAACpC,EAAgB,CAAGoC,EAAc,CAACnC,EAAU,CAC3DmC,EAAc,CAAClC,EAAU,CAAG,GAC5BkC,EAAc,CAAC3D,EAAQ,CAAG2D,EAAc,CAAC1D,EAAS,CAClD0D,EAAc,CAAC3C,EAAe,CAAG2C,EAAc,CAACtD,EAAQ,CACxDsD,EAAc,CAACrD,EAAQ,CAAGqD,EAAc,CAACpD,EAAS,CAClDoD,EAAc,CAACnD,EAAQ,CAAGmD,EAAc,CAAClD,EAAO,CAChDkD,EAAc,CAACjD,EAAU,CAAGiD,EAAc,CAAChD,EAAU,CACrDgD,EAAc,CAAC/C,EAAU,CAAG+C,EAAc,CAAC9C,EAAO,CAClD8C,EAAc,CAAC7C,EAAU,CAAG6C,EAAc,CAAC5C,EAAW,CAAG,GAGzD,IAAI6C,GAAgB,CAAC,CACrBA,CAAAA,EAAa,CAAC5D,EAAQ,CAAG4D,EAAa,CAAC3D,EAAS,CAChD2D,EAAa,CAAC5C,EAAe,CAAG4C,EAAa,CAACvD,EAAQ,CACtDuD,EAAa,CAACtD,EAAQ,CAAGsD,EAAa,CAAC3C,EAAW,CAClD2C,EAAa,CAAC1C,EAAW,CAAG0C,EAAa,CAACzC,EAAQ,CAClDyC,EAAa,CAACxC,EAAS,CAAGwC,EAAa,CAACvC,EAAS,CACjDuC,EAAa,CAAClD,EAAU,CAAGkD,EAAa,CAACjD,EAAU,CACnDiD,EAAa,CAAChD,EAAU,CAAGgD,EAAa,CAAC9C,EAAU,CACnD8C,EAAa,CAACtC,EAAS,CAAGsC,EAAa,CAACrC,EAAgB,CACxDqC,EAAa,CAACpC,EAAU,CAAGoC,EAAa,CAACnC,EAAU,CAAG,GACtDmC,EAAa,CAACrD,EAAS,CAAGqD,EAAa,CAACpD,EAAQ,CAChDoD,EAAa,CAACnD,EAAO,CAAGmD,EAAa,CAAC/C,EAAO,CAC7C+C,EAAa,CAAC7C,EAAW,CAAG,GAG5B,IAAI8C,GAAkB,CACpB,EAAQ,IAAM,EAAQ,IAAK,EAAQ,IAAK,EAAQ,IAAK,EAAQ,IAAK,EAAQ,IAC1E,EAAQ,IAAM,EAAQ,IAAK,EAAQ,IAAK,EAAQ,IAAK,EAAQ,IAAK,EAAQ,IAC1E,EAAQ,IAAM,EAAQ,IACtB,EAAQ,IAAM,EAAQ,IACtB,EAAQ,IAAM,EAAQ,IAAK,EAAQ,IAAK,EAAQ,IAChD,EAAQ,IAAM,EAAQ,IAAK,EAAQ,IAAK,EAAQ,IAChD,EAAQ,IAAM,EAAQ,IAAK,EAAQ,IAAK,EAAQ,IAChD,EAAQ,IAAM,EAAQ,IAAK,EAAQ,IAAK,EAAQ,IAChD,EAAQ,IAAM,EAAQ,IACtB,EAAQ,IAAM,EAAQ,IAAK,EAAQ,IAAK,EAAQ,IAAK,EAAQ,IAAK,EAAQ,IAC1E,EAAQ,IAAM,EAAQ,IAAK,EAAQ,IAAK,EAAQ,IAAK,EAAQ,IAAK,EAAQ,IAC1E,EAAQ,IAAM,EAAQ,IAAK,EAAQ,IAAK,EAAQ,IAChD,EAAQ,IAAM,EAAQ,IAAK,EAAQ,IAAK,EAAQ,IAChD,EAAQ,IAAM,EAAQ,IAAK,EAAQ,IACnC,EAAQ,KAAM,EAAQ,KACtB,EAAQ,KAAM,EAAQ,KACtB,EAAQ,IACV,EAGIC,GAAc,CAChB,IAAK,QACL,IAAK,OACL,IAAK,OACL,IAAK,SACL,IAAK,QACL,IAAK,OACP,EAGIC,GAAgB,CAClB,QAAS,IACT,OAAQ,IACR,OAAQ,IACR,SAAU,IACV,QAAS,IACT,QAAS,GACX,EAGIC,GAAc,CAChB,SAAY,GACZ,OAAU,EACZ,EAGIC,GAAgB,CAClB,EAAK,MAAO,EAAK,MAAO,EAAK,MAAO,EAAK,MAAO,EAAK,MACrD,EAAK,MAAO,EAAK,MAAO,EAAK,MAAO,EAAK,MAAO,EAAK,MACrD,EAAK,MAAO,EAAK,MAAO,EAAK,MAAO,EAAK,MAAO,EAAK,MAAO,EAAK,MACjE,EAAK,MAAO,EAAK,MAAO,EAAK,MAAO,EAAK,MAAO,EAAK,MAAO,EAAK,MACjE,EAAK,MAAO,EAAK,MAAO,EAAK,MAAO,EAAK,MAAO,EAAK,MAAO,EAAK,KACnE,EAGIC,GAAgB,CAClB,KAAM,KACN,IAAK,IACL,KAAM,IACN,KAAM,IACN,SAAU,QACV,SAAU,OACZ,EAGIC,GAAcH,EAAW,CAAC,OAAOI,EAAQ,EAAIA,GAAW,CAACA,EAAQC,QAAQ,EAAID,EAG7EE,GAAaN,GAAY,MAAc,EAAIO,GAAU,CAACA,EAAOF,QAAQ,EAAIE,EAGzEC,GAAaL,IAAeG,IAAc,AAAiB,UAAjB,OAAOG,QAAsBA,QAAUA,OAAOC,MAAM,EAAID,OAGlGE,GAAWX,EAAW,CAAC,OAAOY,KAAK,EAAIA,MAAQA,KAAKF,MAAM,EAAIE,KAG9DC,GAAab,EAAW,CAAC,OAAOc,OAAO,EAAIA,QAAUA,OAAOJ,MAAM,EAAII,OAGtEC,GAAgBT,IAAcA,GAAWF,OAAO,GAAKD,IAAeA,GAQpEa,GAAOR,IAAe,AAACK,KAAgB,KAAI,EAAI,IAAI,CAACC,MAAM,AAAD,GAAOD,IAAeF,IAAY,IAAI,CAanG,SAASM,GAAqBC,CAAK,CAAEC,CAAK,EACxC,GAAID,IAAUC,EAAO,CACnB,IAAIC,EAAYF,AAAU,OAAVA,EACZG,EAAaH,AAAUtG,IAAVsG,EACbI,EAAiBJ,GAAUA,EAE3BK,EAAYJ,AAAU,OAAVA,EACZK,EAAaL,AAAUvG,IAAVuG,EACbM,EAAiBN,GAAUA,EAE/B,GAAI,AAACD,EAAQC,GAAS,CAACI,GAAc,CAACD,GACjCF,GAAa,CAACI,GAAcC,GAC5BJ,GAAcI,EACjB,OAAO,EAET,GAAI,AAACP,EAAQC,GAAS,CAACC,GAAc,CAACK,GACjCF,GAAa,CAACF,GAAcC,GAC5BE,GAAcF,EACjB,OAAO,EAEX,CACA,OAAO,CACT,CAYA,SAASI,GAAcC,CAAK,CAAEC,CAAS,CAAEC,CAAS,EAIhD,IAHA,IAAIC,EAASH,EAAMG,MAAM,CACrBC,EAAQF,EAAYC,EAAS,GAEzBD,EAAYE,IAAU,EAAEA,EAAQD,GACtC,GAAIF,EAAUD,CAAK,CAACI,EAAM,CAAEA,EAAOJ,GACjC,OAAOI,EAGX,OAAO,EACT,CAWA,SAASC,GAAYL,CAAK,CAAET,CAAK,CAAEe,CAAS,EAC1C,GAAIf,GAAUA,EACZ,OAAOgB,GAAWP,EAAOM,GAK3B,IAHA,IAAIF,EAAQE,EAAY,EACpBH,EAASH,EAAMG,MAAM,CAElB,EAAEC,EAAQD,GACf,GAAIH,CAAK,CAACI,EAAM,GAAKb,EACnB,OAAOa,EAGX,OAAO,EACT,CAUA,SAASI,GAAejB,CAAK,EAG3B,MAAO,AAAgB,YAAhB,OAAOA,CAChB,CAUA,SAASkB,GAAalB,CAAK,EACzB,OAAOA,AAAS,MAATA,EAAgB,GAAMA,EAAQ,EACvC,CAWA,SAASmB,GAAeC,CAAM,CAAEC,CAAK,EAInC,IAHA,IAAIR,EAAQ,GACRD,EAASQ,EAAOR,MAAM,CAEnB,EAAEC,EAAQD,GAAUS,EAAMC,OAAO,CAACF,EAAOG,MAAM,CAACV,IAAU,KACjE,OAAOA,CACT,CAWA,SAASW,GAAgBJ,CAAM,CAAEC,CAAK,EAGpC,IAFA,IAAIR,EAAQO,EAAOR,MAAM,CAElBC,KAAWQ,EAAMC,OAAO,CAACF,EAAOG,MAAM,CAACV,IAAU,KACxD,OAAOA,CACT,CAWA,SAASY,GAAiBC,CAAM,CAAEzB,CAAK,EACrC,OAAOF,GAAqB2B,EAAOC,QAAQ,CAAE1B,EAAM0B,QAAQ,GAAMD,EAAOb,KAAK,CAAGZ,EAAMY,KAAK,AAC7F,CAgBA,SAASe,GAAgBF,CAAM,CAAEzB,CAAK,CAAE4B,CAAM,EAO5C,IANA,IAAIhB,EAAQ,GACRiB,EAAcJ,EAAOC,QAAQ,CAC7BI,EAAc9B,EAAM0B,QAAQ,CAC5Bf,EAASkB,EAAYlB,MAAM,CAC3BoB,EAAeH,EAAOjB,MAAM,CAEzB,EAAEC,EAAQD,GAAQ,CACvB,IAAIqB,EAASlC,GAAqB+B,CAAW,CAACjB,EAAM,CAAEkB,CAAW,CAAClB,EAAM,EACxE,GAAIoB,EAAQ,CACV,GAAIpB,GAASmB,EACX,OAAOC,EAET,IAAIC,EAAQL,CAAM,CAAChB,EAAM,CACzB,OAAOoB,EAAU,CAACC,AAAU,QAAVA,GAAmBA,AAAU,KAAVA,EAAkB,EAAI,EAAC,CAC9D,CACF,CAQA,OAAOR,EAAOb,KAAK,CAAGZ,EAAMY,KAAK,AACnC,CASA,SAASsB,GAAaC,CAAM,EAC1B,OAAOzD,EAAe,CAACyD,EAAO,AAChC,CASA,SAASC,GAAeC,CAAG,EACzB,OAAO1D,EAAW,CAAC0D,EAAI,AACzB,CAWA,SAASC,GAAiBD,CAAG,CAAEE,CAAW,CAAEC,CAAc,EAMxD,OALID,EACFF,EAAMvD,EAAa,CAACuD,EAAI,CACfG,GACTH,CAAAA,EAAMtD,EAAa,CAACsD,EAAI,AAAD,EAElB,KAAOA,CAChB,CASA,SAASI,GAAiBJ,CAAG,EAC3B,MAAO,KAAOtD,EAAa,CAACsD,EAAI,AAClC,CAWA,SAAStB,GAAWP,CAAK,CAAEM,CAAS,CAAEJ,CAAS,EAI7C,IAHA,IAAIC,EAASH,EAAMG,MAAM,CACrBC,EAAQE,EAAaJ,CAAAA,EAAY,EAAI,EAAC,EAElCA,EAAYE,IAAU,EAAEA,EAAQD,GAAS,CAC/C,IAAIX,EAAQQ,CAAK,CAACI,EAAM,CACxB,GAAIZ,GAAUA,EACZ,OAAOY,CAEX,CACA,OAAO,EACT,CASA,IAAI8B,GAAgB,WAMlB,OAAO,SAAS3C,CAAK,EAGnB,MAAO,AAAyB,YAAzB,OAAOA,EAAM4C,QAAQ,EAAkB,AAAuB,UAAvB,MAAQ5C,CAAAA,EAAQ,EAAC,CACjE,CACF,IASA,SAAS6C,GAAa7C,CAAK,EACzB,MAAO,CAAC,CAACA,GAAS,AAAgB,UAAhB,OAAOA,CAC3B,CAUA,SAAS8C,GAAQC,CAAQ,EACvB,OAAQ,AAACA,GAAY,KAAQA,GAAY,GAAKA,GAAY,IAAOA,AAAY,IAAZA,GAAkBA,AAAY,KAAZA,GAAoBA,AAAY,MAAZA,GAAoBA,AAAY,MAAZA,GACxHA,GAAY,MAASA,CAAAA,GAAY,MAAQA,AAAY,MAAZA,GAAoBA,AAAY,MAAZA,GAAoBA,AAAY,MAAZA,GAAoBA,AAAY,MAAZA,GAAoBA,AAAY,OAAZA,GAAqBA,AAAY,OAAZA,CAAgB,CACnK,CAWA,SAASC,GAAevC,CAAK,CAAEwC,CAAW,EAMxC,IALA,IAAIpC,EAAQ,GACRD,EAASH,EAAMG,MAAM,CACrBsC,EAAW,GACXjB,EAAS,EAAE,CAER,EAAEpB,EAAQD,GACXH,CAAK,CAACI,EAAM,GAAKoC,IACnBxC,CAAK,CAACI,EAAM,CAAGhG,EACfoH,CAAM,CAAC,EAAEiB,EAAS,CAAGrC,GAGzB,OAAOoB,CACT,CAcA,SAASkB,GAAQzB,CAAM,CAAE0B,CAAG,EAC1B,MAAOA,AAAO,aAAPA,GAAuBA,AAAQ,gBAARA,GAAyB,AAAuB,YAAvB,OAAO1B,CAAM,CAAC0B,EAAI,CACrE1J,EACAgI,CAAM,CAAC0B,EAAI,AACjB,CAaA,SAASC,GAAW5C,CAAK,CAAE6C,CAAQ,EAOjC,IANA,IAAIC,EACA1C,EAAQ,GACRD,EAASH,EAAMG,MAAM,CACrBsC,EAAW,GACXjB,EAAS,EAAE,CAER,EAAEpB,EAAQD,GAAQ,CACvB,IAAIZ,EAAQS,CAAK,CAACI,EAAM,CACpB2C,EAAWF,EAAWA,EAAStD,EAAOa,EAAOJ,GAAST,EAEtD,EAACa,GAAS0C,IAASC,CAAO,IAC5BD,EAAOC,EACPvB,CAAM,CAAC,EAAEiB,EAAS,CAAGlD,EAEzB,CACA,OAAOiC,CACT,CAUA,SAASwB,GAAiBrC,CAAM,EAI9B,IAHA,IAAIP,EAAQ,GACRD,EAASQ,EAAOR,MAAM,CAEnB,EAAEC,EAAQD,GAAUkC,GAAQ1B,EAAOsC,UAAU,CAAC7C,MACrD,OAAOA,CACT,CAUA,SAAS8C,GAAkBvC,CAAM,EAG/B,IAFA,IAAIP,EAAQO,EAAOR,MAAM,CAElBC,KAAWiC,GAAQ1B,EAAOsC,UAAU,CAAC7C,MAC5C,OAAOA,CACT,CASA,SAAS+C,GAAiBtB,CAAG,EAC3B,OAAOzD,EAAa,CAACyD,EAAI,AAC3B,CAuCA,SAASuB,GAAaC,CAAO,EAQ3B,IAAIC,EAAQD,AAHZA,CAAAA,EAAUA,EAAUE,GAAEC,QAAQ,CAACnE,GAAKN,MAAM,GAAIsE,EAASE,GAAEE,IAAI,CAACpE,GAAMxB,KAAiBwB,EAAG,EAGpEiE,KAAK,CACrBI,EAAOL,EAAQK,IAAI,CACnBC,EAAQN,EAAQM,KAAK,CACrBC,EAAWP,EAAQO,QAAQ,CAC3BC,GAAOR,EAAQQ,IAAI,CACnBC,GAAST,EAAQS,MAAM,CACvB/E,GAASsE,EAAQtE,MAAM,CACvB1C,GAASgH,EAAQhH,MAAM,CACvB0H,GAASV,EAAQU,MAAM,CACvBC,GAAYX,EAAQW,SAAS,CAG7BC,GAAaX,EAAMY,SAAS,CAC5BC,GAAaR,EAAMO,SAAS,CAC5BE,GAAcrF,GAAOmF,SAAS,CAC9BG,GAAcN,GAAOG,SAAS,CAG9BI,GAAaV,EAASM,SAAS,CAAC/B,QAAQ,CAGxCoC,GAAiBH,GAAYG,cAAc,CAG3CC,GAAY,EAMZC,GAAcL,GAAYjC,QAAQ,CAGlCuC,GAAUrF,GAAKkE,CAAC,CAGhBoB,GAAatI,GAAO,IACtBiI,GAAWM,IAAI,CAACL,IAAgBM,OAAO,CAAC,sBAAuB,QAC9DA,OAAO,CAAC,yDAA0D,SAAW,KAI5EC,GAAczB,EAAQyB,WAAW,CACjCC,GAAe1B,EAAQ0B,YAAY,CACnCC,GAAa3B,EAAQ2B,UAAU,CAC/BC,GAAMpB,GAAKoB,GAAG,CACdC,GAAuBd,GAAYc,oBAAoB,CACvDC,GAAMC,GAAU/B,EAAS,OACzBgC,GAAahC,EAAQgC,UAAU,CAC/BC,GAASrB,GAAWqB,MAAM,CAC1BC,GAAalC,EAAQkC,UAAU,CAC/BC,GAAUJ,GAAU/B,EAAS,WAG7BoC,GAAa5B,GAAK6B,IAAI,CACtBC,GAAeP,GAAUrG,GAAQ,UACjC6G,GAAc/B,GAAKgC,KAAK,CACxBC,GAAgBV,GAAU9B,EAAO,WACjCyC,GAAiB1C,EAAQ2C,QAAQ,CACjCC,GAAab,GAAUrG,GAAQ,QAC/BmH,GAAYrC,GAAKsC,GAAG,CACpBC,GAAYvC,GAAKwC,GAAG,CACpBC,GAAYlB,GAAU1B,EAAM,OAC5B6C,GAAiBlD,EAAQmD,QAAQ,CACjCC,GAAe5C,GAAK6C,MAAM,CAG1BC,GAAoB7C,GAAO6C,iBAAiB,CAC5CC,GAAoB9C,GAAO8C,iBAAiB,CAG5CC,GAAmB,WACnBC,GAAkBD,WAClBE,GAAwBF,WAMxBG,GAAmB,iBAGnBC,GAAUzB,IAAW,IAAIA,GAGzB0B,GAAY,CAAC,EAGbC,GAAY,CAAC,CACjBA,CAAAA,EAAS,CAAC7L,EAAW,CAAG+H,EAAQ+D,YAAY,CAC5CD,EAAS,CAAC5L,EAAW,CAAG8H,EAAQgE,YAAY,CAC5CF,EAAS,CAAC3L,EAAQ,CAAG6H,EAAQiE,SAAS,CACtCH,EAAS,CAAC1L,EAAS,CAAG4H,EAAQkE,UAAU,CACxCJ,EAAS,CAACzL,EAAS,CAAG2H,EAAQmE,UAAU,CACxCL,EAAS,CAACxL,EAAS,CAAG4J,GACtB4B,EAAS,CAACvL,EAAgB,CAAGyH,EAAQoE,iBAAiB,CACtDN,EAAS,CAACtL,EAAU,CAAGwH,EAAQqE,WAAW,CAC1CP,EAAS,CAACrL,EAAU,CAAGuH,EAAQsE,WAAW,CAG1C,IAAIC,GAAe,CAAC,EAiHpB,SAASC,GAAOtI,CAAK,EACnB,GAAI6C,GAAa7C,IAAU,CAACuI,GAAQvI,IAAU,CAAEA,CAAAA,aAAiBwI,EAAU,EAAI,CAC7E,GAAIxI,aAAiByI,GACnB,OAAOzI,EAET,GAAIgF,GAAeK,IAAI,CAACrF,EAAO,cAAgBgF,GAAeK,IAAI,CAACrF,EAAO,eACxE,OAAO0I,GAAa1I,EAExB,CACA,OAAO,IAAIyI,GAAczI,EAC3B,CAOA,SAAS2I,KAET,CAUA,SAASF,GAAczI,CAAK,CAAE4I,CAAQ,CAAEC,CAAO,EAC7C,IAAI,CAACC,WAAW,CAAG9I,EACnB,IAAI,CAAC+I,WAAW,CAAGF,GAAW,EAAE,CAChC,IAAI,CAACG,SAAS,CAAG,CAAC,CAACJ,CACrB,CAjJAP,EAAY,CAACtN,EAAS,CAAGsN,EAAY,CAACjN,EAAQ,CAAGiN,EAAY,CAAC7M,EAAU,CAAG,CAAE,YAAe,GAAM,eAAkB,GAAM,SAAY,GAAM,QAAW,EAAK,EAC5J6M,EAAY,CAAClN,EAAQ,CAAGkN,EAAY,CAACzM,EAAU,CAAG,CAAE,YAAe,GAAM,SAAY,GAAM,QAAW,EAAK,EAC3GyM,EAAY,CAAChN,EAAS,CAAGgN,EAAY,CAAC/M,EAAQ,CAAG+M,EAAY,CAAC3M,EAAU,CAAG,CAAE,YAAe,GAAM,SAAY,EAAK,EACnH2M,EAAY,CAAC5M,EAAU,CAAG,CAAE,YAAe,EAAK,EAEhDwN,GAAU1K,GAAa,SAAS6E,CAAG,EACjC,IAAK,IAAI8F,KAAOb,GACd,GAAIrD,GAAeK,IAAI,CAACgD,GAAca,GAAM,CAC1C,IAAIC,EAAQd,EAAY,CAACa,EAAI,AAC7BC,CAAAA,CAAK,CAAC/F,EAAI,CAAG4B,GAAeK,IAAI,CAAC8D,EAAO/F,EAC1C,CAEJ,GA8IA,IAAIgG,GAAUd,GAAOc,OAAO,CAAG,CAAC,EAoJhC,SAASZ,GAAYxI,CAAK,EACxB,IAAI,CAAC8I,WAAW,CAAG9I,EACnB,IAAI,CAAC+I,WAAW,CAAG,EAAE,CACrB,IAAI,CAACM,OAAO,CAAG,EACf,IAAI,CAACC,YAAY,CAAG,GACpB,IAAI,CAACC,aAAa,CAAG,EAAE,CACvB,IAAI,CAACC,aAAa,CAAGnC,GACrB,IAAI,CAACoC,SAAS,CAAG,EAAE,AACrB,CAUA,SAASC,KACP,IAAIzH,EAAS,IAAIuG,GAAY,IAAI,CAACM,WAAW,EAO7C,OANA7G,EAAO8G,WAAW,CAAGY,GAAU,IAAI,CAACZ,WAAW,EAC/C9G,EAAOoH,OAAO,CAAG,IAAI,CAACA,OAAO,CAC7BpH,EAAOqH,YAAY,CAAG,IAAI,CAACA,YAAY,CACvCrH,EAAOsH,aAAa,CAAGI,GAAU,IAAI,CAACJ,aAAa,EACnDtH,EAAOuH,aAAa,CAAG,IAAI,CAACA,aAAa,CACzCvH,EAAOwH,SAAS,CAAGE,GAAU,IAAI,CAACF,SAAS,EACpCxH,CACT,CAUA,SAAS2H,KACP,GAAI,IAAI,CAACN,YAAY,CAAE,CACrB,IAAIrH,EAAS,IAAIuG,GAAY,IAAI,CACjCvG,CAAAA,EAAOoH,OAAO,CAAG,GACjBpH,EAAOqH,YAAY,CAAG,EACxB,MACErH,EAAS,IAAI,CAAC4H,KAAK,GACnB5H,EAAOoH,OAAO,EAAI,GAEpB,OAAOpH,CACT,CAUA,SAAS6H,KACP,IAAIrJ,EAAQ,IAAI,CAACqI,WAAW,CAAC9I,KAAK,GAC9B+J,EAAM,IAAI,CAACV,OAAO,CAClBW,EAAQzB,GAAQ9H,GAChBwJ,EAAUF,EAAM,EAChBG,EAAYF,EAAQvJ,EAAMG,MAAM,CAAG,EACnCuJ,EAAOC,GAAQ,EAAGF,EAAW,IAAI,CAACT,SAAS,EAC3CY,EAAQF,EAAKE,KAAK,CAClBC,EAAMH,EAAKG,GAAG,CACd1J,EAAS0J,EAAMD,EACfxJ,EAAQoJ,EAAUK,EAAOD,EAAQ,EACjCE,EAAY,IAAI,CAAChB,aAAa,CAC9BiB,EAAaD,EAAU3J,MAAM,CAC7BsC,EAAW,EACXuH,EAAY5D,GAAUjG,EAAQ,IAAI,CAAC4I,aAAa,EAEpD,GAAI,CAACQ,GAASE,EAAYzP,GAAqByP,GAAatJ,GAAU6J,GAAa7J,EACjF,OAAO8J,GAAiBjK,EAAO,IAAI,CAACsI,WAAW,EAEjD,IAAI9G,EAAS,EAAE,CAEf0I,EACA,KAAO/J,KAAYsC,EAAWuH,GAAW,CAMvC,IAHA,IAAIG,EAAY,GACZ5K,EAAQS,CAAK,CAHjBI,GAASkJ,EAGe,CAEjB,EAAEa,EAAYJ,GAAY,CAC/B,IAAIK,EAAON,CAAS,CAACK,EAAU,CAC3BtH,EAAWuH,EAAKvH,QAAQ,CACxBwH,EAAOD,EAAKC,IAAI,CAChBtH,EAAWF,EAAStD,GAExB,GAAI8K,GAAQnQ,EACVqF,EAAQwD,OACH,GAAI,CAACA,EAAU,CACpB,GAAIsH,GAAQpQ,EACV,SAASiQ,EAET,MAAMA,CAEV,CACF,CACA1I,CAAM,CAACiB,IAAW,CAAGlD,CACvB,CACA,OAAOiC,CACT,CAYA,SAAS8I,KACP,IAAI,CAACC,QAAQ,CAAG,CAAC,CACnB,CAWA,SAASC,GAAU7H,CAAG,EACpB,OAAO,IAAI,CAAC8H,GAAG,CAAC9H,IAAQ,OAAO,IAAI,CAAC4H,QAAQ,CAAC5H,EAAI,AACnD,CAWA,SAAS+H,GAAO/H,CAAG,EACjB,MAAOA,AAAO,aAAPA,EAAqB1J,EAAY,IAAI,CAACsR,QAAQ,CAAC5H,EAAI,AAC5D,CAWA,SAASgI,GAAOhI,CAAG,EACjB,MAAOA,AAAO,aAAPA,GAAsB4B,GAAeK,IAAI,CAAC,IAAI,CAAC2F,QAAQ,CAAE5H,EAClE,CAYA,SAASiI,GAAOjI,CAAG,CAAEpD,CAAK,EAIxB,MAHW,aAAPoD,GACF,KAAI,CAAC4H,QAAQ,CAAC5H,EAAI,CAAGpD,CAAI,EAEpB,IAAI,AACb,CAWA,SAASsL,GAASC,CAAM,EACtB,IAAI3K,EAAS2K,EAASA,EAAO3K,MAAM,CAAG,EAGtC,IADA,IAAI,CAACiK,IAAI,CAAG,CAAE,KAAQzE,GAAa,MAAO,IAAO,IAAIR,EAAI,EAClDhF,KACL,IAAI,CAAC4K,IAAI,CAACD,CAAM,CAAC3K,EAAO,CAE5B,CAWA,SAAS6K,GAAaC,CAAK,CAAE1L,CAAK,EAChC,IAAI6K,EAAOa,EAAMb,IAAI,CAGrB,MAAO5I,AAFM,CAAC,AAAgB,UAAhB,OAAOjC,GAAqB2L,GAAS3L,GAAU6K,EAAKe,GAAG,CAACV,GAAG,CAAClL,GAAS6K,EAAKgB,IAAI,CAAC7L,EAAM,AAAD,EAElF,EAAI,EACtB,CAUA,SAAS8L,GAAU9L,CAAK,EACtB,IAAI6K,EAAO,IAAI,CAACA,IAAI,AAChB,AAAgB,WAAhB,OAAO7K,GAAqB2L,GAAS3L,GACvC6K,EAAKe,GAAG,CAACG,GAAG,CAAC/L,GAEb6K,EAAKgB,IAAI,CAAC7L,EAAM,CAAG,EAEvB,CAYA,SAASgM,GAAYvL,CAAK,CAAER,CAAK,EAO/B,IANA,IAAIY,EAAQ,GACRD,EAASH,EAAMG,MAAM,CACrBqL,EAAW,GACXC,EAAYjM,EAAMW,MAAM,CACxBqB,EAAS8B,EAAMnD,EAASsL,GAErB,EAAErL,EAAQD,GACfqB,CAAM,CAACpB,EAAM,CAAGJ,CAAK,CAACI,EAAM,CAE9B,KAAO,EAAEoL,EAAWC,GAClBjK,CAAM,CAACpB,IAAQ,CAAGZ,CAAK,CAACgM,EAAS,CAEnC,OAAOhK,CACT,CAUA,SAAS0H,GAAU5M,CAAM,CAAE0D,CAAK,EAC9B,IAAII,EAAQ,GACRD,EAAS7D,EAAO6D,MAAM,CAG1B,IADAH,GAAUA,CAAAA,EAAQsD,EAAMnD,EAAM,EACvB,EAAEC,EAAQD,GACfH,CAAK,CAACI,EAAM,CAAG9D,CAAM,CAAC8D,EAAM,CAE9B,OAAOJ,CACT,CAWA,SAASwI,GAAUxI,CAAK,CAAE6C,CAAQ,EAIhC,IAHA,IAAIzC,EAAQ,GACRD,EAASH,EAAMG,MAAM,CAElB,EAAEC,EAAQD,GACX0C,AAAyC,KAAzCA,EAAS7C,CAAK,CAACI,EAAM,CAAEA,EAAOJ,KAIpC,OAAOA,CACT,CAWA,SAAS0L,GAAe1L,CAAK,CAAE6C,CAAQ,EAGrC,IAFA,IAAI1C,EAASH,EAAMG,MAAM,CAElBA,KACD0C,AAA2C,KAA3CA,EAAS7C,CAAK,CAACG,EAAO,CAAEA,EAAQH,KAItC,OAAOA,CACT,CAYA,SAAS2L,GAAW3L,CAAK,CAAEC,CAAS,EAIlC,IAHA,IAAIG,EAAQ,GACRD,EAASH,EAAMG,MAAM,CAElB,EAAEC,EAAQD,GACf,GAAI,CAACF,EAAUD,CAAK,CAACI,EAAM,CAAEA,EAAOJ,GAClC,MAAO,GAGX,MAAO,EACT,CAaA,SAAS4L,GAAc5L,CAAK,CAAE6C,CAAQ,CAAEgJ,CAAU,CAAEC,CAAO,EAMzD,IALA,IAAI1L,EAAQ,GACRD,EAASH,EAAMG,MAAM,CACrB4C,EAAW+I,EACXtK,EAASuB,EAEN,EAAE3C,EAAQD,GAAQ,CACvB,IAAIZ,EAAQS,CAAK,CAACI,EAAM,CACpB2L,EAAU,CAAClJ,EAAStD,GAEpBsM,EAAWE,EAAShJ,KACtBA,EAAWgJ,EACXvK,EAASjC,EAEb,CACA,OAAOiC,CACT,CAWA,SAASwK,GAAYhM,CAAK,CAAEC,CAAS,EAMnC,IALA,IAAIG,EAAQ,GACRD,EAASH,EAAMG,MAAM,CACrBsC,EAAW,GACXjB,EAAS,EAAE,CAER,EAAEpB,EAAQD,GAAQ,CACvB,IAAIZ,EAAQS,CAAK,CAACI,EAAM,CACpBH,EAAUV,EAAOa,EAAOJ,IAC1BwB,CAAAA,CAAM,CAAC,EAAEiB,EAAS,CAAGlD,CAAI,CAE7B,CACA,OAAOiC,CACT,CAWA,SAASyK,GAASjM,CAAK,CAAE6C,CAAQ,EAK/B,IAJA,IAAIzC,EAAQ,GACRD,EAASH,EAAMG,MAAM,CACrBqB,EAAS8B,EAAMnD,GAEZ,EAAEC,EAAQD,GACfqB,CAAM,CAACpB,EAAM,CAAGyC,EAAS7C,CAAK,CAACI,EAAM,CAAEA,EAAOJ,GAEhD,OAAOwB,CACT,CAUA,SAAS0K,GAAUlM,CAAK,CAAE8K,CAAM,EAK9B,IAJA,IAAI1K,EAAQ,GACRD,EAAS2K,EAAO3K,MAAM,CACtBgM,EAASnM,EAAMG,MAAM,CAElB,EAAEC,EAAQD,GACfH,CAAK,CAACmM,EAAS/L,EAAM,CAAG0K,CAAM,CAAC1K,EAAM,CAEvC,OAAOJ,CACT,CAcA,SAASoM,GAAYpM,CAAK,CAAE6C,CAAQ,CAAEwJ,CAAW,CAAEC,CAAa,EAC9D,IAAIlM,EAAQ,GACRD,EAASH,EAAMG,MAAM,CAKzB,IAHImM,GAAiBnM,GACnBkM,CAAAA,EAAcrM,CAAK,CAAC,EAAEI,EAAM,AAAD,EAEtB,EAAEA,EAAQD,GACfkM,EAAcxJ,EAASwJ,EAAarM,CAAK,CAACI,EAAM,CAAEA,EAAOJ,GAE3D,OAAOqM,CACT,CAcA,SAASE,GAAiBvM,CAAK,CAAE6C,CAAQ,CAAEwJ,CAAW,CAAEC,CAAa,EACnE,IAAInM,EAASH,EAAMG,MAAM,CAIzB,IAHImM,GAAiBnM,GACnBkM,CAAAA,EAAcrM,CAAK,CAAC,EAAEG,EAAO,AAAD,EAEvBA,KACLkM,EAAcxJ,EAASwJ,EAAarM,CAAK,CAACG,EAAO,CAAEA,EAAQH,GAE7D,OAAOqM,CACT,CAYA,SAASG,GAAUxM,CAAK,CAAEC,CAAS,EAIjC,IAHA,IAAIG,EAAQ,GACRD,EAASH,EAAMG,MAAM,CAElB,EAAEC,EAAQD,GACf,GAAIF,EAAUD,CAAK,CAACI,EAAM,CAAEA,EAAOJ,GACjC,MAAO,GAGX,MAAO,EACT,CAWA,SAASyM,GAASzM,CAAK,CAAE6C,CAAQ,EAI/B,IAHA,IAAI1C,EAASH,EAAMG,MAAM,CACrBqB,EAAS,EAENrB,KACLqB,GAAU,CAACqB,EAAS7C,CAAK,CAACG,EAAO,GAAK,EAExC,OAAOqB,CACT,CAUA,SAASkL,GAAeC,CAAW,CAAEC,CAAW,EAC9C,OAAOD,AAAgB1T,IAAhB0T,EAA4BC,EAAcD,CACnD,CAeA,SAASE,GAAkBF,CAAW,CAAEC,CAAW,CAAEjK,CAAG,CAAE1B,CAAM,EAC9D,OAAO,AAAC0L,AAAgB1T,IAAhB0T,GAA8BpI,GAAeK,IAAI,CAAC3D,EAAQ0B,GAE9DgK,EADAC,CAEN,CAaA,SAASE,GAAW7L,CAAM,CAAE3E,CAAM,CAAEyQ,CAAU,EAK5C,IAJA,IAAI3M,EAAQ,GACRsI,EAAQsE,GAAK1Q,GACb6D,EAASuI,EAAMvI,MAAM,CAElB,EAAEC,EAAQD,GAAQ,CACvB,IAAIwC,EAAM+F,CAAK,CAACtI,EAAM,CAClBb,EAAQ0B,CAAM,CAAC0B,EAAI,CACnBnB,EAASuL,EAAWxN,EAAOjD,CAAM,CAACqG,EAAI,CAAEA,EAAK1B,EAAQ3E,GAErD,CAACkF,CAAAA,GAAWA,EAAUA,IAAWjC,EAAUA,GAAUA,CAAK,GACzDA,AAAUtG,IAAVsG,GAAuB,CAAEoD,CAAAA,KAAO1B,CAAK,CAAE,GAC1CA,CAAAA,CAAM,CAAC0B,EAAI,CAAGnB,CAAK,CAEvB,CACA,OAAOP,CACT,CAWA,SAASgM,GAAWhM,CAAM,CAAE3E,CAAM,EAChC,OAAOA,AAAU,MAAVA,EACH2E,EACAiM,GAAS5Q,EAAQ0Q,GAAK1Q,GAAS2E,EACrC,CAWA,SAASkM,GAAOC,CAAU,CAAE1E,CAAK,EAQ/B,IAPA,IAAItI,EAAQ,GACRiN,EAAQD,AAAc,MAAdA,EACR7D,EAAQ,CAAC8D,GAASC,GAAYF,GAC9BjN,EAASoJ,EAAQ6D,EAAWjN,MAAM,CAAG,EACrCoN,EAAc7E,EAAMvI,MAAM,CAC1BqB,EAAS8B,EAAMiK,GAEb,EAAEnN,EAAQmN,GAAa,CAC3B,IAAI5K,EAAM+F,CAAK,CAACtI,EAAM,CAClBmJ,EACF/H,CAAM,CAACpB,EAAM,CAAGoN,GAAQ7K,EAAKxC,GAAUiN,CAAU,CAACzK,EAAI,CAAG1J,EAEzDuI,CAAM,CAACpB,EAAM,CAAGiN,EAAQpU,EAAYmU,CAAU,CAACzK,EAAI,AAEvD,CACA,OAAOnB,CACT,CAWA,SAAS0L,GAAS5Q,CAAM,CAAEoM,CAAK,CAAEzH,CAAM,EACrCA,GAAWA,CAAAA,EAAS,CAAC,GAKrB,IAHA,IAAIb,EAAQ,GACRD,EAASuI,EAAMvI,MAAM,CAElB,EAAEC,EAAQD,GAAQ,CACvB,IAAIwC,EAAM+F,CAAK,CAACtI,EAAM,AACtBa,CAAAA,CAAM,CAAC0B,EAAI,CAAGrG,CAAM,CAACqG,EAAI,AAC3B,CACA,OAAO1B,CACT,CAYA,SAASwM,GAAaC,CAAI,CAAEC,CAAO,CAAEC,CAAQ,EAC3C,IAAIvD,EAAO,OAAOqD,QAClB,AAAIrD,AAAQ,YAARA,EACKsD,AAAY1U,IAAZ0U,EACHD,EACAG,GAAaH,EAAMC,EAASC,GAE9BF,AAAQ,MAARA,EACKI,GAELzD,AAAQ,UAARA,EACK0D,GAAYL,GAEdC,AAAY1U,IAAZ0U,EACHK,GAASN,GACTO,GAAoBP,EAAMC,EAChC,CAgBA,SAASO,GAAU3O,CAAK,CAAE4O,CAAM,CAAEpB,CAAU,CAAEpK,CAAG,CAAE1B,CAAM,CAAEmN,CAAM,CAAEC,CAAM,EAKvE,GAHItB,GACFvL,CAAAA,EAASP,EAAS8L,EAAWxN,EAAOoD,EAAK1B,GAAU8L,EAAWxN,EAAK,EAEjEiC,AAAWvI,IAAXuI,EACF,OAAOA,EAET,GAAI,CAAC0J,GAAS3L,GACZ,OAAOA,EAET,IAVIiC,EAUA+H,EAAQzB,GAAQvI,GACpB,GAAIgK,EAEF,IADA/H,EAAS8M,GAAe/O,GACpB,CAAC4O,EACH,OAAOjF,GAAU3J,EAAOiC,EAC1B,KACK,CACL,IAAIiH,EAAMhE,GAAYG,IAAI,CAACrF,GACvBgP,EAAS9F,GAAO5N,EAEpB,GAAI4N,GAAOzN,GAAayN,GAAOpO,GAAYkU,CAAAA,CAAAA,GAAWtN,CAAK,EASzD,OAAOhD,EAAa,CAACwK,EAAI,CACrB+F,GAAejP,EAAOkJ,EAAK0F,GAC1BlN,EAAS1B,EAAQ,CAAC,EAVvB,GAAI2C,GAAa3C,GACf,OAAO0B,EAAS1B,EAAQ,CAAC,EAG3B,GADAiC,EAASiN,GAAgBF,EAAS,CAAC,EAAIhP,GACnC,CAAC4O,EACH,OAAOlB,GAAWzL,EAAQjC,EAOhC,CAEA6O,GAAWA,CAAAA,EAAS,EAAE,AAAD,EACrBC,GAAWA,CAAAA,EAAS,EAAE,AAAD,EAGrB,IADA,IAAIlO,EAASiO,EAAOjO,MAAM,CACnBA,KACL,GAAIiO,CAAM,CAACjO,EAAO,EAAIZ,EACpB,OAAO8O,CAAM,CAAClO,EAAO,CAWzB,OAPAiO,EAAOrD,IAAI,CAACxL,GACZ8O,EAAOtD,IAAI,CAACvJ,GAGZ,AAAC+H,CAAAA,EAAQf,GAAYkG,EAAS,EAAGnP,EAAO,SAASoP,CAAQ,CAAEhM,CAAG,EAC5DnB,CAAM,CAACmB,EAAI,CAAGuL,GAAUS,EAAUR,EAAQpB,EAAYpK,EAAKpD,EAAO6O,EAAQC,EAC5E,GACO7M,CACT,EAn3BC,SAASoN,CAAC,EACT,IAAIC,EAAO,WAAa,IAAI,CAACD,CAAC,CA0E9B,CA1EoC,EAChC3N,EAAS,CAAE,EAAK2N,EAAG,OAAUA,CAAE,EAC/BlG,EAAQ,EAAE,CAGd,IAAK,IAAI/F,KADTkM,EAAK3K,SAAS,CAAG,CAAE,QAAW0K,EAAG,EAAKA,CAAE,EACxB,IAAIC,EAAQnG,EAAMqC,IAAI,CAACpI,EASvCgG,CAAAA,GAAQmG,cAAc,CAAG5J,GAAqBN,IAAI,CAACT,GAAY,YAC7De,GAAqBN,IAAI,CAACT,GAAY,QAaxCwE,GAAQoG,cAAc,CAAG7J,GAAqBN,IAAI,CAACiK,EAAM,aAWzDlG,GAAQqG,cAAc,CAAG,CAAC,UAAUC,IAAI,CAACvG,GAQzCC,GAAQuG,OAAO,CAAGxG,AAAY,KAAZA,CAAK,CAAC,EAAE,CAe1BC,GAAQwG,aAAa,CAAI7J,CAAAA,GAAOV,IAAI,CAAC3D,EAAQ,EAAG,GAAI,CAACA,CAAM,CAAC,EAAE,AAAD,EAW7D0H,GAAQyG,cAAc,CAAG,AAAC,IAASrQ,GAAO,IAAI,CAAC,EAAE,EAAK,IACxD,EAAE,EAAG,GAWL8I,GAAOwH,gBAAgB,CAAG,CAQxB,OAAU7S,GAQV,SAAYC,GAQZ,YAAeC,GAQf,SAAY,GAQZ,QAAW,CAQT,EAAKmL,EACP,CACF,EAqvBA,IAAIyH,GAAc,WAChB,SAASrO,IAAU,CACnB,OAAO,SAASiD,CAAS,EACvB,GAAIgH,GAAShH,GAAY,CACvBjD,EAAOiD,SAAS,CAAGA,EACnB,IAAI1C,EAAS,IAAIP,CACjBA,CAAAA,EAAOiD,SAAS,CAAGjL,CACrB,CACA,OAAOuI,GAAU,CAAC,CACpB,CACF,IAYA,SAAS+N,GAAU7B,CAAI,CAAE8B,CAAI,CAAEC,CAAI,EACjC,GAAI,AAAe,YAAf,OAAO/B,EACT,MAAM,IAAI1J,GAAU7J,GAEtB,OAAOkL,GAAW,WAAaqI,EAAKgC,KAAK,CAACzW,EAAWwW,EAAO,EAAGD,EACjE,CAWA,SAASG,GAAe3P,CAAK,CAAE8K,CAAM,EACnC,IAAI3K,EAASH,EAAQA,EAAMG,MAAM,CAAG,EAChCqB,EAAS,EAAE,CAEf,GAAI,CAACrB,EACH,OAAOqB,EAET,IAAIpB,EAAQ,GACRS,EAAU+O,KACVC,EAAWhP,IAAYR,GACvB4K,EAAQ,AAAC4E,GAAY/E,EAAO3K,MAAM,EAAInG,EAAoB8V,GAAYhF,GAAU,KAChFiF,EAAejF,EAAO3K,MAAM,CAE5B8K,IACFpK,EAAUmK,GACV6E,EAAW,GACX/E,EAASG,GAEXf,EACA,KAAO,EAAE9J,EAAQD,GAAQ,CACvB,IAAIZ,EAAQS,CAAK,CAACI,EAAM,CAExB,GAAIyP,GAAYtQ,GAAUA,EAAO,CAE/B,IADA,IAAIyQ,EAAcD,EACXC,KACL,GAAIlF,CAAM,CAACkF,EAAY,GAAKzQ,EAC1B,SAAS2K,EAGb1I,EAAOuJ,IAAI,CAACxL,EACd,MACqC,EAA5BsB,EAAQiK,EAAQvL,EAAO,IAC9BiC,EAAOuJ,IAAI,CAACxL,EAEhB,CACA,OAAOiC,CACT,CAWA,IAAIyO,GAAWC,GAAexB,IAW1ByB,GAAgBD,GAAeE,GAAiB,IAYpD,SAASC,GAAUjD,CAAU,CAAEnN,CAAS,EACtC,IAAIuB,EAAS,GAKb,OAJAyO,GAAS7C,EAAY,SAAS7N,CAAK,CAAEa,CAAK,CAAEgN,CAAU,EAEpD,OADA5L,EAAS,CAAC,CAACvB,EAAUV,EAAOa,EAAOgN,EAErC,GACO5L,CACT,CAcA,SAAS8O,GAAalD,CAAU,CAAEvK,CAAQ,CAAEgJ,CAAU,CAAEC,CAAO,EAC7D,IAAI/I,EAAW+I,EACXtK,EAASuB,EASb,OAPAkN,GAAS7C,EAAY,SAAS7N,CAAK,CAAEa,CAAK,CAAEgN,CAAU,EACpD,IAAIrB,EAAU,CAAClJ,EAAStD,EAAOa,EAAOgN,GAClCvB,CAAAA,EAAWE,EAAShJ,IAAcgJ,IAAYD,GAAWC,IAAYvK,CAAM,IAC7EuB,EAAWgJ,EACXvK,EAASjC,EAEb,GACOiC,CACT,CAYA,SAAS+O,GAASvQ,CAAK,CAAET,CAAK,CAAEqK,CAAK,CAAEC,CAAG,EACxC,IAAI1J,EAASH,EAAMG,MAAM,CAazB,IAXAyJ,CAAAA,EAAQA,AAAS,MAATA,EAAgB,EAAK,CAACA,GAAS,CAAC,EAC5B,GACVA,CAAAA,EAAQ,CAACA,EAAQzJ,EAAS,EAAKA,EAASyJ,CAAK,EAE/CC,CAAAA,EAAM,AAACA,AAAQ5Q,IAAR4Q,GAAqBA,EAAM1J,EAAUA,EAAU,CAAC0J,GAAO,CAAC,EACrD,GACRA,CAAAA,GAAO1J,CAAK,EAEdA,EAASyJ,EAAQC,EAAM,EAAKA,IAAQ,EACpCD,KAAW,EAEJA,EAAQzJ,GACbH,CAAK,CAAC4J,IAAQ,CAAGrK,EAEnB,OAAOS,CACT,CAWA,SAASwQ,GAAWpD,CAAU,CAAEnN,CAAS,EACvC,IAAIuB,EAAS,EAAE,CAMf,OALAyO,GAAS7C,EAAY,SAAS7N,CAAK,CAAEa,CAAK,CAAEgN,CAAU,EAChDnN,EAAUV,EAAOa,EAAOgN,IAC1B5L,EAAOuJ,IAAI,CAACxL,EAEhB,GACOiC,CACT,CAeA,SAASiP,GAASrD,CAAU,CAAEnN,CAAS,CAAEyQ,CAAQ,CAAEC,CAAM,EACvD,IAAInP,EAOJ,OANAkP,EAAStD,EAAY,SAAS7N,CAAK,CAAEoD,CAAG,CAAEyK,CAAU,EAClD,GAAInN,EAAUV,EAAOoD,EAAKyK,GAExB,OADA5L,EAASmP,EAAShO,EAAMpD,EACjB,EAEX,GACOiC,CACT,CAaA,SAASoP,GAAY5Q,CAAK,CAAEmO,CAAM,CAAE0C,CAAQ,CAAErP,CAAM,EAClDA,GAAWA,CAAAA,EAAS,EAAE,AAAD,EAKrB,IAHA,IAAIpB,EAAQ,GACRD,EAASH,EAAMG,MAAM,CAElB,EAAEC,EAAQD,GAAQ,CACvB,IAAIZ,EAAQS,CAAK,CAACI,EAAM,AACpBgC,CAAAA,GAAa7C,IAAU+N,GAAY/N,IAClCsR,CAAAA,GAAY/I,GAAQvI,IAAUuR,GAAYvR,EAAK,EAC9C4O,EAEFyC,GAAYrR,EAAO4O,EAAQ0C,EAAUrP,GAErC0K,GAAU1K,EAAQjC,GAEX,CAACsR,GACVrP,CAAAA,CAAM,CAACA,EAAOrB,MAAM,CAAC,CAAGZ,CAAI,CAEhC,CACA,OAAOiC,CACT,CAcA,IAAIuP,GAAUC,KAYVC,GAAeD,GAAc,IAWjC,SAASE,GAAUjQ,CAAM,CAAE4B,CAAQ,EACjC,OAAOkO,GAAQ9P,EAAQ4B,EAAUsO,GACnC,CAWA,SAASzC,GAAWzN,CAAM,CAAE4B,CAAQ,EAClC,OAAOkO,GAAQ9P,EAAQ4B,EAAUmK,GACnC,CAWA,SAASoD,GAAgBnP,CAAM,CAAE4B,CAAQ,EACvC,OAAOoO,GAAahQ,EAAQ4B,EAAUmK,GACxC,CAWA,SAASoE,GAAcnQ,CAAM,CAAEyH,CAAK,EAMlC,IALA,IAAItI,EAAQ,GACRD,EAASuI,EAAMvI,MAAM,CACrBsC,EAAW,GACXjB,EAAS,EAAE,CAER,EAAEpB,EAAQD,GAAQ,CACvB,IAAIwC,EAAM+F,CAAK,CAACtI,EAAM,CAClBiR,GAAWpQ,CAAM,CAAC0B,EAAI,GACxBnB,CAAAA,CAAM,CAAC,EAAEiB,EAAS,CAAGE,CAAE,CAE3B,CACA,OAAOnB,CACT,CAYA,SAAS8P,GAAQrQ,CAAM,CAAEsQ,CAAI,CAAEC,CAAO,EACpC,GAAIvQ,AAAU,MAAVA,GAGJA,EAASwQ,GAASxQ,GACFhI,IAAZuY,GAAyBA,KAAWvQ,GACtCsQ,CAAAA,EAAO,CAACC,EAAQ,AAAD,EAKjB,IAHA,IAAIpR,EAAQ,EACRD,EAASoR,EAAKpR,MAAM,CAEjBc,AAAU,MAAVA,GAAkBb,EAAQD,GAC/Bc,EAASwQ,GAASxQ,EAAO,CAACsQ,CAAI,CAACnR,IAAQ,CAAC,CAE1C,OAAO,AAACA,GAASA,GAASD,EAAUc,EAAShI,EAC/C,CAeA,SAASyY,GAAYnS,CAAK,CAAEC,CAAK,CAAEuN,CAAU,CAAE4E,CAAO,CAAEvD,CAAM,CAAEC,CAAM,SACpE,AAAI9O,IAAUC,IAGVD,AAAS,MAATA,GAAiBC,AAAS,MAATA,GAAkB,CAAC0L,GAAS3L,IAAW6C,GAAa5C,EAAK,EAGvEoS,GAAgBrS,EAAOC,EAAOkS,GAAa3E,EAAY4E,EAASvD,EAAQC,GAFtE9O,GAAUA,GAASC,GAAUA,EAGxC,CAiBA,SAASoS,GAAgB3Q,CAAM,CAAEzB,CAAK,CAAEqS,CAAS,CAAE9E,CAAU,CAAE4E,CAAO,CAAEvD,CAAM,CAAEC,CAAM,EACpF,IAAIyD,EAAWhK,GAAQ7G,GACnB8Q,EAAWjK,GAAQtI,GACnBwS,EAAS1X,EACT2X,EAAS3X,CAET,EAACwX,IAECE,AADJA,CAAAA,EAASvN,GAAYG,IAAI,CAAC3D,EAAM,GAClB5G,EACZ2X,EAAShX,EACAgX,GAAUhX,GACnB8W,CAAAA,EAAWI,GAAajR,EAAM,GAG9B,CAAC8Q,IAECE,AADJA,CAAAA,EAASxN,GAAYG,IAAI,CAACpF,EAAK,GACjBnF,EACZ4X,EAASjX,EACAiX,GAAUjX,GACnB+W,CAAAA,EAAWG,GAAa1S,EAAK,GAGjC,IAAI2S,EAAWH,GAAUhX,GAAa,CAACkH,GAAajB,GAChDmR,EAAWH,GAAUjX,GAAa,CAACkH,GAAa1C,GAChD6S,EAAYL,GAAUC,EAE1B,GAAII,GAAa,CAAEP,CAAAA,GAAYK,CAAO,EACpC,OAAOG,GAAWrR,EAAQzB,EAAOwS,GAEnC,GAAI,CAACL,EAAS,CACZ,IAAIY,EAAeJ,GAAY5N,GAAeK,IAAI,CAAC3D,EAAQ,eACvDuR,EAAeJ,GAAY7N,GAAeK,IAAI,CAACpF,EAAO,eAE1D,GAAI+S,GAAgBC,EAClB,OAAOX,EAAUU,EAAetR,EAAO1B,KAAK,GAAK0B,EAAQuR,EAAehT,EAAMD,KAAK,GAAKC,EAAOuN,EAAY4E,EAASvD,EAAQC,EAEhI,CACA,GAAI,CAACgE,EACH,MAAO,EAITjE,CAAAA,GAAWA,CAAAA,EAAS,EAAE,AAAD,EACrBC,GAAWA,CAAAA,EAAS,EAAE,AAAD,EAGrB,IADA,IAAIlO,EAASiO,EAAOjO,MAAM,CACnBA,KACL,GAAIiO,CAAM,CAACjO,EAAO,EAAIc,EACpB,OAAOoN,CAAM,CAAClO,EAAO,EAAIX,EAI7B4O,EAAOrD,IAAI,CAAC9J,GACZoN,EAAOtD,IAAI,CAACvL,GAEZ,IAAIgC,EAAS,AAACsQ,CAAAA,EAAWW,GAAcC,EAAW,EAAGzR,EAAQzB,EAAOqS,EAAW9E,EAAY4E,EAASvD,EAAQC,GAK5G,OAHAD,EAAOuE,GAAG,GACVtE,EAAOsE,GAAG,GAEHnR,CACT,CAYA,SAASoR,GAAY3R,CAAM,CAAE4R,CAAS,CAAE9F,CAAU,EAChD,IAAI3M,EAAQyS,EAAU1S,MAAM,CACxBA,EAASC,EACT0S,EAAe,CAAC/F,EAEpB,GAAI9L,AAAU,MAAVA,EACF,MAAO,CAACd,EAGV,IADAc,EAASwQ,GAASxQ,GACXb,KAAS,CACd,IAAIgK,EAAOyI,CAAS,CAACzS,EAAM,CAC3B,GAAI,AAAC0S,GAAgB1I,CAAI,CAAC,EAAE,CACpBA,CAAI,CAAC,EAAE,GAAKnJ,CAAM,CAACmJ,CAAI,CAAC,EAAE,CAAC,CAC3B,CAAEA,CAAAA,CAAI,CAAC,EAAE,GAAInJ,CAAK,EAExB,MAAO,EAEX,CACA,KAAO,EAAEb,EAAQD,GAAQ,CAEvB,IAAIwC,EAAMyH,AADVA,CAAAA,EAAOyI,CAAS,CAACzS,EAAM,AAAD,CACR,CAAC,EAAE,CACb2S,EAAW9R,CAAM,CAAC0B,EAAI,CACtBqQ,EAAW5I,CAAI,CAAC,EAAE,CAEtB,GAAI0I,GAAgB1I,CAAI,CAAC,EAAE,CACzB,IAAI2I,AAAa9Z,IAAb8Z,GAA0B,CAAEpQ,CAAAA,KAAO1B,CAAK,EAC1C,MAAO,EACT,KACK,CACL,IAAIO,EAASuL,EAAaA,EAAWgG,EAAUC,EAAUrQ,GAAO1J,EAChE,GAAI,CAAEuI,CAAAA,AAAWvI,IAAXuI,EAAuBkQ,GAAYsB,EAAUD,EAAUhG,EAAY,IAAQvL,CAAK,EACpF,MAAO,EAEX,CACF,CACA,MAAO,EACT,CAWA,SAASyR,GAAQ7F,CAAU,CAAEvK,CAAQ,EACnC,IAAIzC,EAAQ,GACRoB,EAAS8L,GAAYF,GAAc9J,EAAM8J,EAAWjN,MAAM,EAAI,EAAE,CAKpE,OAHA8P,GAAS7C,EAAY,SAAS7N,CAAK,CAAEoD,CAAG,CAAEyK,CAAU,EAClD5L,CAAM,CAAC,EAAEpB,EAAM,CAAGyC,EAAStD,EAAOoD,EAAKyK,EACzC,GACO5L,CACT,CASA,SAASuM,GAAYzR,CAAM,EACzB,IAAIuW,EAAYK,GAAa5W,GAC7B,GAAIuW,AAAoB,GAApBA,EAAU1S,MAAM,EAAS0S,CAAS,CAAC,EAAE,CAAC,EAAE,CAAE,CAC5C,IAAIlQ,EAAMkQ,CAAS,CAAC,EAAE,CAAC,EAAE,CACrBtT,EAAQsT,CAAS,CAAC,EAAE,CAAC,EAAE,CAE3B,OAAO,SAAS5R,CAAM,SACpB,AAAc,MAAVA,GAIGA,AADPA,CAAAA,EAASwQ,GAASxQ,EAAM,CACX,CAAC0B,EAAI,GAAKpD,GAAUA,CAAAA,AAAUtG,IAAVsG,GAAwBoD,KAAO1B,CAAM,CACxE,CACF,CACA,OAAO,SAASA,CAAM,EACpB,OAAO2R,GAAY3R,EAAQ4R,EAC7B,CACF,CAUA,SAAS5E,GAAoBsD,CAAI,CAAEyB,CAAQ,EACzC,IAAIzJ,EAAQzB,GAAQyJ,GAChB1B,EAAWsD,GAAM5B,IAAS6B,GAAmBJ,GAC7CxB,EAAWD,EAAO,GAGtB,OADAA,EAAO8B,GAAO9B,GACP,SAAStQ,CAAM,EACpB,GAAIA,AAAU,MAAVA,EACF,MAAO,GAET,IAAI0B,EAAM6O,EAEV,GADAvQ,EAASwQ,GAASxQ,GACd,AAACsI,CAAAA,GAAS,CAACsG,CAAO,GAAM,CAAElN,CAAAA,KAAO1B,CAAK,EAAI,CAE5C,GAAIA,AAAU,MADdA,CAAAA,EAASsQ,AAAe,GAAfA,EAAKpR,MAAM,CAAQc,EAASqQ,GAAQrQ,EAAQqS,GAAU/B,EAAM,EAAG,IAAG,EAEzE,MAAO,GAET5O,EAAM4Q,GAAKhC,GACXtQ,EAASwQ,GAASxQ,EACpB,CACA,OAAOA,CAAM,CAAC0B,EAAI,GAAKqQ,EAClBA,AAAa/Z,IAAb+Z,GAA2BrQ,KAAO1B,EACnCyQ,GAAYsB,EAAU/R,CAAM,CAAC0B,EAAI,CAAE1J,EAAW,GACpD,CACF,CAcA,SAASua,GAAUvS,CAAM,CAAE3E,CAAM,CAAEyQ,CAAU,CAAEqB,CAAM,CAAEC,CAAM,EAC3D,GAAI,CAACnD,GAASjK,GACZ,OAAOA,EAET,IAAIwS,EAAWnG,GAAYhR,IAAYwL,CAAAA,GAAQxL,IAAW4V,GAAa5V,EAAM,EACzEoM,EAAQ+K,EAAWxa,EAAY+T,GAAK1Q,GA0BxC,OAxBAkM,GAAUE,GAASpM,EAAQ,SAAS0W,CAAQ,CAAErQ,CAAG,EAK/C,GAJI+F,GAEFsK,CAAAA,EAAW1W,CAAM,CADjBqG,EAAMqQ,EACgB,AAAD,EAEnB5Q,GAAa4Q,GACf5E,GAAWA,CAAAA,EAAS,EAAE,AAAD,EACrBC,GAAWA,CAAAA,EAAS,EAAE,AAAD,EACrBqF,GAAczS,EAAQ3E,EAAQqG,EAAK6Q,GAAWzG,EAAYqB,EAAQC,OAE/D,CACH,IAAI9O,EAAQ0B,CAAM,CAAC0B,EAAI,CACnBnB,EAASuL,EAAaA,EAAWxN,EAAOyT,EAAUrQ,EAAK1B,EAAQ3E,GAAUrD,EACzE4W,EAAWrO,AAAWvI,IAAXuI,EAEXqO,GACFrO,CAAAA,EAASwR,CAAO,EAEbxR,CAAAA,AAAWvI,IAAXuI,GAAyBiS,GAAY,CAAE9Q,CAAAA,KAAO1B,CAAK,CAAE,GACrD4O,CAAAA,GAAarO,CAAAA,GAAWA,EAAUA,IAAWjC,EAAUA,GAAUA,CAAK,CAAC,GAC1E0B,CAAAA,CAAM,CAAC0B,EAAI,CAAGnB,CAAK,CAEvB,CACF,GACOP,CACT,CAiBA,SAASyS,GAAczS,CAAM,CAAE3E,CAAM,CAAEqG,CAAG,CAAEgR,CAAS,CAAE5G,CAAU,CAAEqB,CAAM,CAAEC,CAAM,EAK/E,IAJA,IAAIlO,EAASiO,EAAOjO,MAAM,CAEtB6S,EAAWtQ,GAAQpG,EAAQqG,GAExBxC,KACL,GAAIiO,CAAM,CAACjO,EAAO,EAAI6S,EAAU,CAC9B/R,CAAM,CAAC0B,EAAI,CAAG0L,CAAM,CAAClO,EAAO,CAC5B,MACF,CAEF,IAAIZ,EAAQmD,GAAQzB,EAAQ0B,GACxBnB,EAASuL,EAAaA,EAAWxN,EAAOyT,EAAUrQ,EAAK1B,EAAQ3E,GAAUrD,EACzE4W,EAAWrO,AAAWvI,IAAXuI,EAEXqO,IACFrO,EAASwR,EACL1F,GAAY0F,IAAclL,CAAAA,GAAQkL,IAAad,GAAac,EAAQ,EACtExR,EAASsG,GAAQvI,GACbA,EACC+N,GAAY/N,GAAS2J,GAAU3J,GAAS,EAAE,CAExCqU,GAAcZ,IAAalC,GAAYkC,GAC9CxR,EAASsP,GAAYvR,GACjBsU,GAActU,GACbqU,GAAcrU,GAASA,EAAQ,CAAC,EAGrCsQ,EAAW,IAKfzB,EAAOrD,IAAI,CAACiI,GACZ3E,EAAOtD,IAAI,CAACvJ,GAERqO,EAEF5O,CAAM,CAAC0B,EAAI,CAAGgR,EAAUnS,EAAQwR,EAAUjG,EAAYqB,EAAQC,GACrD7M,CAAAA,GAAWA,EAAUA,IAAWjC,EAAUA,GAAUA,CAAK,GAClE0B,CAAAA,CAAM,CAAC0B,EAAI,CAAGnB,CAAK,CAEvB,CASA,SAASsS,GAAanR,CAAG,EACvB,OAAO,SAAS1B,CAAM,EACpB,OAAOA,AAAU,MAAVA,EAAiBhI,EAAYwY,GAASxQ,EAAO,CAAC0B,EAAI,AAC3D,CACF,CASA,SAASoR,GAAiBxC,CAAI,EAC5B,IAAIC,EAAWD,EAAO,GAEtB,OADAA,EAAO8B,GAAO9B,GACP,SAAStQ,CAAM,EACpB,OAAOqQ,GAAQrQ,EAAQsQ,EAAMC,EAC/B,CACF,CAWA,SAASwC,GAAWhU,CAAK,CAAEiU,CAAO,EAEhC,IADA,IAAI9T,EAASH,EAAQiU,EAAQ9T,MAAM,CAAG,EAC/BA,KAAU,CACf,IAAIC,EAAQ6T,CAAO,CAAC9T,EAAO,CAC3B,GAAIC,GAAS8T,GAAY1G,GAAQpN,GAAQ,CACvC,IAAI8T,EAAW9T,EACfkF,GAAOV,IAAI,CAAC5E,EAAOI,EAAO,EAC5B,CACF,CACA,OAAOJ,CACT,CAWA,SAASmU,GAAW9N,CAAG,CAAEF,CAAG,EAC1B,OAAOE,EAAMT,GAAYa,KAAkBN,CAAAA,EAAME,EAAM,GACzD,CAgBA,SAAS+N,GAAWhH,CAAU,CAAEvK,CAAQ,CAAEwJ,CAAW,CAAEgI,CAAkB,CAAE3D,CAAQ,EAMjF,OALAA,EAAStD,EAAY,SAAS7N,CAAK,CAAEa,CAAK,CAAEgN,CAAU,EACpDf,EAAcgI,EACTA,CAAAA,EAAqB,GAAO9U,CAAI,EACjCsD,EAASwJ,EAAa9M,EAAOa,EAAOgN,EAC1C,GACOf,CACT,CAUA,IAAIiI,GAAc,AAACrN,GAAqB,SAASyG,CAAI,CAAEtD,CAAI,EAEzD,OADAnD,GAAQkE,GAAG,CAACuC,EAAMtD,GACXsD,CACT,EAH6BI,GAc7B,SAASwF,GAAUtT,CAAK,CAAE4J,CAAK,CAAEC,CAAG,EAClC,IAAIzJ,EAAQ,GACRD,EAASH,EAAMG,MAAM,CAEzByJ,CAAAA,EAAQA,AAAS,MAATA,EAAgB,EAAK,CAACA,GAAS,CAAC,EAC5B,GACVA,CAAAA,EAAQ,CAACA,EAAQzJ,EAAS,EAAKA,EAASyJ,CAAK,EAE/CC,CAAAA,EAAM,AAACA,AAAQ5Q,IAAR4Q,GAAqBA,EAAM1J,EAAUA,EAAU,CAAC0J,GAAO,CAAC,EACrD,GACRA,CAAAA,GAAO1J,CAAK,EAEdA,EAASyJ,EAAQC,EAAM,EAAK,AAACA,EAAMD,IAAW,EAC9CA,KAAW,EAGX,IADA,IAAIpI,EAAS8B,EAAMnD,GACZ,EAAEC,EAAQD,GACfqB,CAAM,CAACpB,EAAM,CAAGJ,CAAK,CAACI,EAAQwJ,EAAM,CAEtC,OAAOpI,CACT,CAYA,SAAS+S,GAASnH,CAAU,CAAEnN,CAAS,EACrC,IAAIuB,EAMJ,OAJAyO,GAAS7C,EAAY,SAAS7N,CAAK,CAAEa,CAAK,CAAEgN,CAAU,EAEpD,MAAO,CADP5L,CAAAA,EAASvB,EAAUV,EAAOa,EAAOgN,EAAU,CAE7C,GACO,CAAC,CAAC5L,CACX,CAYA,SAASgT,GAAWxU,CAAK,CAAEyU,CAAQ,EACjC,IAAItU,EAASH,EAAMG,MAAM,CAGzB,IADAH,EAAM0U,IAAI,CAACD,GACJtU,KACLH,CAAK,CAACG,EAAO,CAAGH,CAAK,CAACG,EAAO,CAACZ,KAAK,CAErC,OAAOS,CACT,CAWA,SAAS2U,GAAgBvH,CAAU,CAAEtD,CAAS,CAAE1I,CAAM,EACpD,IAAIwT,EAAWC,KACXzU,EAAQ,GASZ,OAPA0J,EAAYmC,GAASnC,EAAW,SAASjH,CAAQ,EAAI,OAAO+R,EAAS/R,EAAW,GAOzE2R,GALMvB,GAAQ7F,EAAY,SAAS7N,CAAK,EAE7C,MAAO,CAAE,SADM0M,GAASnC,EAAW,SAASjH,CAAQ,EAAI,OAAOA,EAAStD,EAAQ,GACjD,MAAS,EAAEa,EAAO,MAASb,CAAM,CAClE,GAE0B,SAAS0B,CAAM,CAAEzB,CAAK,EAC9C,OAAO2B,GAAgBF,EAAQzB,EAAO4B,EACxC,EACF,CAWA,SAAS0T,GAAQ1H,CAAU,CAAEvK,CAAQ,EACnC,IAAIrB,EAAS,EAIb,OAHAyO,GAAS7C,EAAY,SAAS7N,CAAK,CAAEa,CAAK,CAAEgN,CAAU,EACpD5L,GAAU,CAACqB,EAAStD,EAAOa,EAAOgN,IAAe,CACnD,GACO5L,CACT,CAWA,SAASuT,GAAS/U,CAAK,CAAE6C,CAAQ,EAC/B,IAAIzC,EAAQ,GACRS,EAAU+O,KACVzP,EAASH,EAAMG,MAAM,CACrB0P,EAAWhP,IAAYR,GACvB2U,EAAUnF,GAAY1P,GAAUnG,EAChC8I,EAAOkS,EAAUlF,KAAgB,KACjCtO,EAAS,EAAE,CAEXsB,GACFjC,EAAUmK,GACV6E,EAAW,KAEXmF,EAAU,GACVlS,EAAOD,EAAW,EAAE,CAAGrB,GAEzB0I,EACA,KAAO,EAAE9J,EAAQD,GAAQ,CACvB,IAAIZ,EAAQS,CAAK,CAACI,EAAM,CACpB2C,EAAWF,EAAWA,EAAStD,EAAOa,EAAOJ,GAAST,EAE1D,GAAIsQ,GAAYtQ,GAAUA,EAAO,CAE/B,IADA,IAAI0V,EAAYnS,EAAK3C,MAAM,CACpB8U,KACL,GAAInS,CAAI,CAACmS,EAAU,GAAKlS,EACtB,SAASmH,EAGTrH,GACFC,EAAKiI,IAAI,CAAChI,GAEZvB,EAAOuJ,IAAI,CAACxL,EACd,MACsC,EAA7BsB,EAAQiC,EAAMC,EAAU,KAC3BF,CAAAA,GAAYmS,CAAM,GACpBlS,EAAKiI,IAAI,CAAChI,GAEZvB,EAAOuJ,IAAI,CAACxL,GAEhB,CACA,OAAOiC,CACT,CAYA,SAAS0T,GAAWjU,CAAM,CAAEyH,CAAK,EAK/B,IAJA,IAAItI,EAAQ,GACRD,EAASuI,EAAMvI,MAAM,CACrBqB,EAAS8B,EAAMnD,GAEZ,EAAEC,EAAQD,GACfqB,CAAM,CAACpB,EAAM,CAAGa,CAAM,CAACyH,CAAK,CAACtI,EAAM,CAAC,CAEtC,OAAOoB,CACT,CAaA,SAAS2T,GAAUnV,CAAK,CAAEC,CAAS,CAAEmV,CAAM,CAAElV,CAAS,EAIpD,IAHA,IAAIC,EAASH,EAAMG,MAAM,CACrBC,EAAQF,EAAYC,EAAS,GAE1B,AAACD,CAAAA,EAAYE,IAAU,EAAEA,EAAQD,CAAK,GAAMF,EAAUD,CAAK,CAACI,EAAM,CAAEA,EAAOJ,KAClF,OAAOoV,EACH9B,GAAUtT,EAAQE,EAAY,EAAIE,EAASF,EAAYE,EAAQ,EAAID,GACnEmT,GAAUtT,EAAQE,EAAYE,EAAQ,EAAI,EAAKF,EAAYC,EAASC,EAC1E,CAYA,SAAS6J,GAAiB1K,CAAK,CAAE6I,CAAO,EACtC,IAAI5G,EAASjC,EACTiC,aAAkBuG,IACpBvG,CAAAA,EAASA,EAAOjC,KAAK,EAAC,EAKxB,IAHA,IAAIa,EAAQ,GACRD,EAASiI,EAAQjI,MAAM,CAEpB,EAAEC,EAAQD,GAAQ,CACvB,IAAIkV,EAASjN,CAAO,CAAChI,EAAM,CAC3BoB,EAAS6T,EAAO3H,IAAI,CAACgC,KAAK,CAAC2F,EAAO1H,OAAO,CAAEzB,GAAU,CAAC1K,EAAO,CAAE6T,EAAO5F,IAAI,EAC5E,CACA,OAAOjO,CACT,CAaA,SAAS8T,GAAYtV,CAAK,CAAET,CAAK,CAAEgW,CAAU,EAC3C,IAAIC,EAAM,EACNC,EAAOzV,EAAQA,EAAMG,MAAM,CAAGqV,EAElC,GAAI,AAAgB,UAAhB,OAAOjW,GAAqBA,GAAUA,GAASkW,GAAQ1O,GAAuB,CAChF,KAAOyO,EAAMC,GAAM,CACjB,IAAIC,EAAM,AAACF,EAAMC,IAAU,EACvB1S,EAAW/C,CAAK,CAAC0V,EAAI,AAErB,CAACH,CAAAA,EAAcxS,GAAYxD,EAAUwD,EAAWxD,CAAK,GAAMwD,AAAa,OAAbA,EAC7DyS,EAAME,EAAM,EAEZD,EAAOC,CAEX,CACA,OAAOD,CACT,CACA,OAAOE,GAAc3V,EAAOT,EAAOuO,GAAUyH,EAC/C,CAeA,SAASI,GAAc3V,CAAK,CAAET,CAAK,CAAEsD,CAAQ,CAAE0S,CAAU,EACvDhW,EAAQsD,EAAStD,GAQjB,IANA,IAAIiW,EAAM,EACNC,EAAOzV,EAAQA,EAAMG,MAAM,CAAG,EAC9ByV,EAAWrW,GAAUA,EACrBE,EAAYF,AAAU,OAAVA,EACZG,EAAaH,AAAUtG,IAAVsG,EAEViW,EAAMC,GAAM,CACjB,IAAIC,EAAM9P,GAAY,AAAC4P,CAAAA,EAAMC,CAAG,EAAK,GACjC1S,EAAWF,EAAS7C,CAAK,CAAC0V,EAAI,EAC9BG,EAAQ9S,AAAa9J,IAAb8J,EACR+S,EAAc/S,GAAaA,EAE/B,GAAI6S,EACF,IAAIG,EAASD,GAAeP,OAE5BQ,EADStW,EACAqW,GAAeD,GAAUN,CAAAA,GAAcxS,AAAY,MAAZA,CAAe,EACtDrD,EACAoW,GAAgBP,CAAAA,GAAcM,CAAI,EACtB,MAAZ9S,GAGAwS,CAAAA,EAAcxS,GAAYxD,EAAUwD,EAAWxD,CAAK,EAE3DwW,EACFP,EAAME,EAAM,EAEZD,EAAOC,CAEX,CACA,OAAOtP,GAAUqP,EAAM3O,GACzB,CAYA,SAAS+G,GAAaH,CAAI,CAAEC,CAAO,CAAEC,CAAQ,EAC3C,GAAI,AAAe,YAAf,OAAOF,EACT,OAAOI,GAET,GAAIH,AAAY1U,IAAZ0U,EACF,OAAOD,EAET,OAAQE,GACN,KAAK,EAAG,OAAO,SAASrO,CAAK,EAC3B,OAAOmO,EAAK9I,IAAI,CAAC+I,EAASpO,EAC5B,CACA,MAAK,EAAG,OAAO,SAASA,CAAK,CAAEa,CAAK,CAAEgN,CAAU,EAC9C,OAAOM,EAAK9I,IAAI,CAAC+I,EAASpO,EAAOa,EAAOgN,EAC1C,CACA,MAAK,EAAG,OAAO,SAASf,CAAW,CAAE9M,CAAK,CAAEa,CAAK,CAAEgN,CAAU,EAC3D,OAAOM,EAAK9I,IAAI,CAAC+I,EAAStB,EAAa9M,EAAOa,EAAOgN,EACvD,CACA,MAAK,EAAG,OAAO,SAAS7N,CAAK,CAAEC,CAAK,CAAEmD,CAAG,CAAE1B,CAAM,CAAE3E,CAAM,EACvD,OAAOoR,EAAK9I,IAAI,CAAC+I,EAASpO,EAAOC,EAAOmD,EAAK1B,EAAQ3E,EACvD,CACF,CACA,OAAO,WACL,OAAOoR,EAAKgC,KAAK,CAAC/B,EAASqI,UAC7B,CACF,CASA,SAASC,GAAYC,CAAM,EACzB,IAAI1U,EAAS,IAAIsD,GAAYoR,EAAOC,UAAU,EAI9C,OADAzM,AAFW,IAAInE,GAAW/D,GAErB2J,GAAG,CAAC,IAAI5F,GAAW2Q,IACjB1U,CACT,CAYA,SAAS4U,GAAY3G,CAAI,CAAE4G,CAAQ,CAAEC,CAAO,EAQ1C,IAPA,IAAIC,EAAgBD,EAAQnW,MAAM,CAC9BqW,EAAY,GACZC,EAAavQ,GAAUuJ,EAAKtP,MAAM,CAAGoW,EAAe,GACpDG,EAAY,GACZC,EAAaN,EAASlW,MAAM,CAC5BqB,EAAS8B,EAAMqT,EAAaF,GAEzB,EAAEC,EAAYC,GACnBnV,CAAM,CAACkV,EAAU,CAAGL,CAAQ,CAACK,EAAU,CAEzC,KAAO,EAAEF,EAAYD,GACnB/U,CAAM,CAAC8U,CAAO,CAACE,EAAU,CAAC,CAAG/G,CAAI,CAAC+G,EAAU,CAE9C,KAAOC,KACLjV,CAAM,CAACkV,IAAY,CAAGjH,CAAI,CAAC+G,IAAY,CAEzC,OAAOhV,CACT,CAYA,SAASoV,GAAiBnH,CAAI,CAAE4G,CAAQ,CAAEC,CAAO,EAS/C,IARA,IAAIO,EAAe,GACfN,EAAgBD,EAAQnW,MAAM,CAC9BqW,EAAY,GACZC,EAAavQ,GAAUuJ,EAAKtP,MAAM,CAAGoW,EAAe,GACpDO,EAAa,GACbC,EAAcV,EAASlW,MAAM,CAC7BqB,EAAS8B,EAAMmT,EAAaM,GAEzB,EAAEP,EAAYC,GACnBjV,CAAM,CAACgV,EAAU,CAAG/G,CAAI,CAAC+G,EAAU,CAGrC,IADA,IAAIrK,EAASqK,EACN,EAAEM,EAAaC,GACpBvV,CAAM,CAAC2K,EAAS2K,EAAW,CAAGT,CAAQ,CAACS,EAAW,CAEpD,KAAO,EAAED,EAAeN,GACtB/U,CAAM,CAAC2K,EAASmK,CAAO,CAACO,EAAa,CAAC,CAAGpH,CAAI,CAAC+G,IAAY,CAE5D,OAAOhV,CACT,CAUA,SAASwV,GAAiBC,CAAM,CAAEC,CAAW,EAC3C,OAAO,SAAS9J,CAAU,CAAEvK,CAAQ,CAAE8K,CAAO,EAC3C,IAAInM,EAAS0V,EAAcA,IAAgB,CAAC,EAG5C,GAFArU,EAAWgS,GAAYhS,EAAU8K,EAAS,GAEtC7F,GAAQsF,GAAa,CAIvB,IAHA,IAAIhN,EAAQ,GACRD,EAASiN,EAAWjN,MAAM,CAEvB,EAAEC,EAAQD,GAAQ,CACvB,IAAIZ,EAAQ6N,CAAU,CAAChN,EAAM,CAC7B6W,EAAOzV,EAAQjC,EAAOsD,EAAStD,EAAOa,EAAOgN,GAAaA,EAC5D,CACF,MACE6C,GAAS7C,EAAY,SAAS7N,CAAK,CAAEoD,CAAG,CAAEyK,CAAU,EAClD6J,EAAOzV,EAAQjC,EAAOsD,EAAStD,EAAOoD,EAAKyK,GAAaA,EAC1D,GAEF,OAAO5L,CACT,CACF,CASA,SAAS2V,GAAeC,CAAQ,EAC9B,OAAOC,GAAU,SAASpW,CAAM,CAAEqW,CAAO,EACvC,IAAIlX,EAAQ,GACRD,EAASc,AAAU,MAAVA,EAAiB,EAAIqW,EAAQnX,MAAM,CAC5C4M,EAAa5M,EAAS,EAAImX,CAAO,CAACnX,EAAS,EAAE,CAAGlH,EAChDse,EAAQpX,EAAS,EAAImX,CAAO,CAAC,EAAE,CAAGre,EAClC0U,EAAUxN,EAAS,EAAImX,CAAO,CAACnX,EAAS,EAAE,CAAGlH,EAajD,IAXI,AAAqB,YAArB,OAAO8T,GACTA,EAAac,GAAad,EAAYY,EAAS,GAC/CxN,GAAU,GAGVA,GAAW4M,AADXA,CAAAA,EAAa,AAAkB,YAAlB,OAAOY,EAAwBA,EAAU1U,CAAQ,EACtC,EAAI,EAE1Bse,GAASC,GAAeF,CAAO,CAAC,EAAE,CAAEA,CAAO,CAAC,EAAE,CAAEC,KAClDxK,EAAa5M,EAAS,EAAIlH,EAAY8T,EACtC5M,EAAS,GAEJ,EAAEC,EAAQD,GAAQ,CACvB,IAAI7D,EAASgb,CAAO,CAAClX,EAAM,CACvB9D,GACF8a,EAASnW,EAAQ3E,EAAQyQ,EAE7B,CACA,OAAO9L,CACT,EACF,CAUA,SAASiP,GAAeQ,CAAQ,CAAExQ,CAAS,EACzC,OAAO,SAASkN,CAAU,CAAEvK,CAAQ,EAClC,IAAI1C,EAASiN,EAAaqK,GAAUrK,GAAc,EAClD,GAAI,CAACsK,GAASvX,GACZ,OAAOuQ,EAAStD,EAAYvK,GAK9B,IAHA,IAAIzC,EAAQF,EAAYC,EAAS,GAC7BwX,EAAWlG,GAASrE,GAEhBlN,CAAAA,EAAYE,IAAU,EAAEA,EAAQD,CAAK,GACvC0C,AAA+C,KAA/CA,EAAS8U,CAAQ,CAACvX,EAAM,CAAEA,EAAOuX,KAIvC,OAAOvK,CACT,CACF,CASA,SAAS4D,GAAc9Q,CAAS,EAC9B,OAAO,SAASe,CAAM,CAAE4B,CAAQ,CAAE+U,CAAQ,EAMxC,IALA,IAAID,EAAWlG,GAASxQ,GACpByH,EAAQkP,EAAS3W,GACjBd,EAASuI,EAAMvI,MAAM,CACrBC,EAAQF,EAAYC,EAAS,GAEzBD,EAAYE,IAAU,EAAEA,EAAQD,GAAS,CAC/C,IAAIwC,EAAM+F,CAAK,CAACtI,EAAM,CACtB,GAAIyC,AAA2C,KAA3CA,EAAS8U,CAAQ,CAAChV,EAAI,CAAEA,EAAKgV,GAC/B,KAEJ,CACA,OAAO1W,CACT,CACF,CAWA,SAAS4W,GAAkBnK,CAAI,CAAEC,CAAO,EACtC,IAAIkB,EAAOiJ,GAAkBpK,GAE7B,SAASqK,IAEP,MAAOC,AADE,CAAC,IAAI,EAAI,IAAI,GAAK3Y,IAAQ,IAAI,YAAY0Y,EAAWlJ,EAAOnB,CAAG,EAC9DgC,KAAK,CAAC/B,EAASqI,UAC3B,CACA,OAAO+B,CACT,CASA,SAASjI,GAAYhF,CAAM,EACzB,OAAO,AAACnF,IAAgBR,GAAO,IAAI0F,GAASC,GAAU,IACxD,CAUA,SAASmN,GAAiBrD,CAAQ,EAChC,OAAO,SAASjU,CAAM,EAMpB,IALA,IAAIP,EAAQ,GACRJ,EAAQkY,GAAMC,GAAOxX,IACrBR,EAASH,EAAMG,MAAM,CACrBqB,EAAS,GAEN,EAAEpB,EAAQD,GACfqB,EAASoT,EAASpT,EAAQxB,CAAK,CAACI,EAAM,CAAEA,GAE1C,OAAOoB,CACT,CACF,CAUA,SAASsW,GAAkBjJ,CAAI,EAC7B,OAAO,WAIL,IAAIY,EAAOuG,UACX,OAAQvG,EAAKtP,MAAM,EACjB,KAAK,EAAG,OAAO,IAAI0O,CACnB,MAAK,EAAG,OAAO,IAAIA,EAAKY,CAAI,CAAC,EAAE,CAC/B,MAAK,EAAG,OAAO,IAAIZ,EAAKY,CAAI,CAAC,EAAE,CAAEA,CAAI,CAAC,EAAE,CACxC,MAAK,EAAG,OAAO,IAAIZ,EAAKY,CAAI,CAAC,EAAE,CAAEA,CAAI,CAAC,EAAE,CAAEA,CAAI,CAAC,EAAE,CACjD,MAAK,EAAG,OAAO,IAAIZ,EAAKY,CAAI,CAAC,EAAE,CAAEA,CAAI,CAAC,EAAE,CAAEA,CAAI,CAAC,EAAE,CAAEA,CAAI,CAAC,EAAE,CAC1D,MAAK,EAAG,OAAO,IAAIZ,EAAKY,CAAI,CAAC,EAAE,CAAEA,CAAI,CAAC,EAAE,CAAEA,CAAI,CAAC,EAAE,CAAEA,CAAI,CAAC,EAAE,CAAEA,CAAI,CAAC,EAAE,CACnE,MAAK,EAAG,OAAO,IAAIZ,EAAKY,CAAI,CAAC,EAAE,CAAEA,CAAI,CAAC,EAAE,CAAEA,CAAI,CAAC,EAAE,CAAEA,CAAI,CAAC,EAAE,CAAEA,CAAI,CAAC,EAAE,CAAEA,CAAI,CAAC,EAAE,CAC5E,MAAK,EAAG,OAAO,IAAIZ,EAAKY,CAAI,CAAC,EAAE,CAAEA,CAAI,CAAC,EAAE,CAAEA,CAAI,CAAC,EAAE,CAAEA,CAAI,CAAC,EAAE,CAAEA,CAAI,CAAC,EAAE,CAAEA,CAAI,CAAC,EAAE,CAAEA,CAAI,CAAC,EAAE,CACvF,CACA,IAAI2I,EAAc9I,GAAWT,EAAK3K,SAAS,EACvC1C,EAASqN,EAAKa,KAAK,CAAC0I,EAAa3I,GAIrC,OAAOvE,GAAS1J,GAAUA,EAAS4W,CACrC,CACF,CASA,SAASC,GAAYC,CAAI,EACvB,SAASC,EAAU7K,CAAI,CAAE8K,CAAK,CAAEjB,CAAK,EAC/BA,GAASC,GAAe9J,EAAM8K,EAAOjB,IACvCiB,CAAAA,EAAQvf,CAAQ,EAElB,IAAIuI,EAASiX,GAAc/K,EAAM4K,EAAMrf,EAAWA,EAAWA,EAAWA,EAAWA,EAAWuf,GAE9F,OADAhX,EAAOgB,WAAW,CAAG+V,EAAU/V,WAAW,CACnChB,CACT,CACA,OAAO+W,CACT,CAUA,SAASG,GAAetB,CAAQ,CAAErK,CAAU,EAC1C,OAAOsK,GAAU,SAAS5H,CAAI,EAC5B,IAAIxO,EAASwO,CAAI,CAAC,EAAE,QACpB,AAAIxO,AAAU,MAAVA,EACKA,GAETwO,EAAK1E,IAAI,CAACgC,GACHqK,EAAS1H,KAAK,CAACzW,EAAWwW,GACnC,EACF,CAUA,SAASkJ,GAAe9M,CAAU,CAAEC,CAAO,EACzC,OAAO,SAASsB,CAAU,CAAEvK,CAAQ,CAAE8K,CAAO,EAK3C,GAJIA,GAAW6J,GAAepK,EAAYvK,EAAU8K,IAClD9K,CAAAA,EAAW5J,CAAQ,EAGjB4J,AAAmB,GAAnBA,AADJA,CAAAA,EAAWgS,GAAYhS,EAAU8K,EAAS,EAAC,EAC9BxN,MAAM,CAAO,CAExB,IAAIqB,EAASoK,GADbwB,EAAatF,GAAQsF,GAAcA,EAAawL,GAAWxL,GACpBvK,EAAUgJ,EAAYC,GAC7D,GAAI,CAAEsB,CAAAA,EAAWjN,MAAM,EAAIqB,IAAWsK,CAAM,EAC1C,OAAOtK,CAEX,CACA,OAAO8O,GAAalD,EAAYvK,EAAUgJ,EAAYC,EACxD,CACF,CAUA,SAAS+M,GAAWnI,CAAQ,CAAExQ,CAAS,EACrC,OAAO,SAASkN,CAAU,CAAEnN,CAAS,CAAE0N,CAAO,EAE5C,GADA1N,EAAY4U,GAAY5U,EAAW0N,EAAS,GACxC7F,GAAQsF,GAAa,CACvB,IAAIhN,EAAQL,GAAcqN,EAAYnN,EAAWC,GACjD,OAAOE,EAAQ,GAAKgN,CAAU,CAAChN,EAAM,CAAGnH,CAC1C,CACA,OAAOwX,GAASrD,EAAYnN,EAAWyQ,EACzC,CACF,CASA,SAASoI,GAAgB5Y,CAAS,EAChC,OAAO,SAASF,CAAK,CAAEC,CAAS,CAAE0N,CAAO,SACvC,AAAM3N,GAASA,EAAMG,MAAM,CAIpBJ,GAAcC,EADrBC,EAAY4U,GAAY5U,EAAW0N,EAAS,GACLzN,GAH9B,EAIX,CACF,CASA,SAAS6Y,GAAcC,CAAU,EAC/B,OAAO,SAAS/X,CAAM,CAAEhB,CAAS,CAAE0N,CAAO,EAExC,OAAO8C,GAASxP,EADhBhB,EAAY4U,GAAY5U,EAAW0N,EAAS,GACTqL,EAAY,GACjD,CACF,CASA,SAASC,GAAW/Y,CAAS,EAC3B,OAAO,WAOL,IANA,IAAI6X,EACA5X,EAAS6V,UAAU7V,MAAM,CACzBC,EAAQF,EAAYC,EAAS,GAC7BuW,EAAY,EACZwC,EAAQ5V,EAAMnD,GAEVD,EAAYE,IAAU,EAAEA,EAAQD,GAAS,CAC/C,IAAIuN,EAAOwL,CAAK,CAACxC,IAAY,CAAGV,SAAS,CAAC5V,EAAM,CAChD,GAAI,AAAe,YAAf,OAAOsN,EACT,MAAM,IAAI1J,GAAU7J,EAElB,EAAC4d,GAAW/P,GAAc9D,SAAS,CAACiV,IAAI,EAAIC,AAAqB,WAArBA,GAAY1L,IAC1DqK,CAAAA,EAAU,IAAI/P,GAAc,EAAE,CAAE,GAAI,CAExC,CAEA,IADA5H,EAAQ2X,EAAU,GAAK5X,EAChB,EAAEC,EAAQD,GAAQ,CAGvB,IAAIkZ,EAAWD,GAFf1L,EAAOwL,CAAK,CAAC9Y,EAAM,EAGfgK,EAAOiP,AAAY,WAAZA,EAAwBC,GAAQ5L,GAAQzU,EAGjD8e,EADE3N,GAAQmP,GAAWnP,CAAI,CAAC,EAAE,GAAKA,CAAI,CAAC,EAAE,EAAK1Q,CAAAA,EAAWJ,EAAaE,EAAeG,CAAS,GAAM,CAACyQ,CAAI,CAAC,EAAE,CAACjK,MAAM,EAAIiK,AAAW,GAAXA,CAAI,CAAC,EAAE,CACnH2N,CAAO,CAACqB,GAAYhP,CAAI,CAAC,EAAE,EAAE,CAACsF,KAAK,CAACqI,EAAS3N,CAAI,CAAC,EAAE,EAEpD,AAACsD,AAAe,GAAfA,EAAKvN,MAAM,EAASoZ,GAAW7L,GAASqK,CAAO,CAACsB,EAAS,GAAKtB,EAAQoB,IAAI,CAACzL,EAE1F,CACA,OAAO,WACL,IAAI+B,EAAOuG,UACPzW,EAAQkQ,CAAI,CAAC,EAAE,CAEnB,GAAIsI,GAAWtI,AAAe,GAAfA,EAAKtP,MAAM,EAAS2H,GAAQvI,IAAUA,EAAMY,MAAM,EAAInG,EACnE,OAAO+d,EAAQyB,KAAK,CAACja,GAAOA,KAAK,GAKnC,IAHA,IAAIa,EAAQ,EACRoB,EAASrB,EAAS+Y,CAAK,CAAC9Y,EAAM,CAACsP,KAAK,CAAC,IAAI,CAAED,GAAQlQ,EAEhD,EAAEa,EAAQD,GACfqB,EAAS0X,CAAK,CAAC9Y,EAAM,CAACwE,IAAI,CAAC,IAAI,CAAEpD,GAEnC,OAAOA,CACT,CACF,CACF,CAUA,SAASiY,GAAcC,CAAS,CAAEhJ,CAAQ,EACxC,OAAO,SAAStD,CAAU,CAAEvK,CAAQ,CAAE8K,CAAO,EAC3C,MAAO,AAAC,AAAmB,YAAnB,OAAO9K,GAA0B8K,AAAY1U,IAAZ0U,GAAyB7F,GAAQsF,GACtEsM,EAAUtM,EAAYvK,GACtB6N,EAAStD,EAAYS,GAAahL,EAAU8K,EAAS,GAC3D,CACF,CASA,SAASgM,GAAYX,CAAU,EAC7B,OAAO,SAAS/X,CAAM,CAAE4B,CAAQ,CAAE8K,CAAO,EAIvC,MAHI,CAAmB,YAAnB,OAAO9K,GAA0B8K,AAAY1U,IAAZ0U,CAAoB,GACvD9K,CAAAA,EAAWgL,GAAahL,EAAU8K,EAAS,EAAC,EAEvCqL,EAAW/X,EAAQ4B,EAAUsO,GACtC,CACF,CASA,SAASyI,GAAaZ,CAAU,EAC9B,OAAO,SAAS/X,CAAM,CAAE4B,CAAQ,CAAE8K,CAAO,EAIvC,MAHI,CAAmB,YAAnB,OAAO9K,GAA0B8K,AAAY1U,IAAZ0U,CAAoB,GACvD9K,CAAAA,EAAWgL,GAAahL,EAAU8K,EAAS,EAAC,EAEvCqL,EAAW/X,EAAQ4B,EAC5B,CACF,CASA,SAASgX,GAAmBC,CAAS,EACnC,OAAO,SAAS7Y,CAAM,CAAE4B,CAAQ,CAAE8K,CAAO,EACvC,IAAInM,EAAS,CAAC,EASd,OARAqB,EAAWgS,GAAYhS,EAAU8K,EAAS,GAE1Ce,GAAWzN,EAAQ,SAAS1B,CAAK,CAAEoD,CAAG,CAAE1B,CAAM,EAC5C,IAAI8Y,EAASlX,EAAStD,EAAOoD,EAAK1B,GAClC0B,EAAMmX,EAAYC,EAASpX,EAC3BpD,EAAQua,EAAYva,EAAQwa,EAC5BvY,CAAM,CAACmB,EAAI,CAAGpD,CAChB,GACOiC,CACT,CACF,CASA,SAASwY,GAAa9Z,CAAS,EAC7B,OAAO,SAASS,CAAM,CAAER,CAAM,CAAES,CAAK,EAEnC,OADAD,EAASF,GAAaE,GACf,AAACT,CAAAA,EAAYS,EAAS,EAAC,EAAKsZ,GAActZ,EAAQR,EAAQS,GAAUV,CAAAA,EAAY,GAAKS,CAAK,CACnG,CACF,CASA,SAASuZ,GAAc5B,CAAI,EACzB,IAAI6B,EAAc9C,GAAU,SAAS3J,CAAI,CAAE2I,CAAQ,EACjD,IAAIC,EAAU/T,GAAe8T,EAAU8D,EAAY3X,WAAW,EAC9D,OAAOiW,GAAc/K,EAAM4K,EAAMrf,EAAWod,EAAUC,EACxD,GACA,OAAO6D,CACT,CAUA,SAASC,GAAaV,CAAS,CAAEhJ,CAAQ,EACvC,OAAO,SAAStD,CAAU,CAAEvK,CAAQ,CAAEwJ,CAAW,CAAEsB,CAAO,EACxD,IAAIrB,EAAgB0J,UAAU7V,MAAM,CAAG,EACvC,MAAO,AAAC,AAAmB,YAAnB,OAAO0C,GAA0B8K,AAAY1U,IAAZ0U,GAAyB7F,GAAQsF,GACtEsM,EAAUtM,EAAYvK,EAAUwJ,EAAaC,GAC7C8H,GAAWhH,EAAYyH,GAAYhS,EAAU8K,EAAS,GAAItB,EAAaC,EAAeoE,EAC5F,CACF,CAmBA,SAAS2J,GAAoB3M,CAAI,CAAE4M,CAAO,CAAE3M,CAAO,CAAE0I,CAAQ,CAAEC,CAAO,CAAEiE,CAAa,CAAEC,CAAY,CAAEC,CAAM,CAAEC,CAAG,CAAElC,CAAK,EACrH,IAAImC,EAAQL,EAAU5gB,EAClBkhB,EAASN,EAAUnhB,EACnB0hB,EAAYP,EAAUlhB,EACtB0hB,EAAUR,EAAUhhB,EACpByhB,EAAeT,EAAUjhB,EACzB2hB,EAAeV,EAAU/gB,EACzBsV,EAAOgM,EAAY5hB,EAAY6e,GAAkBpK,GAErD,SAASqK,IAOP,IAJA,IAAI5X,EAAS6V,UAAU7V,MAAM,CACzBC,EAAQD,EACRsP,EAAOnM,EAAMnD,GAEVC,KACLqP,CAAI,CAACrP,EAAM,CAAG4V,SAAS,CAAC5V,EAAM,CAQhC,GANIiW,GACF5G,CAAAA,EAAO2G,GAAY3G,EAAM4G,EAAUC,EAAO,EAExCiE,GACF9K,CAAAA,EAAOmH,GAAiBnH,EAAM8K,EAAeC,EAAY,EAEvDM,GAAWE,EAAc,CAC3B,IAAIxY,EAAcuV,EAAQvV,WAAW,CACjCyY,EAAc1Y,GAAekN,EAAMjN,GAGvC,GAAIrC,AADJA,CAAAA,GAAU8a,EAAY9a,MAAM,AAAD,EACdqY,EAAO,CAClB,IAAI0C,EAAYT,EAASvR,GAAUuR,GAAUxhB,EACzCkiB,EAAWjV,GAAUsS,EAAQrY,EAAQ,GACrCib,EAAcN,EAAUG,EAAchiB,EACtCoiB,EAAkBP,EAAU7hB,EAAYgiB,EACxCK,EAAcR,EAAUrL,EAAOxW,EAC/BsiB,EAAmBT,EAAU7hB,EAAYwW,EAE7C6K,GAAYQ,EAAUthB,EAAeC,EACrC6gB,GAAW,CAAEQ,CAAAA,EAAUrhB,EAAqBD,CAAW,EAEnD,CAACuhB,GACHT,CAAAA,GAAW,CAAEnhB,CAAAA,EAAYC,CAAY,CAAC,EAExC,IAAIoiB,EAAU,CAAC9N,EAAM4M,EAAS3M,EAAS2N,EAAaF,EAAaG,EAAkBF,EAAiBH,EAAWR,EAAKS,EAAS,CACzH3Z,EAAS6Y,GAAoB3K,KAAK,CAACzW,EAAWuiB,GAMlD,OAJIjC,GAAW7L,IACb+N,GAAQja,EAAQga,GAElBha,EAAOgB,WAAW,CAAGA,EACdhB,CACT,CACF,CACA,IAAI4W,EAAcwC,EAASjN,EAAU,IAAI,CACrCqK,EAAK6C,EAAYzC,CAAW,CAAC1K,EAAK,CAAGA,EAWzC,OATI+M,GACFhL,CAAAA,EAAOiM,GAAQjM,EAAMgL,EAAM,EAEzBE,GAASD,EAAMjL,EAAKtP,MAAM,EAC5BsP,CAAAA,EAAKtP,MAAM,CAAGua,CAAE,EAEd,IAAI,EAAI,IAAI,GAAKrb,IAAQ,IAAI,YAAY0Y,GAC3CC,CAAAA,EAAKnJ,GAAQiJ,GAAkBpK,EAAI,EAE9BsK,EAAGtI,KAAK,CAAC0I,EAAa3I,EAC/B,CACA,OAAOsI,CACT,CAYA,SAASkC,GAActZ,CAAM,CAAER,CAAM,CAAES,CAAK,EAC1C,IAAI+a,EAAYhb,EAAOR,MAAM,CAG7B,GAAIwb,GAFJxb,CAAAA,EAAS,CAACA,CAAK,GAEY,CAAC4F,GAAe5F,GACzC,MAAO,GAET,IAAIyb,EAAYzb,EAASwb,EAEzB,OAAOE,GADPjb,EAAQA,AAAS,MAATA,EAAgB,IAAOA,EAAQ,GAClB6E,GAAWmW,EAAYhb,EAAMT,MAAM,GAAG2b,KAAK,CAAC,EAAGF,EACtE,CAcA,SAASG,GAAqBrO,CAAI,CAAE4M,CAAO,CAAE3M,CAAO,CAAE0I,CAAQ,EAC5D,IAAIuE,EAASN,EAAUnhB,EACnB0V,EAAOiJ,GAAkBpK,GAE7B,SAASqK,IASP,IANA,IAAIvB,EAAY,GACZC,EAAaT,UAAU7V,MAAM,CAC7BuW,EAAY,GACZC,EAAaN,EAASlW,MAAM,CAC5BsP,EAAOnM,EAAMqT,EAAaF,GAEvB,EAAEC,EAAYC,GACnBlH,CAAI,CAACiH,EAAU,CAAGL,CAAQ,CAACK,EAAU,CAEvC,KAAOD,KACLhH,CAAI,CAACiH,IAAY,CAAGV,SAAS,CAAC,EAAEQ,EAAU,CAG5C,MAAOwB,AADE,CAAC,IAAI,EAAI,IAAI,GAAK3Y,IAAQ,IAAI,YAAY0Y,EAAWlJ,EAAOnB,CAAG,EAC9DgC,KAAK,CAACkL,EAASjN,EAAU,IAAI,CAAE8B,EAC3C,CACA,OAAOsI,CACT,CASA,SAASiE,GAAYC,CAAU,EAC7B,IAAIvO,EAAO7J,EAAI,CAACoY,EAAW,CAC3B,OAAO,SAASC,CAAM,CAAEC,CAAS,QAE/B,AADAA,CAAAA,EAAYA,AAAcljB,IAAdkjB,EAA0B,EAAK,CAACA,GAAa,CAAC,EAGjDzO,EAAKwO,EADZC,CAAAA,EAAYlX,GAAI,GAAIkX,EAAS,GACKA,EAE7BzO,EAAKwO,EACd,CACF,CASA,SAASE,GAAkB7G,CAAU,EACnC,OAAO,SAASvV,CAAK,CAAET,CAAK,CAAEsD,CAAQ,CAAE8K,CAAO,EAC7C,IAAIiH,EAAWC,GAAYhS,GAC3B,OAAO,AAACA,AAAY,MAAZA,GAAoB+R,IAAanH,GACrC6H,GAAYtV,EAAOT,EAAOgW,GAC1BI,GAAc3V,EAAOT,EAAOqV,EAAS/R,EAAU8K,EAAS,GAAI4H,EAClE,CACF,CA2BA,SAASkD,GAAc/K,CAAI,CAAE4M,CAAO,CAAE3M,CAAO,CAAE0I,CAAQ,CAAEC,CAAO,CAAEmE,CAAM,CAAEC,CAAG,CAAElC,CAAK,EAClF,IAAIqC,EAAYP,EAAUlhB,EAC1B,GAAI,CAACyhB,GAAa,AAAe,YAAf,OAAOnN,EACvB,MAAM,IAAI1J,GAAU7J,GAEtB,IAAIgG,EAASkW,EAAWA,EAASlW,MAAM,CAAG,EAM1C,GALI,CAACA,IACHma,GAAW,CAAE9gB,CAAAA,EAAeC,CAAiB,EAC7C4c,EAAWC,EAAUrd,GAEvBkH,GAAWmW,EAAUA,EAAQnW,MAAM,CAAG,EAClCma,EAAU7gB,EAAoB,CAChC,IAAI8gB,EAAgBlE,EAChBmE,EAAelE,EAEnBD,EAAWC,EAAUrd,CACvB,CACA,IAAImR,EAAOyQ,EAAY5hB,EAAYqgB,GAAQ5L,GACvC8N,EAAU,CAAC9N,EAAM4M,EAAS3M,EAAS0I,EAAUC,EAASiE,EAAeC,EAAcC,EAAQC,EAAKlC,EAAM,CAW1G,GATIpO,IACFiS,GAAUb,EAASpR,GACnBkQ,EAAUkB,CAAO,CAAC,EAAE,CACpBhD,EAAQgD,CAAO,CAAC,EAAE,EAEpBA,CAAO,CAAC,EAAE,CAAGhD,AAAS,MAATA,EACRqC,EAAY,EAAInN,EAAKvN,MAAM,CAC3B+F,GAAUsS,EAAQrY,EAAQ,IAAM,EAEjCma,GAAWnhB,EACb,IAAIqI,EAASqW,GAAkB2D,CAAO,CAAC,EAAE,CAAEA,CAAO,CAAC,EAAE,OAIrDha,EAHS,AAAC8Y,GAAW9gB,GAAgB8gB,GAAYnhB,CAAAA,EAAYK,CAAW,GAAQgiB,CAAO,CAAC,EAAE,CAACrb,MAAM,CAGxFka,GAAoB3K,KAAK,CAACzW,EAAWuiB,GAFrCO,GAAqBrM,KAAK,CAACzW,EAAWuiB,GAKjD,MAAOvE,AADM7M,CAAAA,EAAOkK,GAAcmH,EAAM,EAC1Bja,EAAQga,EACxB,CAgBA,SAAS/I,GAAYzS,CAAK,CAAER,CAAK,CAAEqS,CAAS,CAAE9E,CAAU,CAAE4E,CAAO,CAAEvD,CAAM,CAAEC,CAAM,EAC/E,IAAIjO,EAAQ,GACRqJ,EAAYzJ,EAAMG,MAAM,CACxBsL,EAAYjM,EAAMW,MAAM,CAE5B,GAAIsJ,GAAagC,GAAa,CAAEkG,CAAAA,GAAWlG,EAAYhC,CAAQ,EAC7D,MAAO,GAGT,KAAO,EAAErJ,EAAQqJ,GAAW,CAC1B,IAAI6S,EAAWtc,CAAK,CAACI,EAAM,CACvBmc,EAAW/c,CAAK,CAACY,EAAM,CACvBoB,EAASuL,EAAaA,EAAW4E,EAAU4K,EAAWD,EAAU3K,EAAU2K,EAAWC,EAAUnc,GAASnH,EAE5G,GAAIuI,AAAWvI,IAAXuI,EAAsB,CACxB,GAAIA,EACF,SAEF,MAAO,EACT,CAEA,GAAImQ,EACF,IAAI,CAACnF,GAAUhN,EAAO,SAAS+c,CAAQ,EACjC,OAAOD,IAAaC,GAAY1K,EAAUyK,EAAUC,EAAUxP,EAAY4E,EAASvD,EAAQC,EAC7F,GACF,MAAO,EACT,MACK,GAAI,CAAEiO,CAAAA,IAAaC,GAAY1K,EAAUyK,EAAUC,EAAUxP,EAAY4E,EAASvD,EAAQC,EAAM,EACrG,MAAO,EAEX,CACA,MAAO,EACT,CAeA,SAASiE,GAAWrR,CAAM,CAAEzB,CAAK,CAAEiJ,CAAG,EACpC,OAAQA,GACN,KAAK/N,EACL,KAAKC,EAGH,MAAO,CAACsG,GAAU,CAACzB,CAErB,MAAK5E,EACH,OAAOqG,EAAOub,IAAI,EAAIhd,EAAMgd,IAAI,EAAIvb,EAAOwb,OAAO,EAAIjd,EAAMid,OAAO,AAErE,MAAK1hB,EAEH,OAAO,AAACkG,GAAU,CAACA,EACfzB,GAAS,CAACA,EACVyB,GAAU,CAACzB,CAEjB,MAAKvE,EACL,KAAKE,EAGH,OAAO8F,GAAWzB,EAAQ,EAC9B,CACA,MAAO,EACT,CAgBA,SAASkT,GAAazR,CAAM,CAAEzB,CAAK,CAAEqS,CAAS,CAAE9E,CAAU,CAAE4E,CAAO,CAAEvD,CAAM,CAAEC,CAAM,EACjF,IAAIqO,EAAW1P,GAAK/L,GAChB0b,EAAYD,EAASvc,MAAM,CAI/B,GAAIwc,GAFYC,AADD5P,GAAKxN,GACKW,MAAM,EAED,CAACwR,EAC7B,MAAO,GAGT,IADA,IAAIvR,EAAQuc,EACLvc,KAAS,CACd,IAAIuC,EAAM+Z,CAAQ,CAACtc,EAAM,CACzB,GAAI,CAAEuR,CAAAA,EAAUhP,KAAOnD,EAAQ+E,GAAeK,IAAI,CAACpF,EAAOmD,EAAG,EAC3D,MAAO,EAEX,CAEA,IADA,IAAIka,EAAWlL,EACR,EAAEvR,EAAQuc,GAAW,CAE1B,IAAI5J,EAAW9R,CAAM,CADrB0B,EAAM+Z,CAAQ,CAACtc,EAAM,CACK,CACtBmc,EAAW/c,CAAK,CAACmD,EAAI,CACrBnB,EAASuL,EAAaA,EAAW4E,EAAU4K,EAAWxJ,EAAUpB,EAASoB,EAAWwJ,EAAU5Z,GAAO1J,EAGzG,GAAI,CAAEuI,CAAAA,AAAWvI,IAAXuI,EAAuBqQ,EAAUkB,EAAUwJ,EAAUxP,EAAY4E,EAASvD,EAAQC,GAAU7M,CAAK,EACrG,MAAO,EAETqb,CAAAA,GAAaA,CAAAA,EAAWla,AAAO,eAAPA,CAAmB,CAC7C,CACA,GAAI,CAACka,EAAU,CACb,IAAIC,EAAU7b,EAAO8b,WAAW,CAC5BC,EAAUxd,EAAMud,WAAW,CAG/B,GAAID,GAAWE,GACV,gBAAiB/b,GAAU,gBAAiBzB,GAC7C,CAAE,CAAkB,YAAlB,OAAOsd,GAAyBA,aAAmBA,GACnD,AAAkB,YAAlB,OAAOE,GAAyBA,aAAmBA,CAAM,EAC7D,MAAO,EAEX,CACA,MAAO,EACT,CAWA,SAASnI,GAAYnH,CAAI,CAAEC,CAAO,CAAEC,CAAQ,EAC1C,IAAIpM,EAASqG,GAAO+M,QAAQ,EAAIA,GAEhC,OADApT,EAASA,IAAWoT,GAAWnH,GAAejM,EACvCoM,EAAWpM,EAAOkM,EAAMC,EAASC,GAAYpM,CACtD,CASA,IAAI8X,GAAU,AAACrS,GAAiB,SAASyG,CAAI,EAC3C,OAAOzG,GAAQgW,GAAG,CAACvP,EACrB,EAFyBwP,GAWzB,SAAS9D,GAAY1L,CAAI,EAKvB,IAJA,IAAIlM,EAAUkM,EAAK8O,IAAI,CAAG,GACtBxc,EAAQkH,EAAS,CAAC1F,EAAO,CACzBrB,EAASH,EAAQA,EAAMG,MAAM,CAAG,EAE7BA,KAAU,CACf,IAAIiK,EAAOpK,CAAK,CAACG,EAAO,CACpBgd,EAAY/S,EAAKsD,IAAI,CACzB,GAAIyP,AAAa,MAAbA,GAAqBA,GAAazP,EACpC,OAAOtD,EAAKoS,IAAI,AAEpB,CACA,OAAOhb,CACT,CAWA,SAASoO,GAAWxC,CAAU,CAAEgQ,CAAM,CAAE9c,CAAS,EAC/C,IAAIkB,EAASqG,GAAOhH,OAAO,EAAIA,GAE/B,OADAW,EAASA,IAAWX,GAAUR,GAAcmB,EACrC4L,EAAa5L,EAAO4L,EAAYgQ,EAAQ9c,GAAakB,CAC9D,CAYA,IAAIiW,GAAY3D,GAAa,UAS7B,SAASZ,GAAajS,CAAM,EAI1B,IAHA,IAAIO,EAAS6b,GAAMpc,GACfd,EAASqB,EAAOrB,MAAM,CAEnBA,KACLqB,CAAM,CAACrB,EAAO,CAAC,EAAE,CAAGiT,GAAmB5R,CAAM,CAACrB,EAAO,CAAC,EAAE,EAE1D,OAAOqB,CACT,CAUA,SAAS4D,GAAUnE,CAAM,CAAE0B,CAAG,EAC5B,IAAIpD,EAAQ0B,AAAU,MAAVA,EAAiBhI,EAAYgI,CAAM,CAAC0B,EAAI,CACpD,OAAO2a,GAAS/d,GAASA,EAAQtG,CACnC,CAYA,SAAS0Q,GAAQC,CAAK,CAAEC,CAAG,CAAE0T,CAAU,EAIrC,IAHA,IAAInd,EAAQ,GACRD,EAASod,EAAWpd,MAAM,CAEvB,EAAEC,EAAQD,GAAQ,CACvB,IAAIiK,EAAOmT,CAAU,CAACnd,EAAM,CACxBod,EAAOpT,EAAKoT,IAAI,CAEpB,OAAQpT,EAAKC,IAAI,EACf,IAAK,OAAaT,GAAS4T,EAAM,KACjC,KAAK,YAAa3T,GAAO2T,EAAM,KAC/B,KAAK,OAAa3T,EAAMzD,GAAUyD,EAAKD,EAAQ4T,GAAO,KACtD,KAAK,YAAa5T,EAAQ1D,GAAU0D,EAAOC,EAAM2T,EACnD,CACF,CACA,MAAO,CAAE,MAAS5T,EAAO,IAAOC,CAAI,CACtC,CASA,SAASyE,GAAetO,CAAK,EAC3B,IAAIG,EAASH,EAAMG,MAAM,CACrBqB,EAAS,IAAIxB,EAAM+c,WAAW,CAAC5c,GAOnC,OAJIA,GAAU,AAAmB,UAAnB,OAAOH,CAAK,CAAC,EAAE,EAAgBuE,GAAeK,IAAI,CAAC5E,EAAO,WACtEwB,EAAOpB,KAAK,CAAGJ,EAAMI,KAAK,CAC1BoB,EAAOic,KAAK,CAAGzd,EAAMyd,KAAK,EAErBjc,CACT,CASA,SAASiN,GAAgBxN,CAAM,EAC7B,IAAI4N,EAAO5N,EAAO8b,WAAW,CAI7B,MAHI,CAAE,CAAe,YAAf,OAAOlO,GAAsBA,aAAgBA,CAAG,GACpDA,CAAAA,EAAO9P,EAAK,EAEP,IAAI8P,CACb,CAcA,SAASL,GAAevN,CAAM,CAAEwH,CAAG,CAAE0F,CAAM,EACzC,IAAIU,EAAO5N,EAAO8b,WAAW,CAC7B,OAAQtU,GACN,KAAKpN,EACH,OAAO4a,GAAYhV,EAErB,MAAKvG,EACL,KAAKC,EACH,OAAO,IAAIkU,EAAK,CAAC5N,EAEnB,MAAK3F,EAAY,KAAKC,EACtB,KAAKC,EAAS,KAAKC,EAAU,KAAKC,EAClC,KAAKC,EAAU,KAAKC,EAAiB,KAAKC,EAAW,KAAKC,EAEpD+S,aAAgBA,GAClBA,CAAAA,EAAO1H,EAAS,CAACsB,EAAI,AAAD,EAEtB,IAAIyN,EAASjV,EAAOiV,MAAM,CAC1B,OAAO,IAAIrH,EAAKV,EAAS8H,GAAYC,GAAUA,EAAQjV,EAAOyc,UAAU,CAAEzc,EAAOd,MAAM,CAEzF,MAAKpF,EACL,KAAKI,EACH,OAAO,IAAI0T,EAAK5N,EAElB,MAAKhG,EACH,IAAIuG,EAAS,IAAIqN,EAAK5N,EAAO3E,MAAM,CAAEa,GAAQwgB,IAAI,CAAC1c,GAClDO,CAAAA,EAAOoc,SAAS,CAAG3c,EAAO2c,SAAS,AACvC,CACA,OAAOpc,CACT,CAWA,SAASqc,GAAW5c,CAAM,CAAEsQ,CAAI,CAAE9B,CAAI,EACtB,MAAVxO,GAAkB,CAACkS,GAAM5B,EAAMtQ,KAEjCA,EAASsQ,AAAe,GAAfA,AADTA,CAAAA,EAAO8B,GAAO9B,EAAI,EACJpR,MAAM,CAAQc,EAASqQ,GAAQrQ,EAAQqS,GAAU/B,EAAM,EAAG,KACxEA,EAAOgC,GAAKhC,IAEd,IAAI7D,EAAOzM,AAAU,MAAVA,EAAiBA,EAASA,CAAM,CAACsQ,EAAK,CACjD,OAAO7D,AAAQ,MAARA,EAAezU,EAAYyU,EAAKgC,KAAK,CAACzO,EAAQwO,EACvD,CASA,SAASnC,GAAY/N,CAAK,EACxB,OAAOA,AAAS,MAATA,GAAiBmY,GAASD,GAAUlY,GAC7C,CAUA,SAASiO,GAAQjO,CAAK,CAAEY,CAAM,EAG5B,OAFAZ,EAAQ,AAAC,AAAgB,UAAhB,OAAOA,GAAqBjC,GAAS2R,IAAI,CAAC1P,GAAU,CAACA,EAAQ,GACtEY,EAASA,AAAU,MAAVA,EAAiB6G,GAAmB7G,EACtCZ,EAAQ,IAAMA,EAAQ,GAAK,GAAKA,EAAQY,CACjD,CAWA,SAASqX,GAAejY,CAAK,CAAEa,CAAK,CAAEa,CAAM,EAC1C,GAAI,CAACiK,GAASjK,GACZ,MAAO,GAET,IAAIoJ,EAAO,OAAOjK,EAClB,GAAIiK,AAAQ,UAARA,EACGiD,GAAYrM,IAAWuM,GAAQpN,EAAOa,EAAOd,MAAM,EACnDkK,AAAQ,UAARA,GAAoBjK,KAASa,EAAS,CAC3C,IAAIzB,EAAQyB,CAAM,CAACb,EAAM,CACzB,OAAOb,GAAUA,EAASA,IAAUC,EAAUA,GAAUA,CAC1D,CACA,MAAO,EACT,CAUA,SAAS2T,GAAM5T,CAAK,CAAE0B,CAAM,EAC1B,IAAIoJ,EAAO,OAAO9K,QAClB,EAAK8K,CAAAA,AAAQ,UAARA,GAAoBzN,GAAcqS,IAAI,CAAC1P,EAAK,GAAM8K,AAAQ,UAARA,IAGnDvC,GAAQvI,IAILiC,CAAAA,AADM,CAAC7E,GAAasS,IAAI,CAAC1P,IACd0B,AAAU,MAAVA,GAAkB1B,KAASkS,GAASxQ,EAAO,CAC/D,CASA,SAASsY,GAAW7L,CAAI,EACtB,IAAI2L,EAAWD,GAAY1L,GACvBlO,EAAQqI,EAAM,CAACwR,EAAS,CAE5B,GAAI,AAAgB,YAAhB,OAAO7Z,GAAuB,CAAE6Z,CAAAA,KAAYtR,GAAY7D,SAAS,AAAD,EAClE,MAAO,GAET,GAAIwJ,IAASlO,EACX,MAAO,GAET,IAAI4K,EAAOkP,GAAQ9Z,GACnB,MAAO,CAAC,CAAC4K,GAAQsD,IAAStD,CAAI,CAAC,EAAE,AACnC,CAWA,SAASsN,GAASnY,CAAK,EACrB,MAAO,AAAgB,UAAhB,OAAOA,GAAqBA,EAAQ,IAAMA,EAAQ,GAAK,GAAKA,GAASyH,EAC9E,CAUA,SAASoM,GAAmB7T,CAAK,EAC/B,OAAOA,GAAUA,GAAS,CAAC2L,GAAS3L,EACtC,CAiBA,SAAS8c,GAAUjS,CAAI,CAAE9N,CAAM,EAC7B,IAAIge,EAAUlQ,CAAI,CAAC,EAAE,CACjB0T,EAAaxhB,CAAM,CAAC,EAAE,CACtByhB,EAAazD,EAAUwD,EACvBjO,EAAWkO,EAAarkB,EAExBskB,EACF,AAACF,GAAcpkB,GAAY4gB,GAAWhhB,GACrCwkB,GAAcpkB,GAAY4gB,GAAW3gB,GAAcyQ,CAAI,CAAC,EAAE,CAACjK,MAAM,EAAI7D,CAAM,CAAC,EAAE,EAC9EwhB,GAAepkB,CAAAA,EAAWC,CAAS,GAAM2gB,GAAWhhB,EAGvD,GAAI,CAAEuW,CAAAA,GAAYmO,CAAM,EACtB,OAAO5T,EAGL0T,EAAa3kB,IACfiR,CAAI,CAAC,EAAE,CAAG9N,CAAM,CAAC,EAAE,CAEnByhB,GAAc,AAACzD,EAAUnhB,EAAa,EAAIE,GAG5C,IAAIkG,EAAQjD,CAAM,CAAC,EAAE,CACrB,GAAIiD,EAAO,CACT,IAAI8W,EAAWjM,CAAI,CAAC,EAAE,AACtBA,CAAAA,CAAI,CAAC,EAAE,CAAGiM,EAAWD,GAAYC,EAAU9W,EAAOjD,CAAM,CAAC,EAAE,EAAI4M,GAAU3J,GACzE6K,CAAI,CAAC,EAAE,CAAGiM,EAAW9T,GAAe6H,CAAI,CAAC,EAAE,CAAEhQ,GAAe8O,GAAU5M,CAAM,CAAC,EAAE,CACjF,CAyBA,MAvBAiD,CAAAA,EAAQjD,CAAM,CAAC,EAAE,AAAD,IAEd+Z,EAAWjM,CAAI,CAAC,EAAE,CAClBA,CAAI,CAAC,EAAE,CAAGiM,EAAWO,GAAiBP,EAAU9W,EAAOjD,CAAM,CAAC,EAAE,EAAI4M,GAAU3J,GAC9E6K,CAAI,CAAC,EAAE,CAAGiM,EAAW9T,GAAe6H,CAAI,CAAC,EAAE,CAAEhQ,GAAe8O,GAAU5M,CAAM,CAAC,EAAE,GAGjFiD,CAAAA,EAAQjD,CAAM,CAAC,EAAE,AAAD,GAEd8N,CAAAA,CAAI,CAAC,EAAE,CAAGlB,GAAU3J,EAAK,EAGvBue,EAAapkB,GACf0Q,CAAAA,CAAI,CAAC,EAAE,CAAGA,AAAW,MAAXA,CAAI,CAAC,EAAE,CAAW9N,CAAM,CAAC,EAAE,CAAG8J,GAAUgE,CAAI,CAAC,EAAE,CAAE9N,CAAM,CAAC,EAAE,GAGvD,MAAX8N,CAAI,CAAC,EAAE,EACTA,CAAAA,CAAI,CAAC,EAAE,CAAG9N,CAAM,CAAC,EAAE,AAAD,EAGpB8N,CAAI,CAAC,EAAE,CAAG9N,CAAM,CAAC,EAAE,CACnB8N,CAAI,CAAC,EAAE,CAAG2T,EAEH3T,CACT,CAUA,SAAS6T,GAActR,CAAW,CAAEC,CAAW,EAC7C,OAAOD,AAAgB1T,IAAhB0T,EAA4BC,EAAcsR,GAAMvR,EAAaC,EAAaqR,GACnF,CAWA,SAASE,GAAYld,CAAM,CAAEyH,CAAK,EAChCzH,EAASwQ,GAASxQ,GAMlB,IAJA,IAAIb,EAAQ,GACRD,EAASuI,EAAMvI,MAAM,CACrBqB,EAAS,CAAC,EAEP,EAAEpB,EAAQD,GAAQ,CACvB,IAAIwC,EAAM+F,CAAK,CAACtI,EAAM,CAClBuC,KAAO1B,GACTO,CAAAA,CAAM,CAACmB,EAAI,CAAG1B,CAAM,CAAC0B,EAAI,AAAD,CAE5B,CACA,OAAOnB,CACT,CAWA,SAAS4c,GAAend,CAAM,CAAEhB,CAAS,EACvC,IAAIuB,EAAS,CAAC,EAMd,OALA0P,GAAUjQ,EAAQ,SAAS1B,CAAK,CAAEoD,CAAG,CAAE1B,CAAM,EACvChB,EAAUV,EAAOoD,EAAK1B,IACxBO,CAAAA,CAAM,CAACmB,EAAI,CAAGpD,CAAI,CAEtB,GACOiC,CACT,CAYA,SAASka,GAAQ1b,CAAK,CAAEiU,CAAO,EAK7B,IAJA,IAAIxK,EAAYzJ,EAAMG,MAAM,CACxBA,EAASiG,GAAU6N,EAAQ9T,MAAM,CAAEsJ,GACnC4U,EAAWnV,GAAUlJ,GAElBG,KAAU,CACf,IAAIC,EAAQ6T,CAAO,CAAC9T,EAAO,AAC3BH,CAAAA,CAAK,CAACG,EAAO,CAAGqN,GAAQpN,EAAOqJ,GAAa4U,CAAQ,CAACje,EAAM,CAAGnH,CAChE,CACA,OAAO+G,CACT,CAeA,IAAIyb,GAAW,WACb,IAAI6C,EAAQ,EACRC,EAAa,EAEjB,OAAO,SAAS5b,CAAG,CAAEpD,CAAK,EACxB,IAAIif,EAAQC,KACRC,EAAY3kB,EAAYykB,CAAAA,EAAQD,CAAS,EAG7C,GADAA,EAAaC,EACTE,EAAY,EACd,IAAI,EAAEJ,GAASxkB,EACb,OAAO6I,CACT,MAEA2b,EAAQ,EAEV,OAAOhK,GAAY3R,EAAKpD,EAC1B,CACF,IAUA,SAASof,GAAS1d,CAAM,EAWtB,IAVA,IAAIyH,EAAQyI,GAAOlQ,GACfsM,EAAc7E,EAAMvI,MAAM,CAC1BA,EAASoN,GAAetM,EAAOd,MAAM,CAErCye,EAAe,CAAC,CAACze,GAAUuX,GAASvX,IACrC2H,CAAAA,GAAQ7G,IAAW6P,GAAY7P,IAAW4d,GAAS5d,EAAM,EAExDb,EAAQ,GACRoB,EAAS,EAAE,CAER,EAAEpB,EAAQmN,GAAa,CAC5B,IAAI5K,EAAM+F,CAAK,CAACtI,EAAM,CAClB,CAACwe,GAAgBpR,GAAQ7K,EAAKxC,IAAYoE,GAAeK,IAAI,CAAC3D,EAAQ0B,EAAG,GAC3EnB,EAAOuJ,IAAI,CAACpI,EAEhB,CACA,OAAOnB,CACT,CASA,SAASoX,GAAWrZ,CAAK,SACvB,AAAIA,AAAS,MAATA,EACK,EAAE,CAEN+N,GAAY/N,GAGbsI,GAAOc,OAAO,CAACyG,cAAc,EAAIyP,GAAStf,GACrCA,EAAMuf,KAAK,CAAC,IAEd5T,GAAS3L,GAASA,EAAQR,GAAOQ,GAL/BuL,GAAOvL,EAMlB,CASA,SAASkS,GAASlS,CAAK,EACrB,GAAIsI,GAAOc,OAAO,CAACyG,cAAc,EAAIyP,GAAStf,GAAQ,CAKpD,IAJA,IAAIa,EAAQ,GACRD,EAASZ,EAAMY,MAAM,CACrBqB,EAASzC,GAAOQ,GAEb,EAAEa,EAAQD,GACfqB,CAAM,CAACpB,EAAM,CAAGb,EAAMuB,MAAM,CAACV,GAE/B,OAAOoB,CACT,CACA,OAAO0J,GAAS3L,GAASA,EAAQR,GAAOQ,EAC1C,CASA,SAAS8T,GAAO9T,CAAK,EACnB,GAAIuI,GAAQvI,GACV,OAAOA,EAET,IAAIiC,EAAS,EAAE,CAIf,OAHAf,GAAalB,GAAOsF,OAAO,CAAChI,GAAY,SAASkiB,CAAK,CAAE7C,CAAM,CAAE8C,CAAK,CAAEre,CAAM,EAC3Ea,EAAOuJ,IAAI,CAACiU,EAAQre,EAAOkE,OAAO,CAAC5H,GAAc,MAASif,GAAU6C,EACtE,GACOvd,CACT,CASA,SAASyG,GAAa8P,CAAO,EAC3B,OAAOA,aAAmBhQ,GACtBgQ,EAAQ3O,KAAK,GACb,IAAIpB,GAAc+P,EAAQ1P,WAAW,CAAE0P,EAAQxP,SAAS,CAAEW,GAAU6O,EAAQzP,WAAW,EAC7F,CAwBA,SAAS2W,GAAMjf,CAAK,CAAEwd,CAAI,CAAEjG,CAAK,EAE7BiG,EADEjG,CAAAA,EAAQC,GAAexX,EAAOwd,EAAMjG,GAASiG,AAAQ,MAARA,CAAW,EACnD,EAEAtX,GAAUN,GAAY4X,IAAS,EAAG,GAO3C,IALA,IAAIpd,EAAQ,EACRD,EAASH,EAAQA,EAAMG,MAAM,CAAG,EAChCsC,EAAW,GACXjB,EAAS8B,EAAMmC,GAAWtF,EAASqd,IAEhCpd,EAAQD,GACbqB,CAAM,CAAC,EAAEiB,EAAS,CAAG6Q,GAAUtT,EAAOI,EAAQA,GAASod,GAEzD,OAAOhc,CACT,CAgBA,SAAS0d,GAAQlf,CAAK,EAMpB,IALA,IAAII,EAAQ,GACRD,EAASH,EAAQA,EAAMG,MAAM,CAAG,EAChCsC,EAAW,GACXjB,EAAS,EAAE,CAER,EAAEpB,EAAQD,GAAQ,CACvB,IAAIZ,EAAQS,CAAK,CAACI,EAAM,CACpBb,GACFiC,CAAAA,CAAM,CAAC,EAAEiB,EAAS,CAAGlD,CAAI,CAE7B,CACA,OAAOiC,CACT,CAkBA,IAAI2d,GAAa9H,GAAU,SAASrX,CAAK,CAAE8K,CAAM,EAC/C,OAAO,AAAC1I,GAAapC,IAAUsN,GAAYtN,GACvC2P,GAAe3P,EAAO4Q,GAAY9F,EAAQ,GAAO,KACjD,EAAE,AACR,GA0BA,SAASsU,GAAKpf,CAAK,CAAEqf,CAAC,CAAE9H,CAAK,QAE3B,AADavX,CAAAA,EAAQA,EAAMG,MAAM,CAAG,IAIhCoX,CAAAA,EAAQC,GAAexX,EAAOqf,EAAG9H,GAAS8H,AAAK,MAALA,CAAQ,GACpDA,CAAAA,EAAI,GAEC/L,GAAUtT,EAAOqf,EAAI,EAAI,EAAIA,IAL3B,EAAE,AAMb,CA0BA,SAASC,GAAUtf,CAAK,CAAEqf,CAAC,CAAE9H,CAAK,EAChC,IAAIpX,EAASH,EAAQA,EAAMG,MAAM,CAAG,SACpC,AAAKA,GAGDoX,CAAAA,EAAQC,GAAexX,EAAOqf,EAAG9H,GAAS8H,AAAK,MAALA,CAAQ,GACpDA,CAAAA,EAAI,GAGC/L,GAAUtT,EAAO,EAAGqf,AAD3BA,CAAAA,EAAIlf,EAAU,EAACkf,GAAK,EAAC,EACU,EAAI,EAAIA,IAN9B,EAAE,AAOb,CAmDA,SAASE,GAAevf,CAAK,CAAEC,CAAS,CAAE0N,CAAO,EAC/C,OAAO,AAAC3N,GAASA,EAAMG,MAAM,CACzBgV,GAAUnV,EAAO6U,GAAY5U,EAAW0N,EAAS,GAAI,GAAM,IAC3D,EAAE,AACR,CAmDA,SAAS6R,GAAUxf,CAAK,CAAEC,CAAS,CAAE0N,CAAO,EAC1C,OAAO,AAAC3N,GAASA,EAAMG,MAAM,CACzBgV,GAAUnV,EAAO6U,GAAY5U,EAAW0N,EAAS,GAAI,IACrD,EAAE,AACR,CA8BA,SAAS8R,GAAKzf,CAAK,CAAET,CAAK,CAAEqK,CAAK,CAAEC,CAAG,EACpC,IAAI1J,EAASH,EAAQA,EAAMG,MAAM,CAAG,SACpC,AAAKA,GAGDyJ,GAAS,AAAgB,UAAhB,OAAOA,GAAqB4N,GAAexX,EAAOT,EAAOqK,KACpEA,EAAQ,EACRC,EAAM1J,GAEDoQ,GAASvQ,EAAOT,EAAOqK,EAAOC,IAN5B,EAAE,AAOb,CAkDA,IAAI6V,GAAY5G,KAkDZ6G,GAAgB7G,GAAgB,IAmBpC,SAAS8G,GAAM5f,CAAK,EAClB,OAAOA,EAAQA,CAAK,CAAC,EAAE,CAAG/G,CAC5B,CAsBA,SAAS4mB,GAAQ7f,CAAK,CAAEmO,CAAM,CAAEoJ,CAAK,EACnC,IAAIpX,EAASH,EAAQA,EAAMG,MAAM,CAAG,EAIpC,OAHIoX,GAASC,GAAexX,EAAOmO,EAAQoJ,IACzCpJ,CAAAA,EAAS,EAAI,EAERhO,EAASyQ,GAAY5Q,EAAOmO,GAAU,EAAE,AACjD,CAeA,SAAS2R,GAAY9f,CAAK,EAExB,MAAOG,AADMH,CAAAA,EAAQA,EAAMG,MAAM,CAAG,GACpByQ,GAAY5Q,EAAO,IAAQ,EAAE,AAC/C,CA8BA,SAASa,GAAQb,CAAK,CAAET,CAAK,CAAEe,CAAS,EACtC,IAAIH,EAASH,EAAQA,EAAMG,MAAM,CAAG,EACpC,GAAI,CAACA,EACH,OAAO,GAET,GAAI,AAAoB,UAApB,OAAOG,EACTA,EAAYA,EAAY,EAAI4F,GAAU/F,EAASG,EAAW,GAAKA,OAC1D,GAAIA,EAAW,CACpB,IAAIF,EAAQkV,GAAYtV,EAAOT,UAC/B,AAAIa,EAAQD,GACPZ,CAAAA,GAAUA,EAASA,IAAUS,CAAK,CAACI,EAAM,CAAKJ,CAAK,CAACI,EAAM,EAAKJ,CAAK,CAACI,EAAM,EACvEA,EAEF,EACT,CACA,OAAOC,GAAYL,EAAOT,EAAOe,GAAa,EAChD,CAeA,SAASyf,GAAQ/f,CAAK,EACpB,OAAOsf,GAAUtf,EAAO,EAC1B,CAgBA,IAAIggB,GAAe3I,GAAU,SAAS4I,CAAM,EAQ1C,IAPA,IAAIxU,EAAYwU,EAAO9f,MAAM,CACzBqL,EAAWC,EACXyU,EAAS5c,EAAMnD,GACfU,EAAU+O,KACVC,EAAWhP,IAAYR,GACvBmB,EAAS,EAAE,CAERgK,KAAY,CACjB,IAAIjM,EAAQ0gB,CAAM,CAACzU,EAAS,CAAG8B,GAAY/N,EAAQ0gB,CAAM,CAACzU,EAAS,EAAIjM,EAAQ,EAAE,AACjF2gB,CAAAA,CAAM,CAAC1U,EAAS,CAAG,AAACqE,GAAYtQ,EAAMY,MAAM,EAAI,IAAO2P,GAAYtE,GAAYjM,GAAS,IAC1F,CACA,IAAIS,EAAQigB,CAAM,CAAC,EAAE,CACjB7f,EAAQ,GACRD,EAASH,EAAQA,EAAMG,MAAM,CAAG,EAChC2C,EAAOod,CAAM,CAAC,EAAE,CAEpBhW,EACA,KAAO,EAAE9J,EAAQD,GAEf,GADAZ,EAAQS,CAAK,CAACI,EAAM,CAChB,AAAC0C,CAAAA,EAAOkI,GAAalI,EAAMvD,GAASsB,EAAQW,EAAQjC,EAAO,EAAC,EAAK,EAAG,CAEtE,IADA,IAAIiM,EAAWC,EACR,EAAED,GAAU,CACjB,IAAIP,EAAQiV,CAAM,CAAC1U,EAAS,CAC5B,GAAI,AAACP,CAAAA,EAAQD,GAAaC,EAAO1L,GAASsB,EAAQof,CAAM,CAACzU,EAAS,CAAEjM,EAAO,EAAC,EAAK,EAC/E,SAAS2K,CAEb,CACIpH,GACFA,EAAKiI,IAAI,CAACxL,GAEZiC,EAAOuJ,IAAI,CAACxL,EACd,CAEF,OAAOiC,CACT,GAeA,SAAS+R,GAAKvT,CAAK,EACjB,IAAIG,EAASH,EAAQA,EAAMG,MAAM,CAAG,EACpC,OAAOA,EAASH,CAAK,CAACG,EAAS,EAAE,CAAGlH,CACtC,CA2BA,SAASknB,GAAYngB,CAAK,CAAET,CAAK,CAAEe,CAAS,EAC1C,IAAIH,EAASH,EAAQA,EAAMG,MAAM,CAAG,EACpC,GAAI,CAACA,EACH,OAAO,GAET,IAAIC,EAAQD,EACZ,GAAI,AAAoB,UAApB,OAAOG,EACTF,EAAQ,AAACE,CAAAA,EAAY,EAAI4F,GAAU/F,EAASG,EAAW,GAAK8F,GAAU9F,GAAa,EAAGH,EAAS,EAAC,EAAK,OAChG,GAAIG,EAAW,CACpBF,EAAQkV,GAAYtV,EAAOT,EAAO,IAAQ,EAC1C,IAAIC,EAAQQ,CAAK,CAACI,EAAM,OACxB,AAAIb,CAAAA,GAAUA,EAASA,IAAUC,EAAUA,GAAUA,CAAK,EACjDY,EAEF,EACT,CACA,GAAIb,GAAUA,EACZ,OAAOgB,GAAWP,EAAOI,EAAO,IAElC,KAAOA,KACL,GAAIJ,CAAK,CAACI,EAAM,GAAKb,EACnB,OAAOa,EAGX,OAAO,EACT,CAuBA,SAASggB,KACP,IAAI3Q,EAAOuG,UACPhW,EAAQyP,CAAI,CAAC,EAAE,CAEnB,GAAI,CAAEzP,CAAAA,GAASA,EAAMG,MAAM,AAAD,EACxB,OAAOH,EAMT,IAJA,IAAII,EAAQ,EACRS,EAAU+O,KACVzP,EAASsP,EAAKtP,MAAM,CAEjB,EAAEC,EAAQD,GAAQ,CAIvB,IAHA,IAAIG,EAAY,EACZf,EAAQkQ,CAAI,CAACrP,EAAM,CAEhB,AAACE,CAAAA,EAAYO,EAAQb,EAAOT,EAAOe,EAAS,EAAK,IACtDgF,GAAOV,IAAI,CAAC5E,EAAOM,EAAW,EAElC,CACA,OAAON,CACT,CA2BA,IAAIqgB,GAAShJ,GAAU,SAASrX,CAAK,CAAEiU,CAAO,EAG5C,IAAIzS,EAAS2L,GAAOnN,EAFpBiU,EAAUrD,GAAYqD,IAItB,OADAD,GAAWhU,EAAOiU,EAAQS,IAAI,CAACpV,KACxBkC,CACT,GAyCA,SAAS8e,GAAOtgB,CAAK,CAAEC,CAAS,CAAE0N,CAAO,EACvC,IAAInM,EAAS,EAAE,CACf,GAAI,CAAExB,CAAAA,GAASA,EAAMG,MAAM,AAAD,EACxB,OAAOqB,EAET,IAAIpB,EAAQ,GACR6T,EAAU,EAAE,CACZ9T,EAASH,EAAMG,MAAM,CAGzB,IADAF,EAAY4U,GAAY5U,EAAW0N,EAAS,GACrC,EAAEvN,EAAQD,GAAQ,CACvB,IAAIZ,EAAQS,CAAK,CAACI,EAAM,CACpBH,EAAUV,EAAOa,EAAOJ,KAC1BwB,EAAOuJ,IAAI,CAACxL,GACZ0U,EAAQlJ,IAAI,CAAC3K,GAEjB,CAEA,OADA4T,GAAWhU,EAAOiU,GACXzS,CACT,CAgBA,SAAS+e,GAAKvgB,CAAK,EACjB,OAAOof,GAAKpf,EAAO,EACrB,CAgBA,SAAS8b,GAAM9b,CAAK,CAAE4J,CAAK,CAAEC,CAAG,EAC9B,IAAI1J,EAASH,EAAQA,EAAMG,MAAM,CAAG,SACpC,AAAKA,GAGD0J,GAAO,AAAc,UAAd,OAAOA,GAAmB2N,GAAexX,EAAO4J,EAAOC,KAChED,EAAQ,EACRC,EAAM1J,GAEDmT,GAAUtT,EAAO4J,EAAOC,IANtB,EAAE,AAOb,CAkDA,IAAI2W,GAAcpE,KAsBdqE,GAAkBrE,GAAkB,IA0BxC,SAASsE,GAAK1gB,CAAK,CAAEqf,CAAC,CAAE9H,CAAK,QAE3B,AADavX,CAAAA,EAAQA,EAAMG,MAAM,CAAG,IAIhCoX,CAAAA,EAAQC,GAAexX,EAAOqf,EAAG9H,GAAS8H,AAAK,MAALA,CAAQ,GACpDA,CAAAA,EAAI,GAEC/L,GAAUtT,EAAO,EAAGqf,EAAI,EAAI,EAAIA,IAL9B,EAAE,AAMb,CA0BA,SAASsB,GAAU3gB,CAAK,CAAEqf,CAAC,CAAE9H,CAAK,EAChC,IAAIpX,EAASH,EAAQA,EAAMG,MAAM,CAAG,SACpC,AAAKA,GAGDoX,CAAAA,EAAQC,GAAexX,EAAOqf,EAAG9H,GAAS8H,AAAK,MAALA,CAAQ,GACpDA,CAAAA,EAAI,GAGC/L,GAAUtT,EAAOqf,AADxBA,CAAAA,EAAIlf,EAAU,EAACkf,GAAK,EAAC,EACO,EAAI,EAAIA,IAN3B,EAAE,AAOb,CAmDA,SAASuB,GAAe5gB,CAAK,CAAEC,CAAS,CAAE0N,CAAO,EAC/C,OAAO,AAAC3N,GAASA,EAAMG,MAAM,CACzBgV,GAAUnV,EAAO6U,GAAY5U,EAAW0N,EAAS,GAAI,GAAO,IAC5D,EAAE,AACR,CAmDA,SAASkT,GAAU7gB,CAAK,CAAEC,CAAS,CAAE0N,CAAO,EAC1C,OAAO,AAAC3N,GAASA,EAAMG,MAAM,CACzBgV,GAAUnV,EAAO6U,GAAY5U,EAAW0N,EAAS,IACjD,EAAE,AACR,CAiBA,IAAImT,GAAQzJ,GAAU,SAAS4I,CAAM,EACnC,OAAOlL,GAASnE,GAAYqP,EAAQ,GAAO,IAC7C,GAmDA,SAASc,GAAK/gB,CAAK,CAAEghB,CAAQ,CAAEne,CAAQ,CAAE8K,CAAO,EAE9C,GAAI,CADS3N,CAAAA,EAAQA,EAAMG,MAAM,CAAG,GAElC,MAAO,EAAE,AAEK,OAAZ6gB,GAAoB,AAAmB,WAAnB,OAAOA,IAE7Bne,EAAW2U,GAAexX,EAAOghB,EADjCrT,EAAU9K,GAC4C5J,EAAY+nB,EAClEA,EAAW,IAEb,IAAIpM,EAAWC,KAIf,MAHI,CAAEhS,CAAAA,AAAY,MAAZA,GAAoB+R,IAAanH,EAAW,GAChD5K,CAAAA,EAAW+R,EAAS/R,EAAU8K,EAAS,EAAC,EAEnC,AAACqT,GAAYpR,OAAiBvP,GACjCuC,GAAW5C,EAAO6C,GAClBkS,GAAS/U,EAAO6C,EACtB,CAoBA,SAASoe,GAAMjhB,CAAK,EAClB,GAAI,CAAEA,CAAAA,GAASA,EAAMG,MAAM,AAAD,EACxB,MAAO,EAAE,CAEX,IAAIC,EAAQ,GACRD,EAAS,EAEbH,EAAQgM,GAAYhM,EAAO,SAASkhB,CAAK,EACvC,GAAI5T,GAAY4T,GAEd,OADA/gB,EAAS+F,GAAUgb,EAAM/gB,MAAM,CAAEA,GAC1B,EAEX,GAEA,IADA,IAAIqB,EAAS8B,EAAMnD,GACZ,EAAEC,EAAQD,GACfqB,CAAM,CAACpB,EAAM,CAAG6L,GAASjM,EAAO8T,GAAa1T,IAE/C,OAAOoB,CACT,CAsBA,SAAS2f,GAAUnhB,CAAK,CAAE6C,CAAQ,CAAE8K,CAAO,EAEzC,GAAI,CADS3N,CAAAA,EAAQA,EAAMG,MAAM,CAAG,GAElC,MAAO,EAAE,CAEX,IAAIqB,EAASyf,GAAMjhB,UACnB,AAAI6C,AAAY,MAAZA,EACKrB,GAETqB,EAAWgL,GAAahL,EAAU8K,EAAS,GACpC1B,GAASzK,EAAQ,SAAS0f,CAAK,EACpC,OAAO9U,GAAY8U,EAAOre,EAAU5J,EAAW,GACjD,GACF,CAkBA,IAAImoB,GAAU/J,GAAU,SAASrX,CAAK,CAAE8K,CAAM,EAC5C,OAAOwC,GAAYtN,GACf2P,GAAe3P,EAAO8K,GACtB,EAAE,AACR,GAgBA,SAASuW,KAIP,IAHA,IAAIjhB,EAAQ,GACRD,EAAS6V,UAAU7V,MAAM,CAEtB,EAAEC,EAAQD,GAAQ,CACvB,IAAIH,EAAQgW,SAAS,CAAC5V,EAAM,CAC5B,GAAIkN,GAAYtN,GACd,IAAIwB,EAASA,EACT0K,GAAUyD,GAAenO,EAAQxB,GAAQ2P,GAAe3P,EAAOwB,IAC/DxB,CAER,CACA,OAAOwB,EAASuT,GAASvT,GAAU,EAAE,AACvC,CAiBA,IAAI8f,GAAMjK,GAAU4J,IAuBpB,SAASM,GAAU7Y,CAAK,CAAEoC,CAAM,EAC9B,IAAI1K,EAAQ,GACRD,EAASuI,EAAQA,EAAMvI,MAAM,CAAG,EAChCqB,EAAS,CAAC,EAKd,IAHIrB,GAAU,CAAC2K,GAAU,CAAChD,GAAQY,CAAK,CAAC,EAAE,GACxCoC,CAAAA,EAAS,EAAE,AAAD,EAEL,EAAE1K,EAAQD,GAAQ,CACvB,IAAIwC,EAAM+F,CAAK,CAACtI,EAAM,CAClB0K,EACFtJ,CAAM,CAACmB,EAAI,CAAGmI,CAAM,CAAC1K,EAAM,CAClBuC,GACTnB,CAAAA,CAAM,CAACmB,CAAG,CAAC,EAAE,CAAC,CAAGA,CAAG,CAAC,EAAE,AAAD,CAE1B,CACA,OAAOnB,CACT,CAmBA,IAAIggB,GAAUnK,GAAU,SAAS4I,CAAM,EACrC,IAAI9f,EAAS8f,EAAO9f,MAAM,CACtB0C,EAAW1C,EAAS,EAAI8f,CAAM,CAAC9f,EAAS,EAAE,CAAGlH,EAC7C0U,EAAUxN,EAAS,EAAI8f,CAAM,CAAC9f,EAAS,EAAE,CAAGlH,EAShD,OAPIkH,EAAS,GAAK,AAAmB,YAAnB,OAAO0C,EACvB1C,GAAU,GAEV0C,EAAW,AAAC1C,EAAS,GAAK,AAAkB,YAAlB,OAAOwN,EAA0B,GAAExN,EAAQwN,CAAM,EAAK1U,EAChF0U,EAAU1U,GAEZgnB,EAAO9f,MAAM,CAAGA,EACTghB,GAAUlB,EAAQpd,EAAU8K,EACrC,GA8BA,SAAS8T,GAAMliB,CAAK,EAClB,IAAIiC,EAASqG,GAAOtI,GAEpB,OADAiC,EAAO+G,SAAS,CAAG,GACZ/G,CACT,CAyBA,SAASkgB,GAAIniB,CAAK,CAAEoiB,CAAW,CAAEhU,CAAO,EAEtC,OADAgU,EAAY/c,IAAI,CAAC+I,EAASpO,GACnBA,CACT,CAuBA,SAAS4Z,GAAK5Z,CAAK,CAAEoiB,CAAW,CAAEhU,CAAO,EACvC,OAAOgU,EAAY/c,IAAI,CAAC+I,EAASpO,EACnC,CA2BA,SAASqiB,KACP,OAAOH,GAAM,IAAI,CACnB,CA2BA,SAASI,KACP,OAAO,IAAI7Z,GAAc,IAAI,CAACzI,KAAK,GAAI,IAAI,CAACgJ,SAAS,CACvD,CAsBA,IAAIuZ,GAAgBzK,GAAU,SAASvM,CAAM,EAE3C,OADAA,EAAS8F,GAAY9F,GACd,IAAI,CAACqO,IAAI,CAAC,SAASnZ,CAAK,EAC7B,OAAOuL,GAAYzD,GAAQ9H,GAASA,EAAQ,CAACyR,GAASzR,GAAO,CAAE8K,EACjE,EACF,GAyBA,SAASiX,GAAaxiB,CAAK,EAIzB,IAHA,IAAIiC,EACAwgB,EAAS,IAAI,CAEVA,aAAkB9Z,IAAY,CACnC,IAAIkB,EAAQnB,GAAa+Z,GACrBxgB,EACF0S,EAAS7L,WAAW,CAAGe,EAEvB5H,EAAS4H,EAEX,IAAI8K,EAAW9K,EACf4Y,EAASA,EAAO3Z,WAAW,AAC7B,CAEA,OADA6L,EAAS7L,WAAW,CAAG9I,EAChBiC,CACT,CAsBA,SAASygB,KACP,IAAI1iB,EAAQ,IAAI,CAAC8I,WAAW,CAExBsZ,EAAc,SAASpiB,CAAK,EAC9B,OAAOA,EAAM2iB,OAAO,EACtB,EACA,GAAI3iB,aAAiBwI,GAAa,CAChC,IAAIoa,EAAU5iB,EAMd,OALI,IAAI,CAAC+I,WAAW,CAACnI,MAAM,EACzBgiB,CAAAA,EAAU,IAAIpa,GAAY,IAAI,GAGhCoa,AADAA,CAAAA,EAAUA,EAAQD,OAAO,EAAC,EAClB5Z,WAAW,CAACyC,IAAI,CAAC,CAAE,KAAQoO,GAAM,KAAQ,CAACwI,EAAY,CAAE,QAAW1oB,CAAU,GAC9E,IAAI+O,GAAcma,EAAS,IAAI,CAAC5Z,SAAS,CAClD,CACA,OAAO,IAAI,CAAC4Q,IAAI,CAACwI,EACnB,CAcA,SAASS,KACP,OAAQ,IAAI,CAAC7iB,KAAK,GAAK,EACzB,CAeA,SAAS8iB,KACP,OAAOpY,GAAiB,IAAI,CAAC5B,WAAW,CAAE,IAAI,CAACC,WAAW,CAC5D,CAwBA,IAAIga,GAAKjL,GAAU,SAASjK,CAAU,CAAE1E,CAAK,EAI3C,OAHI4E,GAAYF,IACdA,CAAAA,EAAawL,GAAWxL,EAAU,EAE7BD,GAAOC,EAAYwD,GAAYlI,GACxC,GA2CI6Z,GAAUvL,GAAiB,SAASxV,CAAM,CAAEjC,CAAK,CAAEoD,CAAG,EACxD4B,GAAeK,IAAI,CAACpD,EAAQmB,GAAO,EAAEnB,CAAM,CAACmB,EAAI,CAAInB,CAAM,CAACmB,EAAI,CAAG,CACpE,GAkDA,SAAS6f,GAAMpV,CAAU,CAAEnN,CAAS,CAAE0N,CAAO,EAC3C,IAAID,EAAO5F,GAAQsF,GAAczB,GAAa0E,GAO9C,OANI1C,GAAW6J,GAAepK,EAAYnN,EAAW0N,IACnD1N,CAAAA,EAAYhH,CAAQ,EAElB,CAAoB,YAApB,OAAOgH,GAA2B0N,AAAY1U,IAAZ0U,CAAoB,GACxD1N,CAAAA,EAAY4U,GAAY5U,EAAW0N,EAAS,EAAC,EAExCD,EAAKN,EAAYnN,EAC1B,CAmDA,SAASwiB,GAAOrV,CAAU,CAAEnN,CAAS,CAAE0N,CAAO,EAC5C,IAAID,EAAO5F,GAAQsF,GAAcpB,GAAcwE,GAE/C,OAAO9C,EAAKN,EADZnN,EAAY4U,GAAY5U,EAAW0N,EAAS,GAE9C,CAoDA,IAAI+U,GAAO7J,GAAW5I,IAqBlB0S,GAAW9J,GAAW1I,GAAe,IA+BzC,SAASyS,GAAUxV,CAAU,CAAE9Q,CAAM,EACnC,OAAOomB,GAAKtV,EAAYW,GAAYzR,GACtC,CAgCA,IAAIumB,GAAUpJ,GAAcjR,GAAWyH,IAqBnC6S,GAAerJ,GAAc/N,GAAgByE,IA4C7C4S,GAAU/L,GAAiB,SAASxV,CAAM,CAAEjC,CAAK,CAAEoD,CAAG,EACpD4B,GAAeK,IAAI,CAACpD,EAAQmB,GAC9BnB,CAAM,CAACmB,EAAI,CAACoI,IAAI,CAACxL,GAEjBiC,CAAM,CAACmB,EAAI,CAAG,CAACpD,EAAM,AAEzB,GA+BA,SAASyjB,GAAS5V,CAAU,CAAEgQ,CAAM,CAAE9c,CAAS,CAAEiX,CAAK,EACpD,IAAIpX,EAASiN,EAAaqK,GAAUrK,GAAc,EAUlD,MATI,CAACsK,GAASvX,IAEZA,CAAAA,EAASiN,AADTA,CAAAA,EAAatC,GAAOsC,EAAU,EACVjN,MAAM,AAAD,EAGzBG,EADE,AAAoB,UAApB,OAAOA,GAA0BiX,GAASC,GAAe4F,EAAQ9c,EAAWiX,GAClE,EAEAjX,EAAY,EAAI4F,GAAU/F,EAASG,EAAW,GAAMA,GAAa,EAExE,AAAC,AAAqB,UAArB,OAAO8M,GAA0B,CAACtF,GAAQsF,IAAeyR,GAASzR,GACrE9M,GAAaH,GAAUiN,EAAWvM,OAAO,CAACuc,EAAQ9c,GAAa,GAC/D,CAAC,CAACH,GAAUyP,GAAWxC,EAAYgQ,EAAQ9c,GAAa,EAC/D,CAgDA,IAAI2iB,GAAUjM,GAAiB,SAASxV,CAAM,CAAEjC,CAAK,CAAEoD,CAAG,EACxDnB,CAAM,CAACmB,EAAI,CAAGpD,CAChB,GAwBI2jB,GAAS7L,GAAU,SAASjK,CAAU,CAAEmE,CAAI,CAAE9B,CAAI,EACpD,IAAIrP,EAAQ,GACRmO,EAAS,AAAe,YAAf,OAAOgD,EAChB4R,EAAShQ,GAAM5B,GACf/P,EAAS8L,GAAYF,GAAc9J,EAAM8J,EAAWjN,MAAM,EAAI,EAAE,CAMpE,OAJA8P,GAAS7C,EAAY,SAAS7N,CAAK,EACjC,IAAImO,EAAOa,EAASgD,EAAQ,AAAC4R,GAAU5jB,AAAS,MAATA,EAAiBA,CAAK,CAACgS,EAAK,CAAGtY,CACtEuI,CAAAA,CAAM,CAAC,EAAEpB,EAAM,CAAGsN,EAAOA,EAAKgC,KAAK,CAACnQ,EAAOkQ,GAAQoO,GAAWte,EAAOgS,EAAM9B,EAC7E,GACOjO,CACT,GA0DA,SAAS4hB,GAAIhW,CAAU,CAAEvK,CAAQ,CAAE8K,CAAO,EACxC,IAAID,EAAO5F,GAAQsF,GAAcnB,GAAWgH,GAE5C,OAAOvF,EAAKN,EADZvK,EAAWgS,GAAYhS,EAAU8K,EAAS,GAE5C,CA6DA,IAAI0V,GAAYrM,GAAiB,SAASxV,CAAM,CAAEjC,CAAK,CAAEoD,CAAG,EAC1DnB,CAAM,CAACmB,EAAM,EAAI,EAAE,CAACoI,IAAI,CAACxL,EAC3B,EAAG,WAAa,MAAO,CAAC,EAAE,CAAE,EAAE,CAAC,AAAE,GAyBjC,SAAS+jB,GAAMlW,CAAU,CAAEmE,CAAI,EAC7B,OAAO6R,GAAIhW,EAAYY,GAASuD,GAClC,CAuCA,IAAIgS,GAASnJ,GAAahO,GAAa6D,IAwBnCuT,GAAcpJ,GAAa7N,GAAkB4D,IAsCjD,SAASsT,GAAOrW,CAAU,CAAEnN,CAAS,CAAE0N,CAAO,EAC5C,IAAID,EAAO5F,GAAQsF,GAAcpB,GAAcwE,GAE/C,OADAvQ,EAAY4U,GAAY5U,EAAW0N,EAAS,GACrCD,EAAKN,EAAY,SAAS7N,CAAK,CAAEa,CAAK,CAAEgN,CAAU,EACvD,MAAO,CAACnN,EAAUV,EAAOa,EAAOgN,EAClC,EACF,CAoBA,SAASsW,GAAOtW,CAAU,CAAEiS,CAAC,CAAE9H,CAAK,EAClC,GAAIA,EAAQC,GAAepK,EAAYiS,EAAG9H,GAAS8H,AAAK,MAALA,EAAW,CAE5D,IAAIlf,EAASiN,AADbA,CAAAA,EAAawL,GAAWxL,EAAU,EACVjN,MAAM,CAC9B,OAAOA,EAAS,EAAIiN,CAAU,CAAC+G,GAAW,EAAGhU,EAAS,GAAG,CAAGlH,CAC9D,CACA,IAAImH,EAAQ,GACRoB,EAASmiB,GAAQvW,GACjBjN,EAASqB,EAAOrB,MAAM,CACtByd,EAAYzd,EAAS,EAGzB,IADAkf,EAAIjZ,GAAUiZ,EAAI,EAAI,EAAK,CAACA,GAAK,EAAIlf,GAC9B,EAAEC,EAAQif,GAAG,CAClB,IAAIuE,EAAOzP,GAAW/T,EAAOwd,GACzBre,EAAQiC,CAAM,CAACoiB,EAAK,AAExBpiB,CAAAA,CAAM,CAACoiB,EAAK,CAAGpiB,CAAM,CAACpB,EAAM,CAC5BoB,CAAM,CAACpB,EAAM,CAAGb,CAClB,CAEA,OADAiC,EAAOrB,MAAM,CAAGkf,EACT7d,CACT,CAgBA,SAASqiB,GAAQzW,CAAU,EACzB,OAAOsW,GAAOtW,EAAYxG,GAC5B,CAsBA,SAAS4W,GAAKpQ,CAAU,EACtB,IAAIjN,EAASiN,EAAaqK,GAAUrK,GAAc,EAClD,OAAOsK,GAASvX,GAAUA,EAAS6M,GAAKI,GAAYjN,MAAM,AAC5D,CAmDA,SAAS2jB,GAAK1W,CAAU,CAAEnN,CAAS,CAAE0N,CAAO,EAC1C,IAAID,EAAO5F,GAAQsF,GAAcZ,GAAY+H,GAO7C,OANI5G,GAAW6J,GAAepK,EAAYnN,EAAW0N,IACnD1N,CAAAA,EAAYhH,CAAQ,EAElB,CAAoB,YAApB,OAAOgH,GAA2B0N,AAAY1U,IAAZ0U,CAAoB,GACxD1N,CAAAA,EAAY4U,GAAY5U,EAAW0N,EAAS,EAAC,EAExCD,EAAKN,EAAYnN,EAC1B,CAkDA,SAAS8jB,GAAO3W,CAAU,CAAEvK,CAAQ,CAAE8K,CAAO,EAC3C,GAAIP,AAAc,MAAdA,EACF,MAAO,EAAE,CAEPO,GAAW6J,GAAepK,EAAYvK,EAAU8K,IAClD9K,CAAAA,EAAW5J,CAAQ,EAErB,IAAImH,EAAQ,GAMZ,OALAyC,EAAWgS,GAAYhS,EAAU8K,EAAS,GAKnC6G,GAHMvB,GAAQ7F,EAAY,SAAS7N,CAAK,CAAEoD,CAAG,CAAEyK,CAAU,EAC9D,MAAO,CAAE,SAAYvK,EAAStD,EAAOoD,EAAKyK,GAAa,MAAS,EAAEhN,EAAO,MAASb,CAAM,CAC1F,GAC0ByB,GAC5B,CAqCA,IAAIgjB,GAAY3M,GAAU,SAASjK,CAAU,CAAEtD,CAAS,EACtD,GAAIsD,AAAc,MAAdA,EACF,MAAO,EAAE,CAEX,IAAImK,EAAQzN,CAAS,CAAC,EAAE,CAIxB,OAHIyN,GAASC,GAAe1N,CAAS,CAAC,EAAE,CAAEA,CAAS,CAAC,EAAE,CAAEyN,IACtDzN,CAAAA,EAAU3J,MAAM,CAAG,GAEdwU,GAAgBvH,EAAYwD,GAAY9G,GAAY,EAAE,CAC/D,GAoCA,SAASma,GAAY7W,CAAU,CAAEtD,CAAS,CAAE1I,CAAM,CAAEmW,CAAK,SACvD,AAAInK,AAAc,MAAdA,EACK,EAAE,EAEPmK,GAASC,GAAe1N,EAAW1I,EAAQmW,IAC7CnW,CAAAA,EAASnI,CAAQ,EAEf,CAAC6O,GAAQgC,IACXA,CAAAA,EAAYA,AAAa,MAAbA,EAAoB,EAAE,CAAG,CAACA,EAAU,AAAD,EAE7C,CAAChC,GAAQ1G,IACXA,CAAAA,EAASA,AAAU,MAAVA,EAAiB,EAAE,CAAG,CAACA,EAAO,AAAD,EAEjCuT,GAAgBvH,EAAYtD,EAAW1I,GAChD,CA+BA,SAAS8iB,GAAM9W,CAAU,CAAE9Q,CAAM,EAC/B,OAAOmmB,GAAOrV,EAAYW,GAAYzR,GACxC,CAkBA,IAAImiB,GAAMnY,IAAa,WACrB,OAAO,IAAI5C,IAAOygB,OAAO,EAC3B,EA2BA,SAASC,GAAM/E,CAAC,CAAE3R,CAAI,EACpB,GAAI,AAAe,YAAf,OAAOA,GACT,GAAI,AAAY,YAAZ,OAAO2R,EAAiB,CAC1B,IAAIgF,EAAOhF,EACXA,EAAI3R,EACJA,EAAO2W,CACT,MACE,MAAM,IAAIrgB,GAAU7J,GAIxB,OADAklB,EAAItZ,GAAesZ,EAAI,CAACA,GAAKA,EAAI,EAC1B,WACL,GAAI,EAAEA,EAAI,EACR,OAAO3R,EAAKgC,KAAK,CAAC,IAAI,CAAEsG,UAE5B,CACF,CAkBA,SAAS0E,GAAIhN,CAAI,CAAE2R,CAAC,CAAE9H,CAAK,EAKzB,OAJIA,GAASC,GAAe9J,EAAM2R,EAAG9H,IACnC8H,CAAAA,EAAIpmB,CAAQ,EAEdomB,EAAI,AAAC3R,GAAQ2R,AAAK,MAALA,EAAa3R,EAAKvN,MAAM,CAAG+F,GAAU,CAACmZ,GAAK,EAAG,GACpD5G,GAAc/K,EAAMhU,EAAUT,EAAWA,EAAWA,EAAWA,EAAWomB,EACnF,CAkBA,SAASiF,GAAOjF,CAAC,CAAE3R,CAAI,EACrB,IAAIlM,EACJ,GAAI,AAAe,YAAf,OAAOkM,GACT,GAAI,AAAY,YAAZ,OAAO2R,EAAiB,CAC1B,IAAIgF,EAAOhF,EACXA,EAAI3R,EACJA,EAAO2W,CACT,MACE,MAAM,IAAIrgB,GAAU7J,GAGxB,OAAO,WAOL,MANI,EAAEklB,EAAI,GACR7d,CAAAA,EAASkM,EAAKgC,KAAK,CAAC,IAAI,CAAEsG,UAAS,EAEjCqJ,GAAK,GACP3R,CAAAA,EAAOzU,CAAQ,EAEVuI,CACT,CACF,CAqCA,IAAI+iB,GAAOlN,GAAU,SAAS3J,CAAI,CAAEC,CAAO,CAAE0I,CAAQ,EACnD,IAAIiE,EAAUnhB,EACd,GAAIkd,EAASlW,MAAM,CAAE,CACnB,IAAImW,EAAU/T,GAAe8T,EAAUkO,GAAK/hB,WAAW,EACvD8X,GAAW9gB,CACb,CACA,OAAOif,GAAc/K,EAAM4M,EAAS3M,EAAS0I,EAAUC,EACzD,GA8BIkO,GAAUnN,GAAU,SAASpW,CAAM,CAAEwjB,CAAW,EAClDA,EAAcA,EAAYtkB,MAAM,CAAGyQ,GAAY6T,GAAeC,GAAUzjB,GAKxE,IAHA,IAAIb,EAAQ,GACRD,EAASskB,EAAYtkB,MAAM,CAExB,EAAEC,EAAQD,GAAQ,CACvB,IAAIwC,EAAM8hB,CAAW,CAACrkB,EAAM,AAC5Ba,CAAAA,CAAM,CAAC0B,EAAI,CAAG8V,GAAcxX,CAAM,CAAC0B,EAAI,CAAExJ,EAAW8H,EACtD,CACA,OAAOA,CACT,GA8CI0jB,GAAUtN,GAAU,SAASpW,CAAM,CAAE0B,CAAG,CAAE0T,CAAQ,EACpD,IAAIiE,EAAUnhB,EAAYC,EAC1B,GAAIid,EAASlW,MAAM,CAAE,CACnB,IAAImW,EAAU/T,GAAe8T,EAAUsO,GAAQniB,WAAW,EAC1D8X,GAAW9gB,CACb,CACA,OAAOif,GAAc9V,EAAK2X,EAASrZ,EAAQoV,EAAUC,EACvD,GA0CIsO,GAAQvM,GAAY/e,GAuCpBurB,GAAaxM,GAAY9e,GAiE7B,SAASurB,GAASpX,CAAI,CAAE8B,CAAI,CAAEuV,CAAO,EACnC,IAAItV,EACAuV,EACAxjB,EACAgd,EACA7Q,EACAsX,EACAC,EACA3G,EAAa,EACb4G,EAAU,GACVC,EAAW,GAEf,GAAI,AAAe,YAAf,OAAO1X,EACT,MAAM,IAAI1J,GAAU7J,GAGtB,GADAqV,EAAOA,EAAO,EAAI,EAAK,CAACA,GAAQ,EAC5BuV,AAAY,KAAZA,EAAkB,CACpB,IAAIM,EAAU,GACdD,EAAW,EACb,MAAWla,GAAS6Z,KAClBM,EAAU,CAAC,CAACN,EAAQM,OAAO,CAC3BF,EAAU,YAAaJ,GAAW7e,GAAU,CAAC6e,EAAQI,OAAO,EAAI,EAAG3V,GACnE4V,EAAW,aAAcL,EAAU,CAAC,CAACA,EAAQK,QAAQ,CAAGA,GAG1D,SAASE,IACHL,GACFlgB,GAAakgB,GAEXD,GACFjgB,GAAaigB,GAEfzG,EAAa,EACbyG,EAAeC,EAAYC,EAAejsB,CAC5C,CAEA,SAASssB,EAASC,CAAQ,CAAEC,CAAE,EACxBA,GACF1gB,GAAa0gB,GAEfT,EAAeC,EAAYC,EAAejsB,EACtCusB,IACFjH,EAAaE,KACbjd,EAASkM,EAAKgC,KAAK,CAAC/B,EAAS8B,GACzB,CAACwV,GAAa,CAACD,GACjBvV,CAAAA,EAAO9B,EAAU1U,CAAQ,EAG/B,CAEA,SAASysB,IACP,IAAIhH,EAAYlP,EAAQiP,CAAAA,KAAQD,CAAI,CAChCE,CAAAA,GAAa,GAAKA,EAAYlP,EAChC+V,EAASL,EAAcF,GAEvBC,EAAY5f,GAAWqgB,EAAShH,EAEpC,CAEA,SAASiH,IACPJ,EAASH,EAAUH,EACrB,CAEA,SAASW,IAMP,GALAnW,EAAOuG,UACPwI,EAAQC,KACR9Q,EAAU,IAAI,CACduX,EAAeE,GAAaH,CAAAA,GAAa,CAACI,CAAM,EAE5CF,AAAY,KAAZA,EACF,IAAIU,EAAcR,GAAW,CAACJ,MACzB,CACD,CAACD,GAAgB,CAACK,GACpB9G,CAAAA,EAAaC,CAAI,EAEnB,IAAIE,EAAYyG,EAAW3G,CAAAA,EAAQD,CAAS,EACxCiH,EAAW9G,GAAa,GAAKA,EAAYyG,EAEzCK,GACER,GACFA,CAAAA,EAAejgB,GAAaigB,EAAY,EAE1CzG,EAAaC,EACbhd,EAASkM,EAAKgC,KAAK,CAAC/B,EAAS8B,IAEtB,CAACuV,GACRA,CAAAA,EAAe3f,GAAWsgB,EAAYjH,EAAS,CAEnD,CAcA,OAbI8G,GAAYP,EACdA,EAAYlgB,GAAakgB,GAElB,CAACA,GAAazV,IAAS2V,GAC9BF,CAAAA,EAAY5f,GAAWqgB,EAASlW,EAAI,EAElCqW,IACFL,EAAW,GACXhkB,EAASkM,EAAKgC,KAAK,CAAC/B,EAAS8B,IAE3B+V,GAAY,CAACP,GAAa,CAACD,GAC7BvV,CAAAA,EAAO9B,EAAU1U,CAAQ,EAEpBuI,CACT,CAEA,OADAokB,EAAUN,MAAM,CAAGA,EACZM,CACT,CAmBA,IAAIE,GAAQzO,GAAU,SAAS3J,CAAI,CAAE+B,CAAI,EACvC,OAAOF,GAAU7B,EAAM,EAAG+B,EAC5B,GAoBIsW,GAAQ1O,GAAU,SAAS3J,CAAI,CAAE8B,CAAI,CAAEC,CAAI,EAC7C,OAAOF,GAAU7B,EAAM8B,EAAMC,EAC/B,GAsBIuW,GAAO/M,KAsBPgN,GAAYhN,GAAW,IAqD3B,SAASiN,GAAQxY,CAAI,CAAEyY,CAAQ,EAC7B,GAAI,AAAe,YAAf,OAAOzY,GAAuByY,GAAY,AAAmB,YAAnB,OAAOA,EACnD,MAAM,IAAIniB,GAAU7J,GAEtB,IAAIisB,EAAW,WACb,IAAI3W,EAAOuG,UACPrT,EAAMwjB,EAAWA,EAASzW,KAAK,CAAC,IAAI,CAAED,GAAQA,CAAI,CAAC,EAAE,CACrDxE,EAAQmb,EAASnb,KAAK,CAE1B,GAAIA,EAAMR,GAAG,CAAC9H,GACZ,OAAOsI,EAAMgS,GAAG,CAACta,GAEnB,IAAInB,EAASkM,EAAKgC,KAAK,CAAC,IAAI,CAAED,GAE9B,OADA2W,EAASnb,KAAK,CAAGA,EAAME,GAAG,CAACxI,EAAKnB,GACzBA,CACT,EAEA,OADA4kB,EAASnb,KAAK,CAAG,IAAIib,GAAQG,KAAK,CAC3BD,CACT,CAiCA,IAAIE,GAAUjP,GAAU,SAAS3J,CAAI,CAAE6P,CAAU,EAE/C,GADAA,EAAa3M,GAAY2M,GACrB,AAAe,YAAf,OAAO7P,GAAsB,CAAC/B,GAAW4R,EAAY/c,IACvD,MAAM,IAAIwD,GAAU7J,GAEtB,IAAIgG,EAASod,EAAWpd,MAAM,CAC9B,OAAOkX,GAAU,SAAS5H,CAAI,EAE5B,IADA,IAAIrP,EAAQgG,GAAUqJ,EAAKtP,MAAM,CAAEA,GAC5BC,KACLqP,CAAI,CAACrP,EAAM,CAAGmd,CAAU,CAACnd,EAAM,CAACqP,CAAI,CAACrP,EAAM,EAE7C,OAAOsN,EAAKgC,KAAK,CAAC,IAAI,CAAED,EAC1B,EACF,GAqBA,SAAS8W,GAAOtmB,CAAS,EACvB,GAAI,AAAoB,YAApB,OAAOA,EACT,MAAM,IAAI+D,GAAU7J,GAEtB,OAAO,WACL,MAAO,CAAC8F,EAAUyP,KAAK,CAAC,IAAI,CAAEsG,UAChC,CACF,CAmBA,SAASwQ,GAAK9Y,CAAI,EAChB,OAAO4W,GAAO,EAAG5W,EACnB,CAkCA,IAAI+Y,GAAUvM,GAAc1gB,GAiCxBktB,GAAexM,GAAczgB,GA8B7BktB,GAAQtP,GAAU,SAAS3J,CAAI,CAAEuG,CAAO,EAC1C,OAAOwE,GAAc/K,EAAM/T,EAAYV,EAAWA,EAAWA,EAAW2X,GAAYqD,GACtF,GAwBA,SAASoD,GAAU3J,CAAI,CAAE9D,CAAK,EAC5B,GAAI,AAAe,YAAf,OAAO8D,EACT,MAAM,IAAI1J,GAAU7J,GAGtB,OADAyP,EAAQ1D,GAAU0D,AAAU3Q,IAAV2Q,EAAuB8D,EAAKvN,MAAM,CAAG,EAAM,CAACyJ,GAAS,EAAI,GACpE,WAML,IALA,IAAI6F,EAAOuG,UACP5V,EAAQ,GACRD,EAAS+F,GAAUuJ,EAAKtP,MAAM,CAAGyJ,EAAO,GACxC2W,EAAOjd,EAAMnD,GAEV,EAAEC,EAAQD,GACfogB,CAAI,CAACngB,EAAM,CAAGqP,CAAI,CAAC7F,EAAQxJ,EAAM,CAEnC,OAAQwJ,GACN,KAAK,EAAG,OAAO8D,EAAK9I,IAAI,CAAC,IAAI,CAAE2b,EAC/B,MAAK,EAAG,OAAO7S,EAAK9I,IAAI,CAAC,IAAI,CAAE6K,CAAI,CAAC,EAAE,CAAE8Q,EACxC,MAAK,EAAG,OAAO7S,EAAK9I,IAAI,CAAC,IAAI,CAAE6K,CAAI,CAAC,EAAE,CAAEA,CAAI,CAAC,EAAE,CAAE8Q,EACnD,CACA,IAAIqG,EAAYtjB,EAAMsG,EAAQ,GAE9B,IADAxJ,EAAQ,GACD,EAAEA,EAAQwJ,GACfgd,CAAS,CAACxmB,EAAM,CAAGqP,CAAI,CAACrP,EAAM,CAGhC,OADAwmB,CAAS,CAAChd,EAAM,CAAG2W,EACZ7S,EAAKgC,KAAK,CAAC,IAAI,CAAEkX,EAC1B,CACF,CAiCA,SAASC,GAAOnZ,CAAI,EAClB,GAAI,AAAe,YAAf,OAAOA,EACT,MAAM,IAAI1J,GAAU7J,GAEtB,OAAO,SAAS6F,CAAK,EACnB,OAAO0N,EAAKgC,KAAK,CAAC,IAAI,CAAE1P,EAC1B,CACF,CAyCA,SAAS8mB,GAASpZ,CAAI,CAAE8B,CAAI,CAAEuV,CAAO,EACnC,IAAIM,EAAU,GACVD,EAAW,GAEf,GAAI,AAAe,YAAf,OAAO1X,EACT,MAAM,IAAI1J,GAAU7J,GAQtB,MANI4qB,AAAY,KAAZA,EACFM,EAAU,GACDna,GAAS6Z,KAClBM,EAAU,YAAaN,EAAU,CAAC,CAACA,EAAQM,OAAO,CAAGA,EACrDD,EAAW,aAAcL,EAAU,CAAC,CAACA,EAAQK,QAAQ,CAAGA,GAEnDN,GAASpX,EAAM8B,EAAM,CAAE,QAAW6V,EAAS,QAAW,CAAC7V,EAAM,SAAY4V,CAAS,EAC3F,CAuBA,SAAS2B,GAAKxnB,CAAK,CAAEwY,CAAO,EAE1B,OAAOU,GADPV,EAAUA,AAAW,MAAXA,EAAkBjK,GAAWiK,EACTve,EAAcP,EAAW,CAACsG,EAAM,CAAE,EAAE,CACpE,CAuDA,SAAS6J,GAAM7J,CAAK,CAAE4O,CAAM,CAAEpB,CAAU,CAAEY,CAAO,EAS/C,OARIQ,GAAU,AAAiB,WAAjB,OAAOA,GAAuBqJ,GAAejY,EAAO4O,EAAQpB,GACxEoB,EAAS,GAEe,YAAjB,OAAOA,IACdR,EAAUZ,EACVA,EAAaoB,EACbA,EAAS,IAEJ,AAAqB,YAArB,OAAOpB,EACVmB,GAAU3O,EAAO4O,EAAQN,GAAad,EAAYY,EAAS,IAC3DO,GAAU3O,EAAO4O,EACvB,CA+CA,SAAS6Y,GAAUznB,CAAK,CAAEwN,CAAU,CAAEY,CAAO,EAC3C,MAAO,AAAqB,YAArB,OAAOZ,EACVmB,GAAU3O,EAAO,GAAMsO,GAAad,EAAYY,EAAS,IACzDO,GAAU3O,EAAO,GACvB,CAsBA,SAAS0nB,GAAG1nB,CAAK,CAAEC,CAAK,EACtB,OAAOD,EAAQC,CACjB,CAsBA,SAAS0nB,GAAI3nB,CAAK,CAAEC,CAAK,EACvB,OAAOD,GAASC,CAClB,CAkBA,SAASsR,GAAYvR,CAAK,EACxB,OAAO6C,GAAa7C,IAAU+N,GAAY/N,IACxCgF,GAAeK,IAAI,CAACrF,EAAO,WAAa,CAAC2F,GAAqBN,IAAI,CAACrF,EAAO,SAC9E,CAkBA,IAAIuI,GAAUhC,IAAiB,SAASvG,CAAK,EAC3C,OAAO6C,GAAa7C,IAAUmY,GAASnY,EAAMY,MAAM,GAAKsE,GAAYG,IAAI,CAACrF,IAAUjF,CACrF,EAkBA,SAAS6sB,GAAU5nB,CAAK,EACtB,MAAOA,AAAU,KAAVA,GAAkBA,AAAU,KAAVA,GAAoB6C,GAAa7C,IAAUkF,GAAYG,IAAI,CAACrF,IAAU7E,CACjG,CAkBA,SAAS0sB,GAAO7nB,CAAK,EACnB,OAAO6C,GAAa7C,IAAUkF,GAAYG,IAAI,CAACrF,IAAU5E,CAC3D,CAkBA,SAAS0sB,GAAU9nB,CAAK,EACtB,MAAO,CAAC,CAACA,GAASA,AAAmB,IAAnBA,EAAMb,QAAQ,EAAU0D,GAAa7C,IAAU,CAACqU,GAAcrU,EAClF,CA6BA,SAAS+nB,GAAQ/nB,CAAK,SACpB,AAAa,MAATA,IAGA+N,GAAY/N,IAAWuI,CAAAA,GAAQvI,IAAUsf,GAAStf,IAAUuR,GAAYvR,IACvE6C,GAAa7C,IAAU8R,GAAW9R,EAAM+F,MAAM,CAAC,EAC3C,CAAC/F,EAAMY,MAAM,CAEf,CAAC6M,GAAKzN,GAAOY,MAAM,CAC5B,CA8CA,SAASonB,GAAQhoB,CAAK,CAAEC,CAAK,CAAEuN,CAAU,CAAEY,CAAO,EAEhD,IAAInM,EAASuL,AADbA,CAAAA,EAAa,AAAqB,YAArB,OAAOA,EAA2Bc,GAAad,EAAYY,EAAS,GAAK1U,CAAQ,EACpE8T,EAAWxN,EAAOC,GAASvG,EACrD,OAAQuI,AAAWvI,IAAXuI,EAAuBkQ,GAAYnS,EAAOC,EAAOuN,GAAc,CAAC,CAACvL,CAC3E,CAmBA,SAASgmB,GAAQjoB,CAAK,EACpB,OAAO6C,GAAa7C,IAAU,AAAwB,UAAxB,OAAOA,EAAMkd,OAAO,EAAgBhY,GAAYG,IAAI,CAACrF,IAAU3E,CAC/F,CA6BA,SAASoL,GAASzG,CAAK,EACrB,MAAO,AAAgB,UAAhB,OAAOA,GAAqBwG,GAAexG,EACpD,CAkBA,SAAS8R,GAAW9R,CAAK,EACvB,GAAI,CAAC2L,GAAS3L,GACZ,MAAO,GAMT,IAAIkJ,EAAMhE,GAAYG,IAAI,CAACrF,GAG3B,OAAOkJ,GAAO5N,GAAW4N,GAAOjO,GAAUiO,GAAOlO,GAAYkO,GAAOhO,CAUtE,CAsBA,SAASyQ,GAAS3L,CAAK,EAGrB,IAAI8K,EAAO,OAAO9K,EAClB,MAAO,CAAC,CAACA,GAAU8K,CAAAA,AAAQ,UAARA,GAAoBA,AAAQ,YAARA,CAAiB,CAC1D,CAyCA,SAASod,GAAQxmB,CAAM,CAAE3E,CAAM,CAAEyQ,CAAU,CAAEY,CAAO,EAElD,OADAZ,EAAa,AAAqB,YAArB,OAAOA,EAA2Bc,GAAad,EAAYY,EAAS,GAAK1U,EAC/E2Z,GAAY3R,EAAQiS,GAAa5W,GAASyQ,EACnD,CA2BA,SAAS2a,GAAMnoB,CAAK,EAGlB,OAAOooB,GAASpoB,IAAUA,GAAS,CAACA,CACtC,CAkBA,SAAS+d,GAAS/d,CAAK,SACrB,AAAa,MAATA,IAGA8R,GAAW9R,GACNoF,GAAWsK,IAAI,CAAC3K,GAAWM,IAAI,CAACrF,IAElC6C,GAAa7C,IAAU,AAAC2C,CAAAA,GAAa3C,GAASoF,GAAatH,EAAW,EAAG4R,IAAI,CAAC1P,GACvF,CAkBA,SAASqoB,GAAOroB,CAAK,EACnB,OAAOA,AAAU,OAAVA,CACT,CAwBA,SAASooB,GAASpoB,CAAK,EACrB,MAAO,AAAgB,UAAhB,OAAOA,GAAsB6C,GAAa7C,IAAUkF,GAAYG,IAAI,CAACrF,IAAUxE,CACxF,CAgCA,SAAS6Y,GAAcrU,CAAK,MACtBsP,EAUArN,QAPJ,EAAI,CAAEY,GAAa7C,IAAUkF,GAAYG,IAAI,CAACrF,IAAUvE,GAAa,CAACkH,GAAa3C,IAAU,CAACuR,GAAYvR,IACrG,CAACgF,GAAeK,IAAI,CAACrF,EAAO,gBAA6C,AAAe,YAAf,MAA1BsP,CAAAA,EAAOtP,EAAMwd,WAAW,AAAD,GAAkClO,aAAgBA,CAAK,CAAC,IAO/HhH,GAAOc,OAAO,CAACuG,OAAO,EACxBgC,GAAU3R,EAAO,SAASoP,CAAQ,CAAEhM,CAAG,CAAE1B,CAAM,EAE7C,OADAO,EAAS+C,GAAeK,IAAI,CAAC3D,EAAQ0B,GAC9B,EACT,GACOnB,AAAW,KAAXA,IAKT0P,GAAU3R,EAAO,SAASoP,CAAQ,CAAEhM,CAAG,EACrCnB,EAASmB,CACX,GACOnB,AAAWvI,IAAXuI,GAAwB+C,GAAeK,IAAI,CAACrF,EAAOiC,IAC5D,CAkBA,SAASqmB,GAAStoB,CAAK,EACrB,OAAO2L,GAAS3L,IAAUkF,GAAYG,IAAI,CAACrF,IAAUtE,CACvD,CAkBA,SAAS4jB,GAAStf,CAAK,EACrB,MAAO,AAAgB,UAAhB,OAAOA,GAAsB6C,GAAa7C,IAAUkF,GAAYG,IAAI,CAACrF,IAAUpE,CACxF,CAkBA,SAAS+W,GAAa3S,CAAK,EACzB,OAAO6C,GAAa7C,IAAUmY,GAASnY,EAAMY,MAAM,GAAK,CAAC,CAACnC,EAAc,CAACyG,GAAYG,IAAI,CAACrF,GAAO,AACnG,CAkBA,SAASuoB,GAAYvoB,CAAK,EACxB,OAAOA,AAAUtG,IAAVsG,CACT,CAsBA,SAASwoB,GAAGxoB,CAAK,CAAEC,CAAK,EACtB,OAAOD,EAAQC,CACjB,CAsBA,SAASwoB,GAAIzoB,CAAK,CAAEC,CAAK,EACvB,OAAOD,GAASC,CAClB,CAiBA,SAASmkB,GAAQpkB,CAAK,EACpB,IAAIY,EAASZ,EAAQkY,GAAUlY,GAAS,SACxC,AAAKmY,GAASvX,GAGTA,EAGE,AAAC0H,GAAOc,OAAO,CAACyG,cAAc,EAAIyP,GAAStf,GAC9CA,EAAMuf,KAAK,CAAC,IACZ5V,GAAU3J,GAJL,EAAE,CAHFuL,GAAOvL,EAQlB,CAyBA,SAASsU,GAActU,CAAK,EAC1B,OAAO2N,GAAS3N,EAAO4R,GAAO5R,GAChC,CAoDA,IAAI2e,GAAQ/G,GAAe3D,IAkCvByU,GAAS9Q,GAAe,SAASlW,CAAM,CAAE3E,CAAM,CAAEyQ,CAAU,EAC7D,OAAOA,EACHD,GAAW7L,EAAQ3E,EAAQyQ,GAC3BE,GAAWhM,EAAQ3E,EACzB,GAoCA,SAAS4rB,GAAOhkB,CAAS,CAAEikB,CAAU,CAAE5Q,CAAK,EAC1C,IAAI/V,EAAS8N,GAAWpL,GAIxB,OAHIqT,GAASC,GAAetT,EAAWikB,EAAY5Q,IACjD4Q,CAAAA,EAAalvB,CAAQ,EAEhBkvB,EAAalb,GAAWzL,EAAQ2mB,GAAc3mB,CACvD,CAoBA,IAAIgC,GAAWkV,GAAeuP,GAAQvb,IAoBlC0b,GAAe1P,GAAewF,GAAOD,IAkDrCoK,GAAUtP,GAAcrK,IAkDxB4Z,GAAcvP,GAAc3I,IA6B5BmY,GAAQ5O,GAAY5I,IA2BpByX,GAAa7O,GAAY1I,IA6BzBwX,GAAS7O,GAAalL,IA2BtBga,GAAc9O,GAAaxJ,IAiB/B,SAASsU,GAAUzjB,CAAM,EACvB,OAAOmQ,GAAcnQ,EAAQkQ,GAAOlQ,GACtC,CA0BA,SAASgc,GAAIhc,CAAM,CAAEsQ,CAAI,CAAEoX,CAAY,EACrC,IAAInnB,EAASP,AAAU,MAAVA,EAAiBhI,EAAYqY,GAAQrQ,EAAQoS,GAAO9B,GAAQA,EAAO,IAChF,OAAO/P,AAAWvI,IAAXuI,EAAuBmnB,EAAennB,CAC/C,CAwBA,SAASiJ,GAAIxJ,CAAM,CAAEsQ,CAAI,EACvB,GAAItQ,AAAU,MAAVA,EACF,MAAO,GAET,IAAIO,EAAS+C,GAAeK,IAAI,CAAC3D,EAAQsQ,GACzC,GAAI,CAAC/P,GAAU,CAAC2R,GAAM5B,GAAO,CAG3B,GAAItQ,AAAU,MADdA,CAAAA,EAASsQ,AAAe,GAAfA,AADTA,CAAAA,EAAO8B,GAAO9B,EAAI,EACJpR,MAAM,CAAQc,EAASqQ,GAAQrQ,EAAQqS,GAAU/B,EAAM,EAAG,IAAG,EAEzE,MAAO,GAETA,EAAOgC,GAAKhC,GACZ/P,EAAS+C,GAAeK,IAAI,CAAC3D,EAAQsQ,EACvC,CACA,OAAO/P,GAAWkW,GAASzW,EAAOd,MAAM,GAAKqN,GAAQ+D,EAAMtQ,EAAOd,MAAM,GACrE2H,CAAAA,GAAQ7G,IAAW6P,GAAY7P,IAAW4d,GAAS5d,EAAM,CAC9D,CAyBA,SAAS2nB,GAAO3nB,CAAM,CAAE4nB,CAAU,CAAEtR,CAAK,EACnCA,GAASC,GAAevW,EAAQ4nB,EAAYtR,IAC9CsR,CAAAA,EAAa5vB,CAAQ,EAOvB,IALA,IAAImH,EAAQ,GACRsI,EAAQsE,GAAK/L,GACbd,EAASuI,EAAMvI,MAAM,CACrBqB,EAAS,CAAC,EAEP,EAAEpB,EAAQD,GAAQ,CACvB,IAAIwC,EAAM+F,CAAK,CAACtI,EAAM,CAClBb,EAAQ0B,CAAM,CAAC0B,EAAI,CAEnBkmB,EACEtkB,GAAeK,IAAI,CAACpD,EAAQjC,GAC9BiC,CAAM,CAACjC,EAAM,CAACwL,IAAI,CAACpI,GAEnBnB,CAAM,CAACjC,EAAM,CAAG,CAACoD,EAAI,CAIvBnB,CAAM,CAACjC,EAAM,CAAGoD,CAEpB,CACA,OAAOnB,CACT,CA6BA,IAAIwL,GAAO,AAAC/G,GAAwB,SAAShF,CAAM,EACjD,IAAI4N,EAAO5N,AAAU,MAAVA,EAAiBhI,EAAYgI,EAAO8b,WAAW,OAC1D,AAAI,AAAgB,YAAf,OAAOlO,GAAsBA,EAAK3K,SAAS,GAAKjD,GAChD,CAAiB,YAAjB,OAAOA,EAAuB4G,GAAOc,OAAO,CAACoG,cAAc,CAAGzB,GAAYrM,EAAM,EAC5E0d,GAAS1d,GAEXiK,GAASjK,GAAUgF,GAAWhF,GAAU,EAAE,AACnD,EAPyB0d,GA+BzB,SAASxN,GAAOlQ,CAAM,EACpB,GAAIA,AAAU,MAAVA,EACF,MAAO,EAAE,AAEP,EAACiK,GAASjK,IACZA,CAAAA,EAASlC,GAAOkC,EAAM,EAExB,IAAId,EAASc,EAAOd,MAAM,CACtBwI,EAAUd,GAAOc,OAAO,CAE5BxI,EAAS,AAACA,GAAUuX,GAASvX,IAC1B2H,CAAAA,GAAQ7G,IAAW6P,GAAY7P,IAAW4d,GAAS5d,EAAM,GAAMd,GAAW,EAW7E,IATA,IAAI0O,EAAO5N,EAAO8b,WAAW,CACzB3c,EAAQ,GACR0oB,EAAQ,AAACzX,GAAWxC,IAASA,EAAK3K,SAAS,EAAKE,GAChD2kB,EAAUD,IAAU7nB,EACpBO,EAAS8B,EAAMnD,GACf6oB,EAAc7oB,EAAS,EACvB8oB,EAAiBtgB,EAAQmG,cAAc,EAAK7N,CAAAA,IAAWkD,IAAclD,aAAkB0C,CAAI,EAC3FulB,EAAYvgB,EAAQoG,cAAc,EAAIsC,GAAWpQ,GAE9C,EAAEb,EAAQD,GACfqB,CAAM,CAACpB,EAAM,CAAIA,EAAQ,GAM3B,IAAK,IAAIuC,KAAO1B,EACV,CAAEioB,CAAAA,GAAavmB,AAAO,aAAPA,CAAiB,GAChC,CAAEsmB,CAAAA,GAAmBtmB,CAAAA,AAAO,WAAPA,GAAoBA,AAAO,QAAPA,CAAY,CAAC,GACtD,CAAEqmB,CAAAA,GAAexb,GAAQ7K,EAAKxC,EAAM,GACpC,CAAEwC,CAAAA,AAAO,eAAPA,GAAyBomB,CAAAA,GAAW,CAACxkB,GAAeK,IAAI,CAAC3D,EAAQ0B,EAAG,CAAC,GACzEnB,EAAOuJ,IAAI,CAACpI,GAGhB,GAAIgG,EAAQqG,cAAc,EAAI/N,IAAWmD,GAAa,CACpD,IAAIqE,EAAMxH,IAAWoD,GAAclJ,EAAa8F,IAAWkD,GAAavJ,EAAW6J,GAAYG,IAAI,CAAC3D,GAChGkoB,EAAWvhB,EAAY,CAACa,EAAI,EAAIb,EAAY,CAAC5M,EAAU,CAM3D,IAJIyN,GAAOzN,GACT8tB,CAAAA,EAAQ1kB,EAAU,EAEpBjE,EAASrC,GAAYqC,MAAM,CACpBA,KAAU,CAEf,IAAIipB,EAAUD,CAAQ,CADtBxmB,EAAM7E,EAAW,CAACqC,EAAO,CACE,AACvB,EAAE4oB,CAAAA,GAAWK,CAAM,GAClBA,CAAAA,EAAU7kB,GAAeK,IAAI,CAAC3D,EAAQ0B,GAAO1B,CAAM,CAAC0B,EAAI,GAAKmmB,CAAK,CAACnmB,EAAI,AAAD,GACzEnB,EAAOuJ,IAAI,CAACpI,EAEhB,CACF,CACA,OAAOnB,CACT,CAsBA,IAAI6nB,GAAUxP,GAAmB,IA2C7ByP,GAAYzP,KAyBZ0P,GAAOlS,GAAU,SAASpW,CAAM,CAAEyH,CAAK,EACzC,GAAIzH,AAAU,MAAVA,EACF,MAAO,CAAC,EAEV,GAAI,AAAmB,YAAnB,OAAOyH,CAAK,CAAC,EAAE,CAAgB,CACjC,IAAIA,EAAQuD,GAAS2E,GAAYlI,GAAQ3E,IACzC,OAAOoa,GAAYld,EAAQ0O,GAAewB,GAAOlQ,GAASyH,GAC5D,CACA,IAAIzI,EAAY4N,GAAanF,CAAK,CAAC,EAAE,CAAEA,CAAK,CAAC,EAAE,CAAE,GACjD,OAAO0V,GAAend,EAAQ,SAAS1B,CAAK,CAAEoD,CAAG,CAAE1B,CAAM,EACvD,MAAO,CAAChB,EAAUV,EAAOoD,EAAK1B,EAChC,EACF,GAgBA,SAASoc,GAAMpc,CAAM,EACnBA,EAASwQ,GAASxQ,GAOlB,IALA,IAAIb,EAAQ,GACRsI,EAAQsE,GAAK/L,GACbd,EAASuI,EAAMvI,MAAM,CACrBqB,EAAS8B,EAAMnD,GAEZ,EAAEC,EAAQD,GAAQ,CACvB,IAAIwC,EAAM+F,CAAK,CAACtI,EAAM,AACtBoB,CAAAA,CAAM,CAACpB,EAAM,CAAG,CAACuC,EAAK1B,CAAM,CAAC0B,EAAI,CAAC,AACpC,CACA,OAAOnB,CACT,CA4BA,IAAIiC,GAAO4T,GAAU,SAASpW,CAAM,CAAEyH,CAAK,SACzC,AAAIzH,AAAU,MAAVA,EACK,CAAC,EAEH,AAAmB,YAAnB,OAAOyH,CAAK,CAAC,EAAE,CAClB0V,GAAend,EAAQ4M,GAAanF,CAAK,CAAC,EAAE,CAAEA,CAAK,CAAC,EAAE,CAAE,IACxDyV,GAAYld,EAAQ2P,GAAYlI,GACtC,GA8BA,SAASlH,GAAOP,CAAM,CAAEsQ,CAAI,CAAEoX,CAAY,EACxC,IAAInnB,EAASP,AAAU,MAAVA,EAAiBhI,EAAYwY,GAASxQ,EAAO,CAACsQ,EAAK,CAShE,OARetY,IAAXuI,IACY,MAAVP,GAAkB,CAACkS,GAAM5B,EAAMtQ,IAGjCO,CAAAA,EAASP,AAAU,MADnBA,CAAAA,EAASsQ,AAAe,GAAfA,AADTA,CAAAA,EAAO8B,GAAO9B,EAAI,EACJpR,MAAM,CAAQc,EAASqQ,GAAQrQ,EAAQqS,GAAU/B,EAAM,EAAG,IAAG,EACjDtY,EAAYwY,GAASxQ,EAAO,CAACsS,GAAKhC,GAAM,AAAD,EAEnE/P,EAASA,AAAWvI,IAAXuI,EAAuBmnB,EAAennB,GAE1C6P,GAAW7P,GAAUA,EAAOoD,IAAI,CAAC3D,GAAUO,CACpD,CAyBA,SAAS2J,GAAIlK,CAAM,CAAEsQ,CAAI,CAAEhS,CAAK,EAC9B,GAAI0B,AAAU,MAAVA,EACF,OAAOA,EAET,IAAIuQ,EAAWD,EAAO,GACtBA,EAAO,AAACtQ,AAAmB,MAAnBA,CAAM,CAACuQ,EAAQ,EAAY2B,GAAM5B,EAAMtQ,GAAW,CAACuQ,EAAQ,CAAG6B,GAAO9B,GAO7E,IALA,IAAInR,EAAQ,GACRD,EAASoR,EAAKpR,MAAM,CACpByd,EAAYzd,EAAS,EACrBqpB,EAASvoB,EAENuoB,AAAU,MAAVA,GAAkB,EAAEppB,EAAQD,GAAQ,CACzC,IAAIwC,EAAM4O,CAAI,CAACnR,EAAM,CACjB8K,GAASse,KACPppB,GAASwd,EACX4L,CAAM,CAAC7mB,EAAI,CAAGpD,EACU,MAAfiqB,CAAM,CAAC7mB,EAAI,EACpB6mB,CAAAA,CAAM,CAAC7mB,EAAI,CAAG6K,GAAQ+D,CAAI,CAACnR,EAAQ,EAAE,EAAI,EAAE,CAAG,CAAC,IAGnDopB,EAASA,CAAM,CAAC7mB,EAAI,AACtB,CACA,OAAO1B,CACT,CA+BA,SAASwoB,GAAUxoB,CAAM,CAAE4B,CAAQ,CAAEwJ,CAAW,CAAEsB,CAAO,EACvD,IAAIpE,EAAQzB,GAAQ7G,IAAWiR,GAAajR,GAG5C,GAFA4B,EAAWgS,GAAYhS,EAAU8K,EAAS,GAEtCtB,AAAe,MAAfA,GACF,GAAI9C,GAAS2B,GAASjK,GAAS,CAC7B,IAAI4N,EAAO5N,EAAO8b,WAAW,CAE3B1Q,EADE9C,EACYzB,GAAQ7G,GAAU,IAAI4N,EAAO,EAAE,CAE/BS,GAAW+B,GAAWxC,GAAQA,EAAK3K,SAAS,CAAGjL,EAEjE,MACEoT,EAAc,CAAC,EAMnB,MAHA,AAAC9C,CAAAA,EAAQf,GAAYkG,EAAS,EAAGzN,EAAQ,SAAS1B,CAAK,CAAEa,CAAK,CAAEa,CAAM,EACpE,OAAO4B,EAASwJ,EAAa9M,EAAOa,EAAOa,EAC7C,GACOoL,CACT,CA2BA,SAASvB,GAAO7J,CAAM,EACpB,OAAOiU,GAAWjU,EAAQ+L,GAAK/L,GACjC,CAyBA,SAASyoB,GAASzoB,CAAM,EACtB,OAAOiU,GAAWjU,EAAQkQ,GAAOlQ,GACnC,CAmCA,SAAS0oB,GAAQpqB,CAAK,CAAEqK,CAAK,CAAEC,CAAG,EAQhC,OAPAD,EAAQ,CAACA,GAAS,EACdC,AAAQ5Q,IAAR4Q,GACFA,EAAMD,EACNA,EAAQ,GAERC,EAAM,CAACA,GAAO,EAETtK,GAAS6G,GAAUwD,EAAOC,IAAQtK,EAAQ2G,GAAU0D,EAAOC,EACpE,CA6BA,SAASnD,GAAOL,CAAG,CAAEF,CAAG,CAAEyjB,CAAQ,EAC5BA,GAAYpS,GAAenR,EAAKF,EAAKyjB,IACvCzjB,CAAAA,EAAMyjB,EAAW3wB,CAAQ,EAE3B,IAAI4wB,EAAQxjB,AAAO,MAAPA,EACRyjB,EAAQ3jB,AAAO,MAAPA,EAuBZ,GArBgB,MAAZyjB,IACEE,GAAS,AAAc,WAAd,OAAOzjB,GAClBujB,EAAWvjB,EACXA,EAAM,GAEe,WAAd,OAAOF,IACdyjB,EAAWzjB,EACX2jB,EAAQ,KAGRD,GAASC,IACX3jB,EAAM,EACN2jB,EAAQ,IAEVzjB,EAAM,CAACA,GAAO,EACVyjB,GACF3jB,EAAME,EACNA,EAAM,GAENF,EAAM,CAACA,GAAO,EAEZyjB,GAAYvjB,EAAM,GAAKF,EAAM,EAAG,CAClC,IAAIyd,EAAOnd,KACX,OAAOL,GAAUC,EAAOud,EAAQzd,CAAAA,EAAME,EAAMrB,GAAW,MAAS,CAAC4e,CAAAA,EAAO,EAAC,EAAGzjB,MAAM,CAAG,GAAE,EAAKgG,EAC9F,CACA,OAAOgO,GAAW9N,EAAKF,EACzB,CAuBA,IAAI4jB,GAAY9R,GAAiB,SAASzW,CAAM,CAAEwoB,CAAI,CAAE5pB,CAAK,EAE3D,OADA4pB,EAAOA,EAAKC,WAAW,GAChBzoB,EAAUpB,CAAAA,EAAS4pB,EAAKlpB,MAAM,CAAC,GAAGopB,WAAW,GAAKF,EAAKlO,KAAK,CAAC,GAAMkO,CAAG,CAC/E,GAeA,SAASG,GAAWxpB,CAAM,EAExB,MAAOA,AADPA,CAAAA,EAASF,GAAaE,EAAM,GACVA,EAAOG,MAAM,CAAC,GAAGopB,WAAW,GAAKvpB,EAAOmb,KAAK,CAAC,EAClE,CAgBA,SAAS3D,GAAOxX,CAAM,EAEpB,MAAOA,AADPA,CAAAA,EAASF,GAAaE,EAAM,GACXA,EAAOkE,OAAO,CAACtH,GAAUmE,IAAcmD,OAAO,CAAC7H,GAAa,GAC/E,CAuBA,SAASotB,GAASzpB,CAAM,CAAEyc,CAAM,CAAEiN,CAAQ,EACxC1pB,EAASF,GAAaE,GACtByc,GAAmB,GAEnB,IAAIjd,EAASQ,EAAOR,MAAM,CAM1B,MAAOkqB,AADPA,CAAAA,EAJWA,CAAAA,AAAapxB,IAAboxB,EACPlqB,EACAiG,GAAUikB,EAAW,EAAI,EAAK,CAACA,GAAY,EAAIlqB,EAAM,EAE7Cid,EAAOjd,MAAM,AAAD,GACL,GAAKQ,EAAOE,OAAO,CAACuc,EAAQiN,IAAaA,CAC9D,CAkCA,SAASC,GAAO3pB,CAAM,EAGpB,MAAO,AAACA,AADRA,CAAAA,EAASF,GAAaE,EAAM,GACVpE,GAAmB0S,IAAI,CAACtO,GACtCA,EAAOkE,OAAO,CAAC1I,EAAiByF,IAChCjB,CACN,CAgBA,SAAS4pB,GAAa5pB,CAAM,EAE1B,MAAO,AAACA,AADRA,CAAAA,EAASF,GAAaE,EAAM,GACV5D,GAAiBkS,IAAI,CAACtO,GACpCA,EAAOkE,OAAO,CAAC/H,GAAegF,IAC7BnB,GAAU,MACjB,CAqBA,IAAI6pB,GAAYvS,GAAiB,SAASzW,CAAM,CAAEwoB,CAAI,CAAE5pB,CAAK,EAC3D,OAAOoB,EAAUpB,CAAAA,EAAQ,IAAM,EAAC,EAAK4pB,EAAKC,WAAW,EACvD,GAwBA,SAASQ,GAAI9pB,CAAM,CAAER,CAAM,CAAES,CAAK,EAChCD,EAASF,GAAaE,GACtBR,EAAS,CAACA,EAEV,IAAIwb,EAAYhb,EAAOR,MAAM,CAC7B,GAAIwb,GAAaxb,GAAU,CAAC4F,GAAe5F,GACzC,OAAOQ,EAET,IAAI+U,EAAM,AAACvV,CAAAA,EAASwb,CAAQ,EAAK,EAC7BhF,EAAa/Q,GAAY8P,GAI7B,MAAO9U,AADPA,CAAAA,EAAQqZ,GAAc,GAFJxU,GAAWiQ,GAEU9U,EAAK,EAC/Bkb,KAAK,CAAC,EAAGnF,GAAchW,EAASC,CAC/C,CAwBA,IAAI8pB,GAAU1Q,KAwBV2Q,GAAW3Q,GAAa,IAyB5B,SAASxT,GAAS7F,CAAM,CAAEiqB,CAAK,CAAErT,CAAK,EAUpC,MANIA,CAAAA,EAAQC,GAAe7W,EAAQiqB,EAAOrT,GAASqT,AAAS,MAATA,CAAY,EAC7DA,EAAQ,EACCA,GACTA,CAAAA,EAAQ,CAACA,CAAI,EAGRrkB,GADP5F,EAASkqB,GAAKlqB,GACgBiqB,GAAUxtB,CAAAA,GAAe6R,IAAI,CAACtO,GAAU,GAAK,EAAC,EAC9E,CAsBA,SAASkb,GAAOlb,CAAM,CAAE0e,CAAC,EACvB,IAAI7d,EAAS,GAGb,GAFAb,EAASF,GAAaE,GAElB0e,AADJA,CAAAA,EAAI,CAACA,CAAAA,EACG,GAAK,CAAC1e,GAAU,CAACoF,GAAesZ,GACtC,OAAO7d,EAIT,GACM6d,EAAI,GACN7d,CAAAA,GAAUb,CAAK,EAEjB0e,EAAIzZ,GAAYyZ,EAAI,GACpB1e,GAAUA,QACH0e,EAAG,CAEZ,OAAO7d,CACT,CAqBA,IAAIspB,GAAY7S,GAAiB,SAASzW,CAAM,CAAEwoB,CAAI,CAAE5pB,CAAK,EAC3D,OAAOoB,EAAUpB,CAAAA,EAAQ,IAAM,EAAC,EAAK4pB,EAAKC,WAAW,EACvD,GAqBIc,GAAY9S,GAAiB,SAASzW,CAAM,CAAEwoB,CAAI,CAAE5pB,CAAK,EAC3D,OAAOoB,EAAUpB,CAAAA,EAAQ,IAAM,EAAC,EAAM4pB,CAAAA,EAAKlpB,MAAM,CAAC,GAAGopB,WAAW,GAAKF,EAAKlO,KAAK,CAAC,EAAC,CACnF,GAuBA,SAASkP,GAAWrqB,CAAM,CAAEyc,CAAM,CAAEiN,CAAQ,EAM1C,OALA1pB,EAASF,GAAaE,GACtB0pB,EAAWA,AAAY,MAAZA,EACP,EACAjkB,GAAUikB,EAAW,EAAI,EAAK,CAACA,GAAY,EAAI1pB,EAAOR,MAAM,EAEzDQ,EAAOwf,WAAW,CAAC/C,EAAQiN,IAAaA,CACjD,CAkGA,SAASY,GAAStqB,CAAM,CAAEokB,CAAO,CAAEmG,CAAY,EAG7C,IAAIC,EAAWtjB,GAAOwH,gBAAgB,CAElC6b,GAAgB1T,GAAe7W,EAAQokB,EAASmG,IAClDnG,CAAAA,EAAUmG,EAAejyB,CAAQ,EAEnC0H,EAASF,GAAaE,GACtBokB,EAAUjY,GAAWG,GAAW,CAAC,EAAGie,GAAgBnG,GAAUoG,EAAUte,IAExE,IAAIue,EAAUte,GAAWG,GAAW,CAAC,EAAG8X,EAAQqG,OAAO,EAAGD,EAASC,OAAO,CAAEve,IACxEwe,EAAcre,GAAKoe,GACnBE,EAAgBpW,GAAWkW,EAASC,GAEpCE,EACAC,EACAprB,EAAQ,EACRqrB,EAAc1G,EAAQ0G,WAAW,EAAIjuB,GACrClB,EAAS,WAGTovB,EAAervB,GACjB,AAAC0oB,CAAAA,EAAQuF,MAAM,EAAI9sB,EAAQ,EAAGlB,MAAM,CAAG,IACvCmvB,EAAYnvB,MAAM,CAAG,IACrB,AAACmvB,CAAAA,IAAgB/uB,GAAgBQ,GAAeM,EAAQ,EAAGlB,MAAM,CAAG,IACpE,AAACyoB,CAAAA,EAAQ4G,QAAQ,EAAInuB,EAAQ,EAAGlB,MAAM,CAAG,KACzC,KAGEsvB,EAAY,iBACb,eAAe7G,EACZA,EAAQ6G,SAAS,CAChB,2BAA6B,EAAE7tB,GAAmB,GAAG,EACtD,KAEN4C,EAAOkE,OAAO,CAAC6mB,EAAc,SAAS3M,CAAK,CAAE8M,CAAW,CAAEC,CAAgB,CAAEC,CAAe,CAAEC,CAAa,CAAE7f,CAAM,EAsBhH,OArBA2f,GAAqBA,CAAAA,EAAmBC,CAAc,EAGtDzvB,GAAUqE,EAAOmb,KAAK,CAAC1b,EAAO+L,GAAQtH,OAAO,CAACpH,GAAmBwE,IAG7D4pB,IACFN,EAAa,GACbjvB,GAAU,YAAcuvB,EAAc,UAEpCG,IACFR,EAAe,GACflvB,GAAU,OAAS0vB,EAAgB,eAEjCF,GACFxvB,CAAAA,GAAU,iBAAmBwvB,EAAmB,6BAA4B,EAE9E1rB,EAAQ+L,EAAS4S,EAAM5e,MAAM,CAItB4e,CACT,GAEAziB,GAAU,OAIV,IAAI2vB,EAAWlH,EAAQkH,QAAQ,AAC3B,EAACA,GACH3vB,CAAAA,EAAS,iBAAmBA,EAAS,OAAM,EAG7CA,EAAS,AAACkvB,CAAAA,EAAelvB,EAAOuI,OAAO,CAAC9I,EAAsB,IAAMO,CAAK,EACtEuI,OAAO,CAAC7I,EAAqB,MAC7B6I,OAAO,CAAC5I,EAAuB,OAGlCK,EAAS,YAAe2vB,CAAAA,GAAY,KAAI,EAAK,QAC1CA,CAAAA,EACG,GACA,sBAAqB,EAEzB,oBACCV,CAAAA,EACI,mBACA,EAAC,EAELC,CAAAA,EACG,uFAEA,KAAI,EAERlvB,EACA,gBAEF,IAAIkF,EAAS0qB,GAAQ,WACnB,OAAOtoB,EAASynB,EAAaO,EAAY,UAAYtvB,GAAQoT,KAAK,CAACzW,EAAWqyB,EAChF,GAKA,GADA9pB,EAAOlF,MAAM,CAAGA,EACZkrB,GAAQhmB,GACV,MAAMA,EAER,OAAOA,CACT,CAuBA,SAASqpB,GAAKlqB,CAAM,CAAEC,CAAK,CAAE2W,CAAK,EAChC,IAAIhY,EAAQoB,QAEZ,AADAA,CAAAA,EAASF,GAAaE,EAAM,EAIxB4W,CAAAA,EAAQC,GAAejY,EAAOqB,EAAO2W,GAAS3W,AAAS,MAATA,CAAY,EACrDD,EAAOmb,KAAK,CAAC9Y,GAAiBrC,GAASuC,GAAkBvC,GAAU,IAE5EC,GAAiB,GACVD,EAAOmb,KAAK,CAACpb,GAAeC,EAAQC,GAAQG,GAAgBJ,EAAQC,GAAS,IAN3ED,CAOX,CAoBA,SAASwrB,GAASxrB,CAAM,CAAEC,CAAK,CAAE2W,CAAK,EACpC,IAAIhY,EAAQoB,QAEZ,AADAA,CAAAA,EAASF,GAAaE,EAAM,EAIxB4W,CAAAA,EAAQC,GAAejY,EAAOqB,EAAO2W,GAAS3W,AAAS,MAATA,CAAY,EACrDD,EAAOmb,KAAK,CAAC9Y,GAAiBrC,IAEhCA,EAAOmb,KAAK,CAACpb,GAAeC,EAASC,EAAQ,KAL3CD,CAMX,CAoBA,SAASyrB,GAAUzrB,CAAM,CAAEC,CAAK,CAAE2W,CAAK,EACrC,IAAIhY,EAAQoB,QAEZ,AADAA,CAAAA,EAASF,GAAaE,EAAM,EAIxB4W,CAAAA,EAAQC,GAAejY,EAAOqB,EAAO2W,GAAS3W,AAAS,MAATA,CAAY,EACrDD,EAAOmb,KAAK,CAAC,EAAG5Y,GAAkBvC,GAAU,GAE9CA,EAAOmb,KAAK,CAAC,EAAG/a,GAAgBJ,EAASC,EAAQ,IAAO,GALtDD,CAMX,CA0CA,SAAS0rB,GAAM1rB,CAAM,CAAEokB,CAAO,CAAExN,CAAK,EAC/BA,GAASC,GAAe7W,EAAQokB,EAASxN,IAC3CwN,CAAAA,EAAU9rB,CAAQ,EAEpB,IAAIkH,EAASvG,EACT0yB,EAAWzyB,EAEf,GAAIkrB,AAAW,MAAXA,GACF,GAAI7Z,GAAS6Z,GAAU,CACrB,IAAIwH,EAAY,cAAexH,EAAUA,EAAQwH,SAAS,CAAGA,EAC7DpsB,EAAS,WAAY4kB,EAAW,CAACA,EAAQ5kB,MAAM,EAAI,EAAKA,EACxDmsB,EAAW,aAAcvH,EAAUtkB,GAAaskB,EAAQuH,QAAQ,EAAIA,CACtE,MACEnsB,EAAS,CAAC4kB,GAAW,EAIzB,GAAI5kB,GAAUQ,AADdA,CAAAA,EAASF,GAAaE,EAAM,EACPR,MAAM,CACzB,OAAOQ,EAET,IAAIkJ,EAAM1J,EAASmsB,EAASnsB,MAAM,CAClC,GAAI0J,EAAM,EACR,OAAOyiB,EAET,IAAI9qB,EAASb,EAAOmb,KAAK,CAAC,EAAGjS,GAC7B,GAAI0iB,AAAa,MAAbA,EACF,OAAO/qB,EAAS8qB,EAElB,GAAIzE,GAAS0E,GACX,IAAI5rB,EAAOmb,KAAK,CAACjS,GAAK2iB,MAAM,CAACD,GAAY,CACvC,IAAIxN,EACA0N,EACAC,EAAY/rB,EAAOmb,KAAK,CAAC,EAAGjS,GAMhC,IAJI,CAAC0iB,EAAUztB,MAAM,EACnBytB,CAAAA,EAAYlwB,GAAOkwB,EAAUjwB,MAAM,CAAE,AAACa,CAAAA,GAAQwgB,IAAI,CAAC4O,IAAc,EAAC,EAAK,IAAG,EAE5EA,EAAU3O,SAAS,CAAG,EACdmB,EAAQwN,EAAU5O,IAAI,CAAC+O,IAC7BD,EAAS1N,EAAM3e,KAAK,CAEtBoB,EAASA,EAAOsa,KAAK,CAAC,EAAG2Q,AAAU,MAAVA,EAAiB5iB,EAAM4iB,EAClD,OACK,GAAI9rB,EAAOE,OAAO,CAAC0rB,EAAW1iB,IAAQA,EAAK,CAChD,IAAIzJ,EAAQoB,EAAO2e,WAAW,CAACoM,GAC3BnsB,EAAQ,IACVoB,CAAAA,EAASA,EAAOsa,KAAK,CAAC,EAAG1b,EAAK,CAElC,CACA,OAAOoB,EAAS8qB,CAClB,CAoBA,SAASK,GAAShsB,CAAM,EAEtB,MAAO,AAACA,AADRA,CAAAA,EAASF,GAAaE,EAAM,GACVvE,EAAiB6S,IAAI,CAACtO,GACpCA,EAAOkE,OAAO,CAAC3I,EAAeiH,IAC9BxC,CACN,CAoBA,SAASuX,GAAMvX,CAAM,CAAEisB,CAAO,CAAErV,CAAK,EAKnC,OAJIA,GAASC,GAAe7W,EAAQisB,EAASrV,IAC3CqV,CAAAA,EAAU3zB,CAAQ,EAGb0H,AADPA,CAAAA,EAASF,GAAaE,EAAM,EACdoe,KAAK,CAAC6N,GAAWlvB,KAAY,EAAE,AAC/C,CAwBA,IAAIwuB,GAAU7U,GAAU,SAAS3J,CAAI,CAAE+B,CAAI,EACzC,GAAI,CACF,OAAO/B,EAAKgC,KAAK,CAACzW,EAAWwW,EAC/B,CAAE,MAAMod,EAAG,CACT,OAAOrF,GAAQqF,GAAKA,EAAI,IAAIlpB,EAAMkpB,EACpC,CACF,GAwCA,SAASjY,GAASlH,CAAI,CAAEC,CAAO,CAAE4J,CAAK,EAIpC,OAHIA,GAASC,GAAe9J,EAAMC,EAAS4J,IACzC5J,CAAAA,EAAU1U,CAAQ,EAEbmJ,GAAasL,GAChBof,GAAQpf,GACRD,GAAaC,EAAMC,EACzB,CAkBA,SAASof,GAASxtB,CAAK,EACrB,OAAO,WACL,OAAOA,CACT,CACF,CAiBA,SAASuO,GAASvO,CAAK,EACrB,OAAOA,CACT,CA2BA,SAASutB,GAAQxwB,CAAM,EACrB,OAAOyR,GAAYG,GAAU5R,EAAQ,IACvC,CA0BA,SAAS0wB,GAAgBzb,CAAI,CAAEyB,CAAQ,EACrC,OAAO/E,GAAoBsD,EAAMrD,GAAU8E,EAAU,IACvD,CAyBA,IAAIia,GAAS5V,GAAU,SAAS9F,CAAI,CAAE9B,CAAI,EACxC,OAAO,SAASxO,CAAM,EACpB,OAAO4c,GAAW5c,EAAQsQ,EAAM9B,EAClC,CACF,GAwBIyd,GAAW7V,GAAU,SAASpW,CAAM,CAAEwO,CAAI,EAC5C,OAAO,SAAS8B,CAAI,EAClB,OAAOsM,GAAW5c,EAAQsQ,EAAM9B,EAClC,CACF,GAsCA,SAAS0d,GAAMlsB,CAAM,CAAE3E,CAAM,CAAEyoB,CAAO,EACpC,GAAIA,AAAW,MAAXA,EAAiB,CACnB,IAAIqI,EAAQliB,GAAS5O,GACjBoM,EAAQ0kB,EAAQpgB,GAAK1Q,GAAUrD,EAC/BwrB,EAAc,AAAC/b,GAASA,EAAMvI,MAAM,CAAIiR,GAAc9U,EAAQoM,GAASzP,CAEvE,EAAEwrB,CAAAA,EAAcA,EAAYtkB,MAAM,CAAGitB,CAAI,IAC3C3I,EAAc,GACdM,EAAUzoB,EACVA,EAAS2E,EACTA,EAAS,IAAI,CAEjB,CACI,CAACwjB,GACHA,CAAAA,EAAcrT,GAAc9U,EAAQ0Q,GAAK1Q,GAAO,EAElD,IAAImlB,EAAQ,GACRrhB,EAAQ,GACRmO,EAAS8C,GAAWpQ,GACpBd,EAASskB,EAAYtkB,MAAM,CAO/B,IALI4kB,AAAY,KAAZA,EACFtD,EAAQ,GACCvW,GAAS6Z,IAAY,WAAWA,CAAM,GAC/CtD,CAAAA,EAAQsD,EAAQtD,KAAK,AAAD,EAEf,EAAErhB,EAAQD,GAAQ,CACvB,IAAI8b,EAAawI,CAAW,CAACrkB,EAAM,CAC/BsN,EAAOpR,CAAM,CAAC2f,EAAW,AAE7Bhb,CAAAA,CAAM,CAACgb,EAAW,CAAGvO,EACjBa,GACFtN,CAAAA,EAAOiD,SAAS,CAAC+X,EAAW,CAAI,SAASvO,CAAI,EAC3C,OAAO,WACL,IAAIvF,EAAW,IAAI,CAACI,SAAS,CAC7B,GAAIkZ,GAAStZ,EAAU,CACrB,IAAI3G,EAASP,EAAO,IAAI,CAACoH,WAAW,EAKpC,MAFAD,AAFc5G,CAAAA,EAAO8G,WAAW,CAAGY,GAAU,IAAI,CAACZ,WAAW,GAErDyC,IAAI,CAAC,CAAE,KAAQ2C,EAAM,KAAQsI,UAAW,QAAW/U,CAAO,GAClEO,EAAO+G,SAAS,CAAGJ,EACZ3G,CACT,CACA,OAAOkM,EAAKgC,KAAK,CAACzO,EAAQiL,GAAU,CAAC,IAAI,CAAC3M,KAAK,GAAG,CAAEyW,WACtD,CACF,EAAEtI,EAAK,CAEX,CACA,OAAOzM,CACT,CAcA,SAASosB,KAEP,OADAhuB,GAAKkE,CAAC,CAAGmB,GACF,IAAI,AACb,CAgBA,SAASwY,KAET,CAwBA,SAASlP,GAASuD,CAAI,EACpB,OAAO4B,GAAM5B,GAAQuC,GAAavC,GAAQwC,GAAiBxC,EAC7D,CAsBA,SAAS+b,GAAWrsB,CAAM,EACxB,OAAO,SAASsQ,CAAI,EAClB,OAAOD,GAAQrQ,EAAQoS,GAAO9B,GAAQA,EAAO,GAC/C,CACF,CAmCA,SAASgc,GAAM3jB,CAAK,CAAEC,CAAG,CAAE2jB,CAAI,EACzBA,GAAQhW,GAAe5N,EAAOC,EAAK2jB,IACrC3jB,CAAAA,EAAM2jB,EAAOv0B,CAAQ,EAEvB2Q,EAAQ,CAACA,GAAS,EAClB4jB,EAAOA,AAAQ,MAARA,EAAe,EAAK,CAACA,GAAQ,EAEhC3jB,AAAO,MAAPA,GACFA,EAAMD,EACNA,EAAQ,GAERC,EAAM,CAACA,GAAO,EAQhB,IAJA,IAAIzJ,EAAQ,GACRD,EAAS+F,GAAUT,GAAW,AAACoE,CAAAA,EAAMD,CAAI,EAAM4jB,CAAAA,GAAQ,IAAK,GAC5DhsB,EAAS8B,EAAMnD,GAEZ,EAAEC,EAAQD,GACfqB,CAAM,CAACpB,EAAM,CAAGwJ,EAChBA,GAAS4jB,EAEX,OAAOhsB,CACT,CA6BA,SAASisB,GAAMpO,CAAC,CAAExc,CAAQ,CAAE8K,CAAO,EAKjC,GAAI0R,AAJJA,CAAAA,EAAIzZ,GAAYyZ,EAAC,EAIT,GAAK,CAACtZ,GAAesZ,GAC3B,MAAO,EAAE,CAEX,IAAIjf,EAAQ,GACRoB,EAAS8B,EAAM8C,GAAUiZ,EAAGxY,KAGhC,IADAhE,EAAWgL,GAAahL,EAAU8K,EAAS,GACpC,EAAEvN,EAAQif,GACXjf,EAAQyG,GACVrF,CAAM,CAACpB,EAAM,CAAGyC,EAASzC,GAEzByC,EAASzC,GAGb,OAAOoB,CACT,CAkBA,SAASksB,GAASC,CAAM,EACtB,IAAIlI,EAAK,EAAEjhB,GACX,OAAO/D,GAAaktB,GAAUlI,CAChC,CAkBA,SAASna,GAAIsiB,CAAM,CAAEC,CAAM,EACzB,MAAO,AAAC,EAACD,GAAU,GAAM,EAACC,GAAU,EACtC,CAsBA,IAAInoB,GAAOsW,GAAY,QAsBnBnW,GAAQmW,GAAY,SAiDpB7V,GAAMwS,GAAesO,GAAItgB,IAiDzBN,GAAMsS,GAAeoP,GAAInhB,IAsBzBknB,GAAQ9R,GAAY,SAkCxB,SAAS+R,GAAI3gB,CAAU,CAAEvK,CAAQ,CAAE8K,CAAO,EAKxC,OAJIA,GAAW6J,GAAepK,EAAYvK,EAAU8K,IAClD9K,CAAAA,EAAW5J,CAAQ,EAGd4J,AAAmB,GAAnBA,AADPA,CAAAA,EAAWgS,GAAYhS,EAAU8K,EAAS,EAAC,EAC3BxN,MAAM,CAClBsM,GAAS3E,GAAQsF,GAAcA,EAAawL,GAAWxL,GAAavK,GACpEiS,GAAQ1H,EAAYvK,EAC1B,CA4fA,OAvfAgF,GAAO3D,SAAS,CAAGgE,GAAWhE,SAAS,CAEvC8D,GAAc9D,SAAS,CAAGoL,GAAWpH,GAAWhE,SAAS,EACzD8D,GAAc9D,SAAS,CAAC6Y,WAAW,CAAG/U,GAEtCD,GAAY7D,SAAS,CAAGoL,GAAWpH,GAAWhE,SAAS,EACvD6D,GAAY7D,SAAS,CAAC6Y,WAAW,CAAGhV,GAGpCuC,GAASpG,SAAS,CAAC,MAAS,CAAGsG,GAC/BF,GAASpG,SAAS,CAAC+Y,GAAG,CAAGvS,GACzBJ,GAASpG,SAAS,CAACuG,GAAG,CAAGE,GACzBL,GAASpG,SAAS,CAACiH,GAAG,CAAGP,GAGzBC,GAAS3G,SAAS,CAAC6G,IAAI,CAAGM,GAG1B6a,GAAQG,KAAK,CAAG/b,GAGhBzC,GAAOuc,KAAK,CAAGA,GACfvc,GAAO6S,GAAG,CAAGA,GACb7S,GAAOogB,MAAM,CAAGA,GAChBpgB,GAAOya,EAAE,CAAGA,GACZza,GAAOyc,MAAM,CAAGA,GAChBzc,GAAO0c,IAAI,CAAGA,GACd1c,GAAO2c,OAAO,CAAGA,GACjB3c,GAAO8c,OAAO,CAAGA,GACjB9c,GAAO+M,QAAQ,CAAGA,GAClB/M,GAAO4Z,KAAK,CAAGA,GACf5Z,GAAOoX,KAAK,CAAGA,GACfpX,GAAOqX,OAAO,CAAGA,GACjBrX,GAAOklB,QAAQ,CAAGA,GAClBllB,GAAO0a,OAAO,CAAGA,GACjB1a,GAAOqgB,MAAM,CAAGA,GAChBrgB,GAAO+c,KAAK,CAAGA,GACf/c,GAAOgd,UAAU,CAAGA,GACpBhd,GAAOid,QAAQ,CAAGA,GAClBjd,GAAOrE,QAAQ,CAAGA,GAClBqE,GAAOugB,YAAY,CAAGA,GACtBvgB,GAAOie,KAAK,CAAGA,GACfje,GAAOke,KAAK,CAAGA,GACfle,GAAOsX,UAAU,CAAGA,GACpBtX,GAAOuX,IAAI,CAAGA,GACdvX,GAAOyX,SAAS,CAAGA,GACnBzX,GAAO0X,cAAc,CAAGA,GACxB1X,GAAO2X,SAAS,CAAGA,GACnB3X,GAAO4X,IAAI,CAAGA,GACd5X,GAAO4a,MAAM,CAAGA,GAChB5a,GAAOgY,OAAO,CAAGA,GACjBhY,GAAOiY,WAAW,CAAGA,GACrBjY,GAAOme,IAAI,CAAGA,GACdne,GAAOoe,SAAS,CAAGA,GACnBpe,GAAOgb,OAAO,CAAGA,GACjBhb,GAAOib,YAAY,CAAGA,GACtBjb,GAAO0gB,KAAK,CAAGA,GACf1gB,GAAO2gB,UAAU,CAAGA,GACpB3gB,GAAO4gB,MAAM,CAAGA,GAChB5gB,GAAO6gB,WAAW,CAAGA,GACrB7gB,GAAO6c,SAAS,CAAGA,GACnB7c,GAAOkb,OAAO,CAAGA,GACjBlb,GAAOob,OAAO,CAAGA,GACjBpb,GAAOkY,OAAO,CAAGA,GACjBlY,GAAOmY,YAAY,CAAGA,GACtBnY,GAAO+gB,MAAM,CAAGA,GAChB/gB,GAAOqb,MAAM,CAAGA,GAChBrb,GAAOmF,IAAI,CAAGA,GACdnF,GAAOsJ,MAAM,CAAGA,GAChBtJ,GAAOub,GAAG,CAAGA,GACbvb,GAAOwhB,OAAO,CAAGA,GACjBxhB,GAAOyhB,SAAS,CAAGA,GACnBzhB,GAAOilB,OAAO,CAAGA,GACjBjlB,GAAOmlB,eAAe,CAAGA,GACzBnlB,GAAOqe,OAAO,CAAGA,GACjBre,GAAOqW,KAAK,CAAGA,GACfrW,GAAOolB,MAAM,CAAGA,GAChBplB,GAAOqlB,QAAQ,CAAGA,GAClBrlB,GAAOslB,KAAK,CAAGA,GACftlB,GAAOye,OAAO,CAAGA,GACjBze,GAAO0e,MAAM,CAAGA,GAChB1e,GAAO0hB,IAAI,CAAGA,GACd1hB,GAAO2e,IAAI,CAAGA,GACd3e,GAAOwV,KAAK,CAAGA,GACfxV,GAAO4e,OAAO,CAAGA,GACjB5e,GAAO6e,YAAY,CAAGA,GACtB7e,GAAOwb,SAAS,CAAGA,GACnBxb,GAAOpE,IAAI,CAAGA,GACdoE,GAAOyb,KAAK,CAAGA,GACfzb,GAAOmG,QAAQ,CAAGA,GAClBnG,GAAOylB,UAAU,CAAGA,GACpBzlB,GAAOuY,IAAI,CAAGA,GACdvY,GAAOwY,MAAM,CAAGA,GAChBxY,GAAO0lB,KAAK,CAAGA,GACf1lB,GAAO8e,KAAK,CAAGA,GACf9e,GAAO4b,MAAM,CAAGA,GAChB5b,GAAOyY,MAAM,CAAGA,GAChBzY,GAAO0Y,IAAI,CAAGA,GACd1Y,GAAOwP,SAAS,CAAGA,GACnBxP,GAAOsD,GAAG,CAAGA,GACbtD,GAAOgc,OAAO,CAAGA,GACjBhc,GAAOiU,KAAK,CAAGA,GACfjU,GAAOkc,MAAM,CAAGA,GAChBlc,GAAOmc,SAAS,CAAGA,GACnBnc,GAAOoc,WAAW,CAAGA,GACrBpc,GAAOgf,MAAM,CAAGA,GAChBhf,GAAO6Y,IAAI,CAAGA,GACd7Y,GAAO8Y,SAAS,CAAGA,GACnB9Y,GAAO+Y,cAAc,CAAGA,GACxB/Y,GAAOgZ,SAAS,CAAGA,GACnBhZ,GAAO6Z,GAAG,CAAGA,GACb7Z,GAAOif,QAAQ,CAAGA,GAClBjf,GAAOsR,IAAI,CAAGA,GACdtR,GAAO4lB,KAAK,CAAGA,GACf5lB,GAAO8b,OAAO,CAAGA,GACjB9b,GAAOgM,aAAa,CAAGA,GACvBhM,GAAO4hB,SAAS,CAAGA,GACnB5hB,GAAOiZ,KAAK,CAAGA,GACfjZ,GAAOkZ,IAAI,CAAGA,GACdlZ,GAAOoZ,KAAK,CAAGA,GACfpZ,GAAOsZ,SAAS,CAAGA,GACnBtZ,GAAOiD,MAAM,CAAGA,GAChBjD,GAAO6hB,QAAQ,CAAGA,GAClB7hB,GAAOqc,KAAK,CAAGA,GACfrc,GAAOuZ,OAAO,CAAGA,GACjBvZ,GAAOkf,IAAI,CAAGA,GACdlf,GAAOwZ,GAAG,CAAGA,GACbxZ,GAAOyZ,GAAG,CAAGA,GACbzZ,GAAO0Z,SAAS,CAAGA,GACnB1Z,GAAO2Z,OAAO,CAAGA,GAGjB3Z,GAAOmmB,QAAQ,CAAG/H,GAClBpe,GAAOomB,OAAO,CAAG7K,GACjBvb,GAAOqmB,OAAO,CAAGjI,GACjBpe,GAAOsmB,IAAI,CAAGtL,GACdhb,GAAOumB,SAAS,CAAGtL,GACnBjb,GAAOwmB,MAAM,CAAGpG,GAChBpgB,GAAOhF,QAAQ,CAAG+R,GAClB/M,GAAOymB,OAAO,CAAG5J,GACjB7c,GAAO5G,MAAM,CAAGsgB,GAChB1Z,GAAO0mB,MAAM,CAAG9L,GAChB5a,GAAO2mB,IAAI,CAAGjO,GACd1Y,GAAO4mB,MAAM,CAAG1N,GAGhBoM,GAAMtlB,GAAQA,IAKdA,GAAOyD,GAAG,CAAGA,GACbzD,GAAOqkB,OAAO,CAAGA,GACjBrkB,GAAOkiB,SAAS,CAAGA,GACnBliB,GAAOsiB,UAAU,CAAGA,GACpBtiB,GAAOnC,IAAI,CAAGA,GACdmC,GAAOuB,KAAK,CAAGA,GACfvB,GAAOmf,SAAS,CAAGA,GACnBnf,GAAOsQ,MAAM,CAAGA,GAChBtQ,GAAOuiB,QAAQ,CAAGA,GAClBviB,GAAOyiB,MAAM,CAAGA,GAChBziB,GAAO0iB,YAAY,CAAGA,GACtB1iB,GAAO2a,KAAK,CAAGA,GACf3a,GAAO6a,IAAI,CAAGA,GACd7a,GAAO6X,SAAS,CAAGA,GACnB7X,GAAOwgB,OAAO,CAAGA,GACjBxgB,GAAO8a,QAAQ,CAAGA,GAClB9a,GAAO8X,aAAa,CAAGA,GACvB9X,GAAOygB,WAAW,CAAGA,GACrBzgB,GAAO+a,SAAS,CAAGA,GACnB/a,GAAO+X,KAAK,CAAGA,GACf/X,GAAOhC,KAAK,CAAGA,GACfgC,GAAOoV,GAAG,CAAGA,GACbpV,GAAOof,EAAE,CAAGA,GACZpf,GAAOqf,GAAG,CAAGA,GACbrf,GAAO4C,GAAG,CAAGA,GACb5C,GAAOiG,QAAQ,CAAGA,GAClBjG,GAAOmb,QAAQ,CAAGA,GAClBnb,GAAOhH,OAAO,CAAGA,GACjBgH,GAAO8hB,OAAO,CAAGA,GACjB9hB,GAAOiJ,WAAW,CAAGA,GACrBjJ,GAAOC,OAAO,CAAGA,GACjBD,GAAOsf,SAAS,CAAGA,GACnBtf,GAAOuf,MAAM,CAAGA,GAChBvf,GAAOwf,SAAS,CAAGA,GACnBxf,GAAOyf,OAAO,CAAGA,GACjBzf,GAAO0f,OAAO,CAAGA,GACjB1f,GAAO2f,OAAO,CAAGA,GACjB3f,GAAO7B,QAAQ,CAAGA,GAClB6B,GAAOwJ,UAAU,CAAGA,GACpBxJ,GAAO4f,OAAO,CAAGA,GACjB5f,GAAO6f,KAAK,CAAGA,GACf7f,GAAOyV,QAAQ,CAAGA,GAClBzV,GAAO+f,MAAM,CAAGA,GAChB/f,GAAO8f,QAAQ,CAAGA,GAClB9f,GAAOqD,QAAQ,CAAGA,GAClBrD,GAAO+L,aAAa,CAAGA,GACvB/L,GAAOggB,QAAQ,CAAGA,GAClBhgB,GAAOgX,QAAQ,CAAGA,GAClBhX,GAAOqK,YAAY,CAAGA,GACtBrK,GAAOigB,WAAW,CAAGA,GACrBjgB,GAAO2iB,SAAS,CAAGA,GACnB3iB,GAAO0L,IAAI,CAAGA,GACd1L,GAAOsY,WAAW,CAAGA,GACrBtY,GAAOkgB,EAAE,CAAGA,GACZlgB,GAAOmgB,GAAG,CAAGA,GACbngB,GAAO1B,GAAG,CAAGA,GACb0B,GAAOxB,GAAG,CAAGA,GACbwB,GAAOwlB,UAAU,CAAGA,GACpBxlB,GAAOqV,IAAI,CAAGA,GACdrV,GAAO4W,GAAG,CAAGA,GACb5W,GAAO4iB,GAAG,CAAGA,GACb5iB,GAAO6iB,OAAO,CAAGA,GACjB7iB,GAAO8iB,QAAQ,CAAGA,GAClB9iB,GAAOrB,QAAQ,CAAGA,GAClBqB,GAAOnB,MAAM,CAAGA,GAChBmB,GAAO0b,MAAM,CAAGA,GAChB1b,GAAO2b,WAAW,CAAGA,GACrB3b,GAAOgU,MAAM,CAAGA,GAChBhU,GAAOrG,MAAM,CAAGA,GAChBqG,GAAOimB,KAAK,CAAGA,GACfjmB,GAAOzE,YAAY,CAAGA,GACtByE,GAAO2V,IAAI,CAAGA,GACd3V,GAAOijB,SAAS,CAAGA,GACnBjjB,GAAOic,IAAI,CAAGA,GACdjc,GAAO2Y,WAAW,CAAGA,GACrB3Y,GAAO4Y,eAAe,CAAGA,GACzB5Y,GAAOkjB,SAAS,CAAGA,GACnBljB,GAAOmjB,UAAU,CAAGA,GACpBnjB,GAAOkmB,GAAG,CAAGA,GACblmB,GAAOojB,QAAQ,CAAGA,GAClBpjB,GAAOgjB,IAAI,CAAGA,GACdhjB,GAAOskB,QAAQ,CAAGA,GAClBtkB,GAAOukB,SAAS,CAAGA,GACnBvkB,GAAOwkB,KAAK,CAAGA,GACfxkB,GAAO8kB,QAAQ,CAAGA,GAClB9kB,GAAO6lB,QAAQ,CAAGA,GAClB7lB,GAAOqQ,KAAK,CAAGA,GAGfrQ,GAAO6mB,GAAG,CAAGlM,GACb3a,GAAO8mB,GAAG,CAAG7K,GACbjc,GAAO+mB,QAAQ,CAAG5L,GAClBnb,GAAOgnB,EAAE,CAAGtH,GACZ1f,GAAOinB,MAAM,CAAGpM,GAChB7a,GAAOknB,KAAK,CAAGxL,GACf1b,GAAOmnB,KAAK,CAAGxL,GACf3b,GAAOonB,IAAI,CAAGrP,GACd/X,GAAOqnB,OAAO,CAAGlM,GACjBnb,GAAOsnB,MAAM,CAAG5L,GAEhB4J,GAAMtlB,GAAS,WACb,IAAIvL,EAAS,CAAC,EAMd,OALAoS,GAAW7G,GAAQ,SAAS6F,CAAI,CAAEuO,CAAU,EACtC,CAACpU,GAAO3D,SAAS,CAAC+X,EAAW,EAC/B3f,CAAAA,CAAM,CAAC2f,EAAW,CAAGvO,CAAG,CAE5B,GACOpR,CACT,IAAM,IAKNuL,GAAO6b,MAAM,CAAGA,GAEhB7b,GAAO3D,SAAS,CAACwf,MAAM,CAAG,SAASrE,CAAC,SAClC,AAAI,AAAC,IAAI,CAAC9W,SAAS,EAAI8W,AAAK,MAALA,EAGhB,IAAI,CAAClG,IAAI,CAAC,SAAS5Z,CAAK,EAC7B,OAAOmkB,GAAOnkB,EAAO8f,EACvB,GAJSqE,GAAO,IAAI,CAACnkB,KAAK,GAK5B,EAWAsI,GAAO3O,OAAO,CAAGA,EAGjBsP,GAAU,CAAC,OAAQ,UAAW,QAAS,aAAc,UAAW,eAAe,CAAE,SAASyT,CAAU,EAClGpU,EAAM,CAACoU,EAAW,CAACzZ,WAAW,CAAGqF,EACnC,GAGAW,GAAU,CAAC,OAAQ,OAAO,CAAE,SAASyT,CAAU,CAAE7b,CAAK,EACpD2H,GAAY7D,SAAS,CAAC+X,EAAW,CAAG,SAASoD,CAAC,EAC5C,IAAI+P,EAAW,IAAI,CAACvmB,YAAY,CAChC,GAAIumB,GAAY,CAAChvB,EACf,OAAO,IAAI2H,GAAY,IAAI,EAE7BsX,EAAIA,AAAK,MAALA,EAAY,EAAInZ,GAAUN,GAAYyZ,IAAM,EAAG,GAEnD,IAAI7d,EAAS,IAAI,CAAC4H,KAAK,GAMvB,OALIgmB,EACF5tB,EAAOuH,aAAa,CAAG3C,GAAU5E,EAAOuH,aAAa,CAAEsW,GAEvD7d,EAAOwH,SAAS,CAAC+B,IAAI,CAAC,CAAE,KAAQsU,EAAG,KAAQpD,EAAcza,CAAAA,EAAOoH,OAAO,CAAG,EAAI,QAAU,EAAC,CAAG,GAEvFpH,CACT,EAEAuG,GAAY7D,SAAS,CAAC+X,EAAa,QAAQ,CAAG,SAASoD,CAAC,EACtD,OAAO,IAAI,CAAC6C,OAAO,EAAE,CAACjG,EAAW,CAACoD,GAAG6C,OAAO,EAC9C,CACF,GAGA1Z,GAAU,CAAC,SAAU,MAAO,YAAY,CAAE,SAASyT,CAAU,CAAE7b,CAAK,EAClE,IAAIiK,EAAOjK,EAAQ,EACfivB,EAAWhlB,GAAQnQ,CAEvB6N,CAAAA,GAAY7D,SAAS,CAAC+X,EAAW,CAAG,SAASpZ,CAAQ,CAAE8K,CAAO,EAC5D,IAAInM,EAAS,IAAI,CAAC4H,KAAK,GAGvB,OAFA5H,EAAOsH,aAAa,CAACiC,IAAI,CAAC,CAAE,SAAY8J,GAAYhS,EAAU8K,EAAS,GAAI,KAAQtD,CAAK,GACxF7I,EAAOqH,YAAY,CAAGrH,EAAOqH,YAAY,EAAIwmB,EACtC7tB,CACT,CACF,GAGAgH,GAAU,CAAC,QAAS,OAAO,CAAE,SAASyT,CAAU,CAAE7b,CAAK,EACrD,IAAIkvB,EAAW,OAAUlvB,CAAAA,EAAQ,QAAU,EAAC,CAE5C2H,CAAAA,GAAY7D,SAAS,CAAC+X,EAAW,CAAG,WAClC,OAAO,IAAI,CAACqT,EAAS,CAAC,GAAG/vB,KAAK,EAAE,CAAC,EAAE,AACrC,CACF,GAGAiJ,GAAU,CAAC,UAAW,OAAO,CAAE,SAASyT,CAAU,CAAE7b,CAAK,EACvD,IAAImvB,EAAW,OAAUnvB,CAAAA,EAAQ,GAAK,OAAM,CAE5C2H,CAAAA,GAAY7D,SAAS,CAAC+X,EAAW,CAAG,WAClC,OAAO,IAAI,CAACpT,YAAY,CAAG,IAAId,GAAY,IAAI,EAAI,IAAI,CAACwnB,EAAS,CAAC,EACpE,CACF,GAGA/mB,GAAU,CAAC,QAAS,QAAQ,CAAE,SAASyT,CAAU,CAAE7b,CAAK,EACtD,IAAIovB,EAAgBpvB,EAAQ,SAAW,MACnCqvB,EAAiBrvB,EAAQ2N,GAAcC,EAE3CjG,CAAAA,GAAY7D,SAAS,CAAC+X,EAAW,CAAG,SAAS1c,CAAK,EAChD,OAAO,IAAI,CAACiwB,EAAc,CAACC,EAAelwB,GAC5C,CACF,GAEAwI,GAAY7D,SAAS,CAACgb,OAAO,CAAG,WAC9B,OAAO,IAAI,CAACuD,MAAM,CAAC3U,GACrB,EAEA/F,GAAY7D,SAAS,CAACuf,MAAM,CAAG,SAASxjB,CAAS,CAAE0N,CAAO,EAExD,OADA1N,EAAY4U,GAAY5U,EAAW0N,EAAS,GACrC,IAAI,CAAC8U,MAAM,CAAC,SAASljB,CAAK,EAC/B,MAAO,CAACU,EAAUV,EACpB,EACF,EAEAwI,GAAY7D,SAAS,CAAC4X,KAAK,CAAG,SAASlS,CAAK,CAAEC,CAAG,EAC/CD,EAAQA,AAAS,MAATA,EAAgB,EAAK,CAACA,GAAS,EAEvC,IAAIpI,EAAS,IAAI,QACjB,AAAIA,EAAOqH,YAAY,EAAKe,CAAAA,EAAQ,GAAKC,EAAM,GACtC,IAAI9B,GAAYvG,IAErBoI,EAAQ,EACVpI,EAASA,EAAOmf,SAAS,CAAC,CAAC/W,GAClBA,GACTpI,CAAAA,EAASA,EAAO4d,IAAI,CAACxV,EAAK,EAEhB3Q,IAAR4Q,GAEFrI,CAAAA,EAASqI,AADTA,CAAAA,EAAO,CAACA,GAAO,CAAC,EACD,EAAIrI,EAAO8d,SAAS,CAAC,CAACzV,GAAOrI,EAAOkf,IAAI,CAAC7W,EAAMD,EAAK,EAE9DpI,EACT,EAEAuG,GAAY7D,SAAS,CAAC0c,cAAc,CAAG,SAAS3gB,CAAS,CAAE0N,CAAO,EAChE,OAAO,IAAI,CAACuU,OAAO,GAAGrB,SAAS,CAAC5gB,EAAW0N,GAASuU,OAAO,EAC7D,EAEAna,GAAY7D,SAAS,CAACyf,OAAO,CAAG,WAC9B,OAAO,IAAI,CAACjD,IAAI,CAAC9Z,GACnB,EAGA8H,GAAW3G,GAAY7D,SAAS,CAAE,SAASwJ,CAAI,CAAEuO,CAAU,EACzD,IAAIyT,EAAgB,gCAAgCzgB,IAAI,CAACgN,GACrD0T,EAAe,mBAAmB1gB,IAAI,CAACgN,GACvC2T,EAAa/nB,EAAM,CAAC8nB,EAAgB,OAAU1T,CAAAA,AAAc,QAAdA,EAAuB,QAAU,EAAC,EAAMA,EAAW,CAErG,IAAI,CAAC2T,EAGL/nB,GAAO3D,SAAS,CAAC+X,EAAW,CAAG,WAC7B,IAAIxM,EAAOkgB,EAAe,CAAC,EAAE,CAAG3Z,UAC5B7N,EAAW,IAAI,CAACI,SAAS,CACzBhJ,EAAQ,IAAI,CAAC8I,WAAW,CACxBwnB,EAAW,CAAC,CAAC,IAAI,CAACvnB,WAAW,CAACnI,MAAM,CACpC2vB,EAASvwB,aAAiBwI,GAC1BlF,EAAW4M,CAAI,CAAC,EAAE,CAClBsgB,EAAUD,GAAUhoB,GAAQvI,GAE5BwwB,GAAWL,GAAiB,AAAmB,YAAnB,OAAO7sB,GAA0BA,AAAmB,GAAnBA,EAAS1C,MAAM,EAE9E2vB,CAAAA,EAASC,EAAU,EAAI,EAEzB,IAAIpO,EAAc,SAASpiB,CAAK,EAC9B,OAAO,AAACowB,GAAgBxnB,EACpBynB,EAAWrwB,EAAO,EAAE,CAAC,EAAE,CACvBqwB,EAAWlgB,KAAK,CAACzW,EAAWiT,GAAU,CAAC3M,EAAM,CAAEkQ,GACrD,EAEI4F,EAAS,CAAE,KAAQ8D,GAAM,KAAQ,CAACwI,EAAY,CAAE,QAAW1oB,CAAU,EACrE+2B,EAAWF,GAAU,CAACD,EAE1B,GAAIF,GAAgB,CAACxnB,SACnB,AAAI6nB,GAEFzwB,AADAA,CAAAA,EAAQA,EAAM6J,KAAK,EAAC,EACdd,WAAW,CAACyC,IAAI,CAACsK,GAChB3H,EAAK9I,IAAI,CAACrF,IAEZqwB,EAAWhrB,IAAI,CAAC3L,EAAW,IAAI,CAACsG,KAAK,GAAG,CAAC,EAAE,CAEpD,GAAI,CAACowB,GAAgBI,EAAS,CAC5BxwB,EAAQywB,EAAWzwB,EAAQ,IAAIwI,GAAY,IAAI,EAC/C,IAAIvG,EAASkM,EAAKgC,KAAK,CAACnQ,EAAOkQ,GAE/B,OADAjO,EAAO8G,WAAW,CAACyC,IAAI,CAACsK,GACjB,IAAIrN,GAAcxG,EAAQ2G,EACnC,CACA,OAAO,IAAI,CAACgR,IAAI,CAACwI,EACnB,CACF,GAGAnZ,GAAU,CAAC,OAAQ,MAAO,OAAQ,UAAW,QAAS,OAAQ,SAAU,QAAS,UAAU,CAAE,SAASyT,CAAU,EAC9G,IAAIgU,EAAY,AAAC,uBAAsBhhB,IAAI,CAACgN,GAAc5X,GAAcJ,EAAS,CAAE,CAACgY,EAAW,CAC3FiU,EAAY,0BAA0BjhB,IAAI,CAACgN,GAAc,MAAQ,OACjEkU,EAAa,CAACxnB,GAAQwG,aAAa,EAAI,yBAAyBF,IAAI,CAACgN,GACrE0T,EAAe,+BAA+B1gB,IAAI,CAACgN,GAInDvO,EAAO,AAACyiB,EAAyB,WACnC,IAAI3uB,EAASyuB,EAAUvgB,KAAK,CAAC,IAAI,CAAEsG,WAInC,OAHoB,IAAhB,IAAI,CAAC7V,MAAM,EACb,OAAO,IAAI,CAAC,EAAE,CAETqB,CACT,EANyByuB,CAQzBpoB,CAAAA,GAAO3D,SAAS,CAAC+X,EAAW,CAAG,WAC7B,IAAIxM,EAAOuG,iBACX,AAAI2Z,GAAgB,CAAC,IAAI,CAACpnB,SAAS,CAC1BmF,EAAKgC,KAAK,CAAC,IAAI,CAACnQ,KAAK,GAAIkQ,GAE3B,IAAI,CAACygB,EAAU,CAAC,SAAS3wB,CAAK,EACnC,OAAOmO,EAAKgC,KAAK,CAACnQ,EAAOkQ,EAC3B,EACF,CACF,GAGAf,GAAW3G,GAAY7D,SAAS,CAAE,SAASwJ,CAAI,CAAEuO,CAAU,EACzD,IAAI2T,EAAa/nB,EAAM,CAACoU,EAAW,CACnC,GAAI2T,EAAY,CACd,IAAIjtB,EAAOitB,EAAWpT,IAAI,CAAG,GAG7B4T,AAFYlpB,CAAAA,EAAS,CAACvE,EAAI,EAAKuE,CAAAA,EAAS,CAACvE,EAAI,CAAG,EAAE,AAAD,CAAC,EAE5CoI,IAAI,CAAC,CAAE,KAAQkR,EAAY,KAAQ2T,CAAW,EACtD,CACF,GAEA1oB,EAAS,CAACmT,GAAoBphB,EAAWG,GAAeojB,IAAI,CAAC,CAAG,CAAC,CAAE,KAAQ,UAAW,KAAQvjB,CAAU,EAAE,CAG1G8O,GAAY7D,SAAS,CAACkF,KAAK,CAAGH,GAC9BlB,GAAY7D,SAAS,CAACge,OAAO,CAAG/Y,GAChCpB,GAAY7D,SAAS,CAAC3E,KAAK,CAAG8J,GAG9BxB,GAAO3D,SAAS,CAACud,KAAK,CAAGG,GACzB/Z,GAAO3D,SAAS,CAACmsB,MAAM,CAAGxO,GAC1Bha,GAAO3D,SAAS,CAACosB,MAAM,CAAGxO,GAC1Bja,GAAO3D,SAAS,CAACsV,KAAK,CAAGuI,GACzBla,GAAO3D,SAAS,CAACge,OAAO,CAAGD,GAC3Bpa,GAAO3D,SAAS,CAAC/B,QAAQ,CAAGigB,GAC5Bva,GAAO3D,SAAS,CAACqsB,GAAG,CAAG1oB,GAAO3D,SAAS,CAACssB,MAAM,CAAG3oB,GAAO3D,SAAS,CAACusB,OAAO,CAAG5oB,GAAO3D,SAAS,CAAC3E,KAAK,CAAG8iB,GAGrGxa,GAAO3D,SAAS,CAAC+pB,OAAO,CAAGpmB,GAAO3D,SAAS,CAACkf,GAAG,CAC/Cvb,GAAO3D,SAAS,CAAC+qB,IAAI,CAAGpnB,GAAO3D,SAAS,CAAC0b,KAAK,CAC9C/X,GAAO3D,SAAS,CAACqqB,MAAM,CAAG1mB,GAAO3D,SAAS,CAACue,MAAM,CACjD5a,GAAO3D,SAAS,CAACsqB,IAAI,CAAG3mB,GAAO3D,SAAS,CAACqc,IAAI,CAEtC1Y,EACT,CAKA,IAAItE,GAAIH,IAGJ,AAAiB,aAAjB,OAAOstB,QAAwB,AAAqB,UAArB,OAAOA,OAAOC,GAAG,EAAgBD,OAAOC,GAAG,EAK5EtxB,GAAKkE,CAAC,CAAGA,GAITmtB,OAAO,WACL,OAAOntB,EACT,IAGO/E,IAAeG,GAElBS,GACF,AAACT,CAAAA,GAAWF,OAAO,CAAG8E,EAAAA,EAAGA,CAAC,CAAGA,GAI7B/E,GAAY+E,CAAC,CAAGA,GAKlBlE,GAAKkE,CAAC,CAAGA,EAEb,GAAEqB,IAAI,CAAC,IAAI,C,gCCjzYX,SAASgsB,EAAgBC,CAAG,EAC3B,OACCA,aAAeC,QACZD,aAAentB,MACfmtB,aAAex0B,MAEpB,CAEA,SAAS00B,EAAmBF,CAAG,EAC9B,GAAIA,aAAeC,OAAQ,CAC1B,IAAIliB,EAAIkiB,OAAOE,KAAK,CACjBF,OAAOE,KAAK,CAACH,EAAI1wB,MAAM,EACvB,IAAI2wB,OAAOD,EAAI1wB,MAAM,EAExB,OADA0wB,EAAII,IAAI,CAACriB,GACFA,CACR,CAAO,GAAIiiB,aAAentB,KACzB,OAAO,IAAIA,KAAKmtB,EAAI1M,OAAO,IACrB,GAAI0M,aAAex0B,OACzB,OAAO,IAAIA,OAAOw0B,QAElB,MAAM,AAAIltB,MAAM,uBAElB,CAKA,SAASutB,EAAeC,CAAG,EAC1B,IAAI/nB,EAAQ,EAAE,CAcd,OAbA+nB,EAAItO,OAAO,CAAC,SAAUuO,CAAI,CAAEhxB,CAAK,EAC5B,AAAgB,UAAhB,OAAOgxB,GAAqBA,AAAS,OAATA,EAC3B9tB,MAAMwE,OAAO,CAACspB,GACjBhoB,CAAK,CAAChJ,EAAM,CAAG8wB,EAAeE,GACpBR,EAAgBQ,GAC1BhoB,CAAK,CAAChJ,EAAM,CAAG2wB,EAAmBK,GAElChoB,CAAK,CAAChJ,EAAM,CAAGixB,EAAW,CAAC,EAAGD,GAG/BhoB,CAAK,CAAChJ,EAAM,CAAGgxB,CAEjB,GACOhoB,CACR,CAEA,SAASkoB,EAAgBrwB,CAAM,CAAE+M,CAAQ,EACxC,MAAOA,AAAa,cAAbA,EAA2B/U,KAAAA,EAAYgI,CAAM,CAAC+M,EAAS,AAC/D,CAWA,IAAIqjB,EAAazyB,EAAOH,OAAO,CAAG,WACjC,GAAIuX,UAAU7V,MAAM,CAAG,GAAK,AAAwB,UAAxB,OAAO6V,SAAS,CAAC,EAAE,CAC9C,MAAO,GAGR,GAAIA,UAAU7V,MAAM,CAAG,EACtB,OAAO6V,SAAS,CAAC,EAAE,CAGpB,IAKI6a,EAAKU,EALLnU,EAASpH,SAAS,CAAC,EAAE,CAGrBvG,EAAOnM,MAAMY,SAAS,CAAC4X,KAAK,CAAClX,IAAI,CAACoR,UAAW,GAiDjD,OA7CAvG,EAAKoT,OAAO,CAAC,SAAU2O,CAAG,EAEzB,IAAI,CAAe,UAAf,OAAOA,GAAoBA,AAAQ,OAARA,GAAgBluB,MAAMwE,OAAO,CAAC0pB,EAAG,EAIhEzyB,OAAOiO,IAAI,CAACwkB,GAAK3O,OAAO,CAAC,SAAUlgB,CAAG,EAKrC,GAJA4uB,EAAMD,EAAgBlU,EAAQza,GAI1BkuB,AAHJA,CAAAA,EAAMS,EAAgBE,EAAK7uB,EAAG,IAGlBya,GAOL,GAAI,AAAe,UAAf,OAAOyT,GAAoBA,AAAQ,OAARA,EAAc,CACnDzT,CAAM,CAACza,EAAI,CAAGkuB,EACd,MAGD,CAAO,GAAIvtB,MAAMwE,OAAO,CAAC+oB,GAAM,CAC9BzT,CAAM,CAACza,EAAI,CAAGuuB,EAAeL,GAC7B,MAGD,MAAO,GAAID,EAAgBC,GAAM,CAChCzT,CAAM,CAACza,EAAI,CAAGouB,EAAmBF,GACjC,MAGD,MAAO,GAAI,AAAe,UAAf,OAAOU,GAAoBA,AAAQ,OAARA,GAAgBjuB,MAAMwE,OAAO,CAACypB,GAAM,CACzEnU,CAAM,CAACza,EAAI,CAAG0uB,EAAW,CAAC,EAAGR,GAC7B,MAGD,KAAO,CACNzT,CAAM,CAACza,EAAI,CAAG0uB,EAAWE,EAAKV,GAC9B,MACD,EACD,EACD,GAEOzT,CACR,C,qBCrJA3e,EAAQgzB,KAAK,CAAGhzB,EAAQizB,MAAM,CAAGA,EAEjCjzB,EAAQkzB,SAAS,CAAGlzB,EAAQmzB,MAAM,CAAGA,EAErCnzB,EAAQozB,IAAI,CAAGA,EACfpzB,EAAQqzB,MAAM,CAAGA,EAEjB,IAAIC,EAAM,AAAmB,aAAnB,OAAOC,SACfA,AAAqB,UAArBA,QAAQC,QAAQ,CAAe,OAAS,KAE1C,SAASL,EAAQJ,CAAG,CAAEU,CAAG,EACvB,IAAIC,EAAW,EAAE,CACbC,EAAM,EAEN,AAAe,WAAf,OAAOF,EACTA,EAAM,CACJG,QAASH,EACTI,WAAY,EACd,EAGAJ,AADAA,CAAAA,EAAMA,GAAO,CAAC,GACVI,UAAU,CAAGJ,AAAmB,KAAnBA,EAAII,UAAU,CAGjC,IAAI/F,EAAY2F,EAAII,UAAU,CAAG,MAAQ,IA8BzC,OA5BAvzB,OAAOiO,IAAI,CAACwkB,GAAK3O,OAAO,CAAC,SAAU0P,CAAC,CAAEhvB,CAAC,CAAEivB,CAAE,EACzC,IAAI3B,EAAMW,CAAG,CAACe,EAAE,AACZ1B,CAAAA,GAAOvtB,MAAMwE,OAAO,CAAC+oB,GACvBA,EAAIhO,OAAO,CAAC,SAAUuO,CAAI,EACxBgB,GAAOP,EAAKU,EAAI,MAAQhG,EAAYsF,EAAKT,GAAQ,IACnD,GACSP,GAAO,AAAe,UAAf,OAAOA,EACvBsB,EAASpnB,IAAI,CAACwnB,GAEdH,GAAOP,EAAKU,GAAKhG,EAAYsF,EAAKhB,GAAOkB,CAC7C,GAEIG,EAAIG,OAAO,EAAID,EAAIjyB,MAAM,EAC3BiyB,CAAAA,EAAM,IAAMP,EAAKK,EAAIG,OAAO,EAAI,IAAMN,EAAMK,CAAE,EAEhDD,EAAStP,OAAO,CAAC,SAAU0P,CAAC,CAAEhvB,CAAC,CAAEivB,CAAE,EACjC,IAAIC,EAAKC,EAASH,GAAGI,IAAI,CAAC,OACtBN,EAAU,AAACH,CAAAA,EAAIG,OAAO,CAAGH,EAAIG,OAAO,CAAG,IAAM,EAAC,EAAKI,EACnDG,EAAQhB,EAAOJ,CAAG,CAACe,EAAE,CAAE,CACzBF,QAASA,EACTC,WAAYJ,EAAII,UAAU,AAC5B,EACIF,CAAAA,EAAIjyB,MAAM,EAAIyyB,EAAMzyB,MAAM,EAC5BiyB,CAAAA,GAAOL,CAAE,EAEXK,GAAOQ,CACT,GAEOR,CACT,CAEA,SAASM,EAAUG,CAAG,EACpB,OAAOA,EAAIhuB,OAAO,CAAC,MAAO,6BACvBA,OAAO,CAAC,QAAS,QACjBia,KAAK,CAAC,MAAMsE,GAAG,CAAC,SAAU0P,CAAI,EAC7B,OAAOA,EAAKjuB,OAAO,CAAC,MAAO,OACxBA,OAAO,CAAC,yBAA0B,OACvC,EACJ,CAEA,SAAS6sB,EAAQmB,CAAG,EAClB,IAAIT,EAAM,CAAC,EACPW,EAAIX,EACJC,EAAU,KAEVW,EAAK,oCA+ET,OA5EAC,AAFYJ,EAAI/T,KAAK,CAAC,YAEhB+D,OAAO,CAAC,SAAUqQ,CAAI,CAAE3vB,CAAC,CAAEivB,CAAE,EACjC,GAAI,CAACU,GAAQA,EAAKnU,KAAK,CAAC,YACtB,OACF,IAAIA,EAAQmU,EAAKnU,KAAK,CAACiU,GACvB,IAAI,CAACjU,GAEL,GAAIA,AAAa9lB,KAAAA,IAAb8lB,CAAK,CAAC,EAAE,CAAgB,CAE1B,GAAIsT,AAAY,cADhBA,CAAAA,EAAUP,EAAO/S,CAAK,CAAC,EAAE,GACI,CAG3BgU,EAAI,CAAC,EACL,MACF,CACAA,EAAIX,CAAG,CAACC,EAAQ,CAAGD,CAAG,CAACC,EAAQ,EAAI,CAAC,EACpC,MACF,CACA,IAAI1vB,EAAMmvB,EAAO/S,CAAK,CAAC,EAAE,EACzB,GAAIpc,AAAQ,cAARA,GAEJ,IAAIpD,EAAQwf,CAAAA,CAAK,CAAC,EAAE,EAAG+S,EAAO/S,CAAK,CAAC,EAAE,EACtC,OAAQxf,GACN,IAAK,OACL,IAAK,QACL,IAAK,OAAQA,EAAQ4zB,KAAK1B,KAAK,CAAClyB,EAClC,CAGA,GAAIoD,EAAIxC,MAAM,CAAG,GAAKwC,AAAkB,OAAlBA,EAAImZ,KAAK,CAAC,IAAc,CAE5C,GAAInZ,AAAQ,cADZA,CAAAA,EAAMA,EAAI+pB,SAAS,CAAC,EAAG/pB,EAAIxC,MAAM,CAAG,EAAC,EAEnC,MACG4yB,CAAAA,CAAC,CAACpwB,EAAI,CAEF,CAACW,MAAMwE,OAAO,CAACirB,CAAC,CAACpwB,EAAI,GAC5BowB,CAAAA,CAAC,CAACpwB,EAAI,CAAG,CAACowB,CAAC,CAACpwB,EAAI,CAAC,AAAD,EAFhBowB,CAAC,CAACpwB,EAAI,CAAG,EAAE,AAGf,CAIIW,MAAMwE,OAAO,CAACirB,CAAC,CAACpwB,EAAI,EACtBowB,CAAC,CAACpwB,EAAI,CAACoI,IAAI,CAACxL,GAEZwzB,CAAC,CAACpwB,EAAI,CAAGpD,GACb,GAIAR,OAAOiO,IAAI,CAAColB,GAAK3P,MAAM,CAAC,SAAU8P,CAAC,CAAEhvB,CAAC,CAAEivB,CAAE,EACxC,GAAI,CAACJ,CAAG,CAACG,EAAE,EACT,AAAkB,UAAlB,OAAOH,CAAG,CAACG,EAAE,EACbjvB,MAAMwE,OAAO,CAACsqB,CAAG,CAACG,EAAE,EACpB,MAAO,GAIT,IAAIa,EAAQV,EAASH,GACjBQ,EAAIX,EACJiB,EAAID,EAAMzgB,GAAG,GACb2gB,EAAKD,EAAExuB,OAAO,CAAC,QAAS,YAQ5B,AAPAuuB,EAAMvQ,OAAO,CAAC,SAAUiQ,CAAI,CAAEvvB,CAAC,CAAEivB,CAAE,EACpB,cAATM,IAEA,EAACC,CAAC,CAACD,EAAK,EAAI,AAAmB,UAAnB,OAAOC,CAAC,CAACD,EAAK,AAAY,GACxCC,CAAAA,CAAC,CAACD,EAAK,CAAG,CAAC,GACbC,EAAIA,CAAC,CAACD,EAAK,CACb,GACIC,CAAAA,IAAMX,GAAOkB,IAAOD,CAAAA,IAGxBN,CAAC,CAACO,EAAG,CAAGlB,CAAG,CAACG,EAAE,CACP,GACT,GAAG1P,OAAO,CAAC,SAAU0Q,CAAG,CAAEhwB,CAAC,CAAEivB,CAAE,EAC7B,OAAOJ,CAAG,CAACmB,EAAI,AACjB,GAEOnB,CACT,CAEA,SAASoB,EAAU3C,CAAG,EACpB,MAAO,AAAmB,MAAlBA,EAAI/vB,MAAM,CAAC,IAAc+vB,AAAkB,MAAlBA,EAAI/U,KAAK,CAAC,KACxC+U,AAAkB,MAAlBA,EAAI/vB,MAAM,CAAC,IAAc+vB,AAAkB,MAAlBA,EAAI/U,KAAK,CAAC,GACxC,CAEA,SAAS+V,EAAMhB,CAAG,EAChB,MAAO,AAAC,AAAe,UAAf,OAAOA,GACbA,EAAI9R,KAAK,CAAC,YACV8R,EAAI9R,KAAK,CAAC,QACT8R,EAAI1wB,MAAM,CAAG,GACbqzB,EAAS3C,IACVA,IAAQA,EAAIhG,IAAI,GACdsI,KAAKxB,SAAS,CAACd,GACfA,EAAIhsB,OAAO,CAAC,KAAM,OAAOA,OAAO,CAAC,KAAM,MAC7C,CAEA,SAASitB,EAAQjB,CAAG,CAAE4C,CAAO,EAE3B,GAAID,EADJ3C,EAAM,AAACA,CAAAA,GAAO,EAAC,EAAGhG,IAAI,IACH,CAEK,MAAlBgG,EAAI/vB,MAAM,CAAC,IACb+vB,CAAAA,EAAMA,EAAI6C,MAAM,CAAC,EAAG7C,EAAI1wB,MAAM,CAAG,EAAC,EAEpC,GAAI,CACF0wB,EAAMsC,KAAK1B,KAAK,CAACZ,EACnB,CAAE,MAAOttB,EAAG,CAAC,CACf,KAAO,CAIL,IAAK,IAFDowB,EAAM,GACNC,EAAQ,GACHC,EAAI,EAAGR,EAAIxC,EAAI1wB,MAAM,CAAE0zB,EAAIR,EAAGQ,IAAK,CAC1C,IAAIC,EAAIjD,EAAI/vB,MAAM,CAAC+yB,GACnB,GAAIF,EACE,AAAsB,KAAtB,OAAO9yB,OAAO,CAACizB,GACjBF,GAASE,EAETF,GAAS,KAAOE,EAElBH,EAAM,QACD,GAAI,AAAoB,KAApB,KAAK9yB,OAAO,CAACizB,GACtB,UACOA,AAAM,OAANA,EACPH,EAAM,GAENC,GAASE,CACb,CAIA,OAHIH,GACFC,CAAAA,GAAS,IAAG,EAEPA,EAAM/I,IAAI,EACnB,CACA,OAAOgG,CACT,C,mBCwBA,SAASkD,EAAQvC,CAAG,CAAExkB,CAAI,EACtB,IAAIgnB,EAAIxC,EAMR,OALAxkB,EAAK8O,KAAK,CAAC,EAAE,IAAI+G,OAAO,CAAC,SAAUlgB,CAAG,EAClCqxB,EAAKA,CAAC,CAACrxB,EAAI,EAAI,CAAC,CACpB,GAGOA,AADGqK,CAAI,CAACA,EAAK7M,MAAM,CAAG,EAAE,GACjB6zB,CAClB,CAEA,SAASrM,EAAU/Y,CAAC,QAChB,GAAiB,UAAb,OAAOA,GACP,iBAAiBK,IAAI,CAACL,KACnB,6CAA6CK,IAAI,CAACL,EAC7D,CAGA,SAASqlB,EAAsBzC,CAAG,CAAE7uB,CAAG,EACnC,MAAOA,AAAQ,gBAARA,GAAyB,AAAoB,YAApB,OAAO6uB,CAAG,CAAC7uB,EAAI,EAAmBA,AAAQ,cAARA,CACtE,CAxPA/D,EAAOH,OAAO,CAAG,SAAUgR,CAAI,CAAEykB,CAAI,EAC7B,CAACA,GAAMA,CAAAA,EAAO,CAAC,GAEnB,IAAIC,EAAQ,CAAEC,MAAQ,CAAC,EAAGC,QAAU,CAAC,EAAGC,UAAW,IAAK,CAEzB,aAA3B,OAAOJ,EAAK,OAAU,EACtBC,CAAAA,EAAMG,SAAS,CAAGJ,EAAK,OAAU,AAAD,EAGhC,AAA2B,WAA3B,OAAOA,EAAK,OAAU,EAAkBA,EAAK,OAAU,CACzDC,EAAMI,QAAQ,CAAG,GAEjB,EAAE,CAACjE,MAAM,CAAC4D,EAAK,OAAU,EAAEzR,MAAM,CAAC+R,SAAS3R,OAAO,CAAC,SAAUlgB,CAAG,EAC5DwxB,EAAMC,KAAK,CAACzxB,EAAI,CAAG,EACvB,GAGF,IAAI8xB,EAAU,CAAC,EACf11B,OAAOiO,IAAI,CAACknB,EAAKQ,KAAK,EAAI,CAAC,GAAG7R,OAAO,CAAC,SAAUlgB,CAAG,EAC/C8xB,CAAO,CAAC9xB,EAAI,CAAG,EAAE,CAAC2tB,MAAM,CAAC4D,EAAKQ,KAAK,CAAC/xB,EAAI,EACxC8xB,CAAO,CAAC9xB,EAAI,CAACkgB,OAAO,CAAC,SAAUjU,CAAC,EAC5B6lB,CAAO,CAAC7lB,EAAE,CAAG,CAACjM,EAAI,CAAC2tB,MAAM,CAACmE,CAAO,CAAC9xB,EAAI,CAAC8f,MAAM,CAAC,SAAUkS,CAAC,EACrD,OAAO/lB,IAAM+lB,CACjB,GACJ,EACJ,GAEA,EAAE,CAACrE,MAAM,CAAC4D,EAAKvzB,MAAM,EAAE8hB,MAAM,CAAC+R,SAAS3R,OAAO,CAAC,SAAUlgB,CAAG,EACxDwxB,EAAME,OAAO,CAAC1xB,EAAI,CAAG,GACjB8xB,CAAO,CAAC9xB,EAAI,EACZwxB,CAAAA,EAAME,OAAO,CAACI,CAAO,CAAC9xB,EAAI,CAAC,CAAG,EAAG,CAExC,GAED,IAAIa,EAAW0wB,EAAK,OAAU,EAAI,CAAC,EAE/BU,EAAO,CAAErxB,EAAI,EAAE,AAAC,EACpBxE,OAAOiO,IAAI,CAACmnB,EAAMC,KAAK,EAAEvR,OAAO,CAAC,SAAUlgB,CAAG,EAC1CkyB,EAAOlyB,EAAKa,AAAkBvK,KAAAA,IAAlBuK,CAAQ,CAACb,EAAI,EAAyBa,CAAQ,CAACb,EAAI,CACnE,GAEA,IAAImyB,EAAW,EAAE,CAOjB,SAASC,EAAWpyB,CAAG,CAAEqyB,CAAG,EACxB,OAAO,AAACb,EAAMI,QAAQ,EAAI,YAAYtlB,IAAI,CAAC+lB,IACvCb,EAAME,OAAO,CAAC1xB,EAAI,EAAIwxB,EAAMC,KAAK,CAACzxB,EAAI,EAAI8xB,CAAO,CAAC9xB,EAAI,AAC9D,CAEA,SAASkyB,EAAQlyB,CAAG,CAAEkuB,CAAG,CAAEmE,CAAG,EAC1B,GAAIA,CAAAA,IAAOb,EAAMG,SAAS,GAAI,CAACS,EAAWpyB,EAAKqyB,IACvCb,AAAyB,KAAzBA,EAAMG,SAAS,CAACU,IAGxB,IAAIz1B,EAAQ,CAAC40B,EAAME,OAAO,CAAC1xB,EAAI,EAAIglB,EAASkJ,GACtC/sB,OAAO+sB,GAAOA,EAEpBoE,EAAOL,EAAMjyB,EAAImc,KAAK,CAAC,KAAMvf,GAE7B,AAACk1B,CAAAA,CAAO,CAAC9xB,EAAI,EAAI,EAAE,AAAD,EAAGkgB,OAAO,CAAC,SAAUjU,CAAC,EACpCqmB,EAAOL,EAAMhmB,EAAEkQ,KAAK,CAAC,KAAMvf,EAC/B,GACJ,CAEA,SAAS01B,EAAQzD,CAAG,CAAExkB,CAAI,CAAEzN,CAAK,EAE7B,IAAK,IADDy0B,EAAIxC,EACCqC,EAAI,EAAGA,EAAI7mB,EAAK7M,MAAM,CAAC,EAAG0zB,IAAK,CACpC,IAAIlxB,EAAMqK,CAAI,CAAC6mB,EAAE,CACjB,GAAII,EAAqBD,EAAGrxB,GAAM,MACnB1J,MAAAA,IAAX+6B,CAAC,CAACrxB,EAAI,EAAgBqxB,CAAAA,CAAC,CAACrxB,EAAI,CAAG,CAAC,GAChCqxB,CAAAA,CAAC,CAACrxB,EAAI,GAAK5D,OAAOmF,SAAS,EAAI8vB,CAAC,CAACrxB,EAAI,GAAKmB,OAAOI,SAAS,EACvD8vB,CAAC,CAACrxB,EAAI,GAAKoB,OAAOG,SAAS,AAAD,GAAG8vB,CAAAA,CAAC,CAACrxB,EAAI,CAAG,CAAC,GAC1CqxB,CAAC,CAACrxB,EAAI,GAAKW,MAAMY,SAAS,EAAE8vB,CAAAA,CAAC,CAACrxB,EAAI,CAAG,EAAE,AAAD,EAC1CqxB,EAAIA,CAAC,CAACrxB,EAAI,AACd,CATA,IAWIA,EAAMqK,CAAI,CAACA,EAAK7M,MAAM,CAAG,EAAE,EAC3B8zB,EAAqBD,EAAGrxB,KACxBqxB,CAAAA,IAAMj1B,OAAOmF,SAAS,EAAI8vB,IAAMlwB,OAAOI,SAAS,EAC7C8vB,IAAMjwB,OAAOG,SAAS,AAAD,GAAG8vB,CAAAA,EAAI,CAAC,GAChCA,IAAM1wB,MAAMY,SAAS,EAAE8vB,CAAAA,EAAI,EAAE,AAAD,EAC5BA,AAAW/6B,KAAAA,IAAX+6B,CAAC,CAACrxB,EAAI,EAAkBwxB,EAAMC,KAAK,CAACzxB,EAAI,EAAI,AAAkB,WAAlB,OAAOqxB,CAAC,CAACrxB,EAAI,CACzDqxB,CAAC,CAACrxB,EAAI,CAAGpD,EAEJ+D,MAAMwE,OAAO,CAACksB,CAAC,CAACrxB,EAAI,EACzBqxB,CAAC,CAACrxB,EAAI,CAACoI,IAAI,CAACxL,GAGZy0B,CAAC,CAACrxB,EAAI,CAAG,CAAEqxB,CAAC,CAACrxB,EAAI,CAAEpD,EAAO,CAElC,CAEA,SAAS21B,EAAevyB,CAAG,EACzB,OAAO8xB,CAAO,CAAC9xB,EAAI,CAACmhB,IAAI,CAAC,SAAUlV,CAAC,EAChC,OAAOulB,EAAMC,KAAK,CAACxlB,EAAE,AACzB,EACF,CAzD2B,KAAvBa,EAAK5O,OAAO,CAAC,QACbi0B,EAAWrlB,EAAKqM,KAAK,CAACrM,EAAK5O,OAAO,CAAC,MAAM,GACzC4O,EAAOA,EAAKqM,KAAK,CAAC,EAAGrM,EAAK5O,OAAO,CAAC,QAyDtC,IAAK,IAAIgzB,EAAI,EAAGA,EAAIpkB,EAAKtP,MAAM,CAAE0zB,IAAK,CAClC,IAAImB,EAAMvlB,CAAI,CAACokB,EAAE,CAEjB,GAAI,SAAS5kB,IAAI,CAAC+lB,GAAM,CAIpB,IAAIG,EAAIH,EAAIjW,KAAK,CAAC,yBACdpc,EAAMwyB,CAAC,CAAC,EAAE,CACV51B,EAAQ41B,CAAC,CAAC,EAAE,AACZhB,CAAAA,EAAMC,KAAK,CAACzxB,EAAI,EAChBpD,CAAAA,EAAQA,AAAU,UAAVA,CAAgB,EAE5Bs1B,EAAOlyB,EAAKpD,EAAOy1B,EACvB,MACK,GAAI,WAAW/lB,IAAI,CAAC+lB,GAAM,CAC3B,IAAIryB,EAAMqyB,EAAIjW,KAAK,CAAC,aAAa,CAAC,EAAE,CACpC8V,EAAOlyB,EAAK,GAAOqyB,EACvB,MACK,GAAI,QAAQ/lB,IAAI,CAAC+lB,GAAM,CACxB,IAAIryB,EAAMqyB,EAAIjW,KAAK,CAAC,UAAU,CAAC,EAAE,CAC7BqW,EAAO3lB,CAAI,CAACokB,EAAI,EAAE,AAClBuB,AAASn8B,MAAAA,IAATm8B,GAAuB,KAAKnmB,IAAI,CAACmmB,IACjCjB,EAAMC,KAAK,CAACzxB,EAAI,EAChBwxB,EAAMI,QAAQ,EACdE,CAAO,CAAC9xB,EAAI,EAAIuyB,EAAevyB,GAI1B,iBAAiBsM,IAAI,CAACmmB,IAC3BP,EAAOlyB,EAAKyyB,AAAS,SAATA,EAAiBJ,GAC7BnB,KAGAgB,EAAOlyB,EAAKwxB,CAAAA,EAAME,OAAO,CAAC1xB,EAAI,EAAG,GAAWqyB,IAR5CH,EAAOlyB,EAAKyyB,EAAMJ,GAClBnB,IASR,MACK,GAAI,UAAU5kB,IAAI,CAAC+lB,GAAM,CAI1B,IAAK,IAHDK,EAAUL,EAAIlZ,KAAK,CAAC,EAAE,IAAIgD,KAAK,CAAC,IAEhCwW,EAAS,GACJC,EAAI,EAAGA,EAAIF,EAAQl1B,MAAM,CAAEo1B,IAAK,CACrC,IAAIH,EAAOJ,EAAIlZ,KAAK,CAACyZ,EAAE,GAEvB,GAAIH,AAAS,MAATA,EAAc,CACdP,EAAOQ,CAAO,CAACE,EAAE,CAAEH,EAAMJ,GACzB,QACJ,CAEA,GAAI,WAAW/lB,IAAI,CAAComB,CAAO,CAACE,EAAE,GAAK,IAAItmB,IAAI,CAACmmB,GAAO,CAC/CP,EAAOQ,CAAO,CAACE,EAAE,CAAEH,EAAKtW,KAAK,CAAC,IAAI,CAAC,EAAE,CAAEkW,GACvCM,EAAS,GACT,KACJ,CAEA,GAAI,WAAWrmB,IAAI,CAAComB,CAAO,CAACE,EAAE,GAC3B,0BAA0BtmB,IAAI,CAACmmB,GAAO,CACrCP,EAAOQ,CAAO,CAACE,EAAE,CAAEH,EAAMJ,GACzBM,EAAS,GACT,KACJ,CAEA,GAAID,CAAO,CAACE,EAAE,EAAE,EAAIF,CAAO,CAACE,EAAE,EAAE,CAACxW,KAAK,CAAC,MAAO,CAC1C8V,EAAOQ,CAAO,CAACE,EAAE,CAAEP,EAAIlZ,KAAK,CAACyZ,EAAE,GAAIP,GACnCM,EAAS,GACT,KACJ,CAEIT,EAAOQ,CAAO,CAACE,EAAE,CAAEpB,CAAAA,EAAME,OAAO,CAACgB,CAAO,CAACE,EAAE,CAAC,EAAG,GAAWP,EAElE,CAhCA,IAkCIryB,EAAMqyB,EAAIlZ,KAAK,CAAC,GAAG,CAAC,EAAE,AACtB,EAACwZ,GAAU3yB,AAAQ,MAARA,IACP8M,CAAAA,CAAI,CAACokB,EAAE,EAAE,EAAK,cAAc5kB,IAAI,CAACQ,CAAI,CAACokB,EAAE,EAAE,GAC1CM,EAAMC,KAAK,CAACzxB,EAAI,EAChB8xB,CAAO,CAAC9xB,EAAI,EAAIuyB,EAAevyB,GAI1B8M,CAAI,CAACokB,EAAE,EAAE,EAAI,iBAAiB5kB,IAAI,CAACQ,CAAI,CAACokB,EAAE,EAAE,GACjDgB,EAAOlyB,EAAK8M,AAAc,SAAdA,CAAI,CAACokB,EAAE,EAAE,CAAamB,GAClCnB,KAGAgB,EAAOlyB,EAAKwxB,CAAAA,EAAME,OAAO,CAAC1xB,EAAI,EAAG,GAAWqyB,IAR5CH,EAAOlyB,EAAK8M,CAAI,CAACokB,EAAE,EAAE,CAAEmB,GACvBnB,KAUZ,MAOI,GALI,EAACM,EAAMG,SAAS,EAAIH,AAAyB,KAAzBA,EAAMG,SAAS,CAACU,EAAa,GACjDJ,EAAKrxB,CAAC,CAACwH,IAAI,CACPopB,EAAME,OAAO,CAAC,CAAI,EAAI,CAAC1M,EAASqN,GAAOA,EAAMlxB,OAAOkxB,IAGxDd,EAAKsB,SAAS,CAAE,CAChBZ,EAAKrxB,CAAC,CAACwH,IAAI,CAAC2E,KAAK,CAACklB,EAAKrxB,CAAC,CAAEkM,EAAKqM,KAAK,CAAC+X,EAAI,IACzC,KACJ,CAER,CAwBA,OAtBA90B,OAAOiO,IAAI,CAACxJ,GAAUqf,OAAO,CAAC,SAAUlgB,CAAG,EACnC,CAACoxB,EAAOa,EAAMjyB,EAAImc,KAAK,CAAC,QACxBmW,EAAOL,EAAMjyB,EAAImc,KAAK,CAAC,KAAMtb,CAAQ,CAACb,EAAI,EAE1C,AAAC8xB,CAAAA,CAAO,CAAC9xB,EAAI,EAAI,EAAE,AAAD,EAAGkgB,OAAO,CAAC,SAAUjU,CAAC,EACpCqmB,EAAOL,EAAMhmB,EAAEkQ,KAAK,CAAC,KAAMtb,CAAQ,CAACb,EAAI,CAC5C,GAER,GAEIuxB,CAAI,CAAC,KAAK,EACVU,CAAI,CAAC,KAAK,CAAG,EAAW,CACxBE,EAASjS,OAAO,CAAC,SAASlgB,CAAG,EACzBiyB,CAAI,CAAC,KAAK,CAAC7pB,IAAI,CAACpI,EACpB,IAGAmyB,EAASjS,OAAO,CAAC,SAASlgB,CAAG,EACzBiyB,EAAKrxB,CAAC,CAACwH,IAAI,CAACpI,EAChB,GAGGiyB,CACX,C,uBCnOA,IAAIa,EAAO,EAAQ,MACf9C,EAAO,aACPtB,EAAa,EAAQ,MACrBqE,EAAM,OACNC,EAAM3D,AAAqB,UAArBA,QAAQC,QAAQ,CACtB2D,EAAOD,EACE3D,QAAQ6D,GAAG,CAACC,WAAW,CACvB9D,QAAQ6D,GAAG,CAACE,IAAI,AAE7Bn3B,CAAAA,EAAOH,OAAO,CAAG,SAAU+d,CAAI,CAAEhZ,CAAQ,CAAEoxB,CAAI,CAAEnD,CAAK,EACpD,GAAG,UAAa,OAAOjV,EACrB,MAAM,AAAI7Y,MAAM,kCACf,EAACixB,GACFA,CAAAA,EAAO,EAAQ,MAAY5C,QAAQ4C,IAAI,CAAC9Y,KAAK,CAAC,GAAE,EAClDtY,EAAW,AACP,WAAa,OAAOA,EACpBiyB,EAAGO,IAAI,CAACxyB,GAAYA,CAAO,GACxB,CAAC,EAERiuB,EAAQA,GAASgE,EAAGhE,KAAK,CAEzB,IAAIoE,EAAMJ,EAAGI,GAAG,CAACrZ,EAAO,KAEpByZ,EAAU,CAACzyB,EAAS,CACpB0yB,EAAc,EAAE,CACpB,SAASC,EAAeC,CAAI,EAC1B,IAAIF,CAAAA,EAAYr1B,OAAO,CAACu1B,IAAS,IACjC,IAAIC,EAAaZ,EAAGW,IAAI,CAACA,GACrBC,IACFJ,EAAQlrB,IAAI,CAAC0mB,EAAM4E,IACnBH,EAAYnrB,IAAI,CAACqrB,IAErB,CAeA,MAZI,CAACT,GACJ,CAAChD,EAAK+C,EAAKlZ,EAAM,UAChBmW,EAAK+C,EAAKlZ,EAAO,MAAM,CAACqG,OAAO,CAACsT,GAC9BP,GACH,CAACjD,EAAKiD,EAAM,UAAWpZ,EAAM,UAC5BmW,EAAKiD,EAAM,UAAWpZ,GACtBmW,EAAKiD,EAAM,IAAMpZ,EAAM,UACvBmW,EAAKiD,EAAM,IAAMpZ,EAAO,MAAM,CAACqG,OAAO,CAACsT,GACzCA,EAAcV,EAAG/S,IAAI,CAAC,IAAIlG,EAAK,OAC3BqZ,EAAIS,MAAM,EAAEH,EAAcN,EAAIS,MAAM,EACpC1B,EAAK0B,MAAM,EAAEH,EAAcvB,EAAK0B,MAAM,EAEnCjF,EAAW3hB,KAAK,CAAC,KAAMumB,EAAQ3F,MAAM,CAAC,CAC3CuF,EACAjB,EACAsB,EAAY/1B,MAAM,CAAG,CAAC81B,QAASC,EAAaI,OAAQJ,CAAW,CAACA,EAAY/1B,MAAM,CAAG,EAAE,EAAIlH,KAAAA,EAC5F,EACH,C,oCCnDA,IAAIs9B,EAAO,EAAQ,MACfC,EAAO,EAAQ,MACfjlB,EAAO,EAAQ,MACfklB,EAAoB,EAAQ,MAE5BhF,EAAQhzB,EAAQgzB,KAAK,CAAG,SAAUiF,CAAO,QAO3C,AAAG,QAAQznB,IAAI,CAACynB,GACPvD,KAAK1B,KAAK,CAACgF,EAAkBC,IAC/BF,EAAI/E,KAAK,CAACiF,EAEnB,EAEIN,EAAO33B,EAAQ23B,IAAI,CAAG,WACxB,IAAI3mB,EAAO,EAAE,CAACqM,KAAK,CAAClX,IAAI,CAACoR,WAAWyM,MAAM,CAAC,SAAUuS,CAAG,EAAI,OAAOA,AAAO,MAAPA,CAAY,GAG/E,IAAI,IAAInB,KAAKpkB,EACX,GAAG,UAAa,OAAOA,CAAI,CAACokB,EAAE,CAC5B,OAEJ,IAAIuC,EAAO7kB,EAAKohB,IAAI,CAACjjB,KAAK,CAAC,KAAMD,GAEjC,GAAI,CACF,OAAO8mB,EAAGI,YAAY,CAACP,EAAK,QAC9B,CAAE,MAAOQ,EAAK,CACZ,MACF,CACF,CAEWn4B,CAAAA,EAAQu3B,IAAI,CAAG,WACxB,IAAIU,EAAUN,EAAK1mB,KAAK,CAAC,KAAMsG,WAC/B,OAAO0gB,EAAUjF,EAAMiF,GAAW,IACpC,EAEUj4B,EAAQo3B,GAAG,CAAG,SAAUlI,CAAM,CAAEkI,CAAG,EAC3CA,EAAMA,GAAO7D,QAAQ6D,GAAG,CACxB,IAAIrE,EAAM,CAAC,EACP6B,EAAI1F,EAAOxtB,MAAM,CACrB,IAAI,IAAIoyB,KAAKsD,EACX,GAAGtD,AAAkD,IAAlDA,EAAEtI,WAAW,GAAGppB,OAAO,CAAC8sB,EAAO1D,WAAW,IAAW,CAMtD,IAJA,IAGI4M,EAHAC,EAAUvE,EAAE7F,SAAS,CAAC2G,GAAGvU,KAAK,CAAC,MAI5B,AAAC+X,CAAAA,EAAkBC,EAAQj2B,OAAO,CAAC,GAAE,EAAK,IAC/Ci2B,EAAQxxB,MAAM,CAACuxB,EAAmB,GAGpC,IAAIE,EAASvF,EACbsF,EAAQjU,OAAO,CAAC,SAAsBmU,CAAO,CAACnD,CAAC,EAIzC,CAACmD,GAAW,AAAkB,UAAlB,OAAOD,IAMnBlD,IAAMiD,EAAQ32B,MAAM,CAAC,GACvB42B,CAAAA,CAAM,CAACC,EAAQ,CAAGnB,CAAG,CAACtD,EAAE,AAAD,EAIDt5B,KAAAA,IAApB89B,CAAM,CAACC,EAAQ,EACjBD,CAAAA,CAAM,CAACC,EAAQ,CAAG,CAAC,GAGrBD,EAASA,CAAM,CAACC,EAAQ,CAE1B,EAEF,CAIF,OAAOxF,CACT,EAEW/yB,EAAQikB,IAAI,CAAG,WACxB,IAAIuU,EAAM1lB,EAAKohB,IAAI,CAACjjB,KAAK,CAAC,KAAM,EAAE,CAACoM,KAAK,CAAClX,IAAI,CAACoR,YAE9C,SAAS0M,EAAK9Y,CAAK,CAAEqtB,CAAG,EACtB,IAAIb,EAAO7kB,EAAKohB,IAAI,CAAC/oB,EAAOqtB,GAC5B,GAAI,CAEF,OADAV,EAAGW,QAAQ,CAACd,GACLA,CACT,CAAE,MAAOQ,EAAK,CACZ,GAAGrlB,EAAK4lB,OAAO,CAACvtB,KAAWA,EACzB,OAAO8Y,EAAKnR,EAAK4lB,OAAO,CAACvtB,GAAQqtB,EACrC,CACF,CACA,OAAOvU,EAAKsP,QAAQoF,GAAG,GAAIH,EAC7B,C,sBCrGAr4B,EAAOH,OAAO,CAAG,CACf44B,SAAU,EAAQ,MAClBC,eAAgB,EAAQ,MACxBC,OAAQ,EAAQ,MAChBC,MAAO,EAAQ,MACfjQ,QAAS,EAAQ,MACjBoK,UAAW,EAAQ,MACnBF,MAAO,EAAQ,KACfgG,WAAY,EAAQ,MACpBC,eAAgB,EAAQ,MACxBC,QAAS,EAAQ,MACjBC,UAAW,EAAQ,MACnBC,QAAS,EAAQ,MACjBnU,OAAQ,EAAQ,MAChBoU,mBAAoB,EAAQ,MAC5BC,eAAgB,EAAQ,KACxBC,OAAQ,EAAQ,MAChBC,WAAY,EAAQ,MACpBC,iBAAkB,EAAQ,MAC1BC,MAAO,EAAQ,MACfnY,aAAc,EAAQ,MACtBc,MAAO,EAAQ,KACfsX,YAAa,EAAQ,MACrBC,WAAY,EAAQ,IACpBC,eAAgB,EAAQ,KACxBC,uBAAwB,EAAQ,MAChCC,KAAM,EAAQ,MACdC,QAAS,EAAQ,MACjBC,oBAAqB,EAAQ,MAC7BC,cAAe,EAAQ,MACvBC,QAAS,EAAQ,MACjBC,qBAAsB,EAAQ,MAC9BC,iBAAkB,EAAQ,MAC1BC,uBAAwB,EAAQ,KAClC,EAIAn6B,EAAOH,OAAO,CAACmzB,MAAM,CAAGhzB,EAAOH,OAAO,CAACkzB,SAAS,CAChD/yB,EAAOH,OAAO,CAACizB,MAAM,CAAG9yB,EAAOH,OAAO,CAACgzB,KAAK,CAC5C7yB,EAAOH,OAAO,CAACu6B,QAAQ,CAAG,EAA1B,MACAp6B,EAAOH,OAAO,CAACw6B,OAAO,CAAGr6B,EAAOH,OAAO,CAACo5B,OAAO,CAC/Cj5B,EAAOH,OAAO,CAACy6B,QAAQ,CAAGt6B,EAAOH,OAAO,CAACq5B,kBAAkB,CAC3Dl5B,EAAOH,OAAO,CAAC06B,YAAY,CAAGv6B,EAAOH,OAAO,CAACw5B,UAAU,A,mBCbvDr5B,EAAOH,OAAO,CAAG,CAIf26B,SAA+C,CAACC,WAAW,KAAK,EAChEC,WAA+C,CAACD,WAAW,GAAG,EAC9DE,YAA+C,CAACF,WAAW,KAAK,EAChEG,WAA+C,CAACH,WAAW,EAAE,EAE7DI,SAA+C,CAACC,OAAQ,EAAK,EAC7DC,OAA+C,CAACD,OAAQ,EAAI,EAE5DE,SAA+C,CAACC,eAAgB,UAAU,EAC1EC,SAA+C,CAACD,eAAgB,QAASE,iBAAkB,EAAI,EAC/FC,MAA+C,CAACH,eAAgB,OAAO,EAIvEI,gBAA+C,CAACZ,WAAW,MAAOK,OAAQ,EAAI,EAE9EQ,mBAA+C,CAACb,WAAW,MAAOK,OAAQ,EAAI,EAC9ES,kBAA+C,CAACd,WAAW,GAAIK,OAAQ,EAAI,EAE3EU,gBAA+C,CAACV,OAAQ,GAAMG,eAAgB,UAAU,EACxFQ,gBAA+C,CAACX,OAAQ,GAAMG,eAAgB,QAASE,iBAAkB,EAAI,EAC7GO,aAA+C,CAACZ,OAAQ,GAAMG,eAAgB,OAAO,EAErFU,kBAA+C,CAAClB,WAAY,MAAOQ,eAAgB,UAAU,EAC7FW,oBAA+C,CAACnB,WAAY,IAAKQ,eAAgB,UAAU,EAC3FY,qBAA+C,CAACpB,WAAY,MAAOQ,eAAgB,UAAU,EAC7Fa,oBAA+C,CAACrB,WAAY,GAAIQ,eAAgB,UAAU,EAE1Fc,kBAA+C,CAACtB,WAAY,MAAOQ,eAAgB,QAASE,iBAAkB,EAAI,EAClHa,oBAA+C,CAACvB,WAAY,IAAKQ,eAAgB,QAASE,iBAAkB,EAAI,EAChHc,qBAA+C,CAACxB,WAAY,MAAOQ,eAAgB,QAASE,iBAAkB,EAAI,EAClHe,oBAA+C,CAACzB,WAAY,GAAIQ,eAAgB,QAASE,iBAAkB,EAAI,EAa/GgB,yBAA+C,CAAC1B,WAAY,MAAOK,OAAQ,GAAMG,eAAgB,UAAU,EAE3GmB,4BAA+C,CAAC3B,WAAY,MAAOK,OAAQ,GAAMG,eAAgB,UAAU,EAC3GoB,2BAA+C,CAAC5B,WAAY,GAAIK,OAAQ,GAAMG,eAAgB,UAAU,EAExGqB,yBAA+C,CAAC7B,WAAY,MAAOK,OAAQ,GAAMG,eAAgB,QAASE,iBAAkB,EAAI,EAEhIoB,4BAA+C,CAAC9B,WAAY,MAAOK,OAAQ,GAAMG,eAAgB,QAASE,iBAAkB,EAAI,EAChIqB,2BAA+C,CAAC/B,WAAY,GAAIK,OAAQ,GAAMG,eAAgB,QAASE,iBAAkB,EAAI,CAW/H,C,uBC/FAn7B,EAAOH,OAAO,CAAG,SAAewsB,CAAQ,CAAE7gB,CAAI,EAC5C,IAAIixB,EAAO,EAAQ,KACnB,OAAOA,EAAK9D,MAAM,CAAC8D,EAAK7D,KAAK,CAACvM,GAAW7gB,EAC3C,C,sBCDA,IAAI7G,EAAI,EAAQ,MACZy1B,EAAW,EAAQ,MACnBpB,EAAY,EAAQ,MACpB9W,EAAQ,EAAQ,IAmDpBliB,CAAAA,EAAOH,OAAO,CAAG,SAAyBc,CAAK,CAAE+7B,CAAkB,CAAEC,CAAyB,CAAEC,CAAS,EAWvG,GAPIj4B,EAAEukB,WAAW,CAACyT,IAA8BA,CAAAA,EAA4B,EAAG,EAI3Eh4B,EAAEukB,WAAW,CAAC0T,IAAcA,CAAAA,EAAY,EAAG,EAG3Cj4B,EAAEukB,WAAW,CAACvoB,UAEhB,AAAIg8B,EAGKvC,EAAS,OAAOyC,WAAW,GAGtBzC,EAAS,QAAQyC,WAAW,GAU5C,OAAO,AAAC,SAASC,EAA2BC,CAAS,EAGnD,GAAIp4B,EAAEqkB,MAAM,CAAC+T,GACX,OAAO3C,EAAS,QAAQyC,WAAW,GAKrC,GAAIE,IAAcC,KAAYD,IAAc,CAACC,KAAYr4B,EAAEmkB,KAAK,CAACiU,UAC/D,AAAIH,EACKxC,EAAS,OAAOyC,WAAW,GAE3B,EAIN,GAAIl4B,EAAE8N,UAAU,CAACsqB,GACpB,OAAO3C,EAAS,SAASyC,WAAW,GAKjC,GAAIzC,EAAS,QAAQ6C,UAAU,CAACF,GACnC,OAAOL,EAAqBK,EAAY3C,EAAS,QAAQ8C,sBAAsB,QAE5E,GAAI9C,EAAS,OAAO6C,UAAU,CAACF,GAClC,OAAOL,EAAqBK,EAAY3C,EAAS,OAAO8C,sBAAsB,QAE3E,GAAI9C,EAAS,SAAS6C,UAAU,CAACF,GACpC,OAAOL,EAAqBK,EAAY3C,EAAS,SAAS8C,sBAAsB,QAG7E,GAAIv4B,EAAEuE,OAAO,CAAC6zB,GAEjB,IAAIA,AAAqB,IAArBA,EAAUx7B,MAAM,CA0BlB,MAAO,CAfOoD,EAAEggB,MAAM,CAACoY,EAAU7f,KAAK,CAAC,GAAI,SAAUigB,CAAY,CAAE3K,CAAI,EAKrE,OAJA2K,EAAejb,EAAMib,EAAcL,EAA2BtK,GAAO,GAAMoK,EAK7E,EAAGE,EAA2BC,CAAS,CAAC,EAAE,GAWzC,AACH,MAGG,GAAIp4B,EAAE2H,QAAQ,CAACywB,GAIlB,OAAOp4B,EAAEggB,MAAM,CAAChgB,EAAEyJ,IAAI,CAAC2uB,GAAY,SAAUK,CAAS,CAAEr5B,CAAG,EACzD,IAAIgM,EAAWgtB,CAAS,CAACh5B,EAAI,CAE7B,OADAq5B,CAAS,CAACr5B,EAAI,CAAG+4B,EAA2B/sB,GACrCqtB,CACT,EAAG,CAAC,GAIN,OAAOL,CAET,EArFAp8B,EAAQq4B,EAAUr4B,EAAO,GAAM,GAAM,CAAC,CAACi8B,GAuFzC,C,uBCtKA,IAAIj4B,EAAI,EAAQ,MACZ04B,EAAoB,EAAQ,MAC5BC,EAAoB,EAAQ,KAUhCt9B,CAAAA,EAAOH,OAAO,CAAG,SAAiB09B,CAAQ,CAAEC,CAAM,EAGhD,IAAIC,EAAS,EAAE,CACX76B,EAASy6B,EAAkBE,EAAUC,EAAQC,EAAQ,EAAE,EAG3D94B,EAAE+c,MAAM,CAAC+b,EAAQ,CAACC,KAAM,sBAAsB,GAG9C/4B,EAAE+c,MAAM,CAAC+b,EAAQ,CAACC,KAAM,kBAAkB,GAQ1C,IAAI1F,EAAMsF,EAAkBG,EAAQ,kBACpC,IAAIzF,EAIF,OAAOp1B,CAHP,OAAMo1B,CAKV,C,uBCrCA,IAAIrzB,EAAI,EAAQ,MACZq0B,EAAY,EAAQ,MAiExB,SAAS2E,EAAc1L,CAAG,EAGxB,IAAI2L,EAAM,CAAC,EAQX,OALAA,EAAIC,OAAO,CAAGD,EAAIC,OAAO,EAAI,SAAU5L,CAAG,EAAG,OAAOA,CAAK,EAGzD2L,EAAI15B,IAAI,CAAG,EAAE,CAEN45B,EAAYF,EAAK3L,EAAK,IAE/B,CAEA,SAAS6L,EAAYF,CAAG,CAAEj9B,CAAK,CAAEo9B,CAAY,EAK3C,GAAIH,EAAID,aAAa,EACjBh9B,GACAgE,EAAE8N,UAAU,CAAC9R,EAAM05B,OAAO,GAE1B,CAAE15B,CAAAA,EAAMwd,WAAW,EAAIxd,EAAMwd,WAAW,CAAC7Y,SAAS,GAAK3E,CAAI,EAAI,CACjE,IA6FEq9B,EA7FEC,EAAMt9B,EAAM05B,OAAO,CAAC0D,EAAcH,GAItC,MAHI,CAACj5B,EAAEsb,QAAQ,CAACge,IACdA,CAAAA,EAAMH,EAAYF,EAAKK,EAAKF,EAAY,EAEnCE,CACT,CAGA,IAAIC,EAAYC,EAAgBP,EAAKj9B,GACrC,GAAIu9B,EACF,OAAOA,EAIT,IAAI9vB,EAAOjO,OAAOiO,IAAI,CAACzN,GACnBy9B,EAAcC,EAAYjwB,GAQ9B,GANIwvB,EAAIU,UAAU,EAChBlwB,CAAAA,EAAOjO,OAAOo+B,mBAAmB,CAAC59B,EAAK,EAKrCgE,EAAEikB,OAAO,CAACjoB,IAAWyN,CAAAA,EAAKnM,OAAO,CAAC,YAAc,GAAKmM,EAAKnM,OAAO,CAAC,gBAAkB,GACtF,OAAOu8B,EAAY79B,GAIrB,GAAIyN,AAAgB,IAAhBA,EAAK7M,MAAM,CAAQ,CACrB,GAAIoD,EAAE8N,UAAU,CAAC9R,GAMf,OAAOA,EAAM4C,QAAQ,GAEvB,GAAIoB,EAAEskB,QAAQ,CAACtoB,GACb,OAAOi9B,EAAIC,OAAO,CAACpgC,OAAO6H,SAAS,CAAC/B,QAAQ,CAACyC,IAAI,CAACrF,GAAQ,UAE5D,GAAIgE,EAAE6jB,MAAM,CAAC7nB,GACX,OAAOi9B,EAAIC,OAAO,CAAC/4B,KAAKQ,SAAS,CAAC/B,QAAQ,CAACyC,IAAI,CAACrF,GAAQ,QAE1D,GAAIgE,EAAEikB,OAAO,CAACjoB,GACZ,OAAO69B,EAAY79B,EAEvB,CAEA,IAAI89B,EAAO,GAAIr9B,EAAQ,GAAOs9B,EAAS,CAAC,IAAK,IAAI,CA+BjD,GA5BI/5B,EAAEuE,OAAO,CAACvI,KACZS,EAAQ,GACRs9B,EAAS,CAAC,IAAK,IAAI,EAIjB/5B,EAAE8N,UAAU,CAAC9R,IACf89B,CAAAA,EAAO99B,EAAM4C,QAAQ,EAAC,EAOpBoB,EAAEskB,QAAQ,CAACtoB,IACb89B,CAAAA,EAAO,IAAMhhC,OAAO6H,SAAS,CAAC/B,QAAQ,CAACyC,IAAI,CAACrF,EAAK,EAI/CgE,EAAE6jB,MAAM,CAAC7nB,IACX89B,CAAAA,EAAO,IAAM35B,KAAKQ,SAAS,CAACq5B,WAAW,CAAC34B,IAAI,CAACrF,EAAK,EAIhDgE,EAAEikB,OAAO,CAACjoB,IACZ89B,CAAAA,EAAO,IAAMD,EAAY79B,EAAK,EAG5ByN,AAAgB,IAAhBA,EAAK7M,MAAM,EAAW,EAACH,GAAST,AAAiB,IAAjBA,EAAMY,MAAM,AAAK,EACnD,OAAOm9B,CAAM,CAAC,EAAE,CAAGD,EAAOC,CAAM,CAAC,EAAE,CAGrC,GAAIX,EAAe,SACjB,AAAIp5B,EAAEskB,QAAQ,CAACtoB,GACNi9B,EAAIC,OAAO,CAACpgC,OAAO6H,SAAS,CAAC/B,QAAQ,CAACyC,IAAI,CAACrF,GAAQ,UAEnDi9B,EAAIC,OAAO,CAAC,WAAY,WAiBnC,OAbAD,EAAI15B,IAAI,CAACiI,IAAI,CAACxL,GAIZq9B,EADE58B,EACOw9B,EAAYhB,EAAKj9B,EAAOo9B,EAAcK,EAAahwB,GAEnDA,EAAKoW,GAAG,CAAC,SAASzgB,CAAG,EAC5B,OAAO86B,EAAejB,EAAKj9B,EAAOo9B,EAAcK,EAAar6B,EAAK3C,EACpE,GAGFw8B,EAAI15B,IAAI,CAAC6P,GAAG,GAEL+qB,EAAqBd,EAAQS,EAAMC,EAC5C,CAGA,SAASP,EAAgBP,CAAG,CAAEj9B,CAAK,EACjC,GAAIgE,EAAEukB,WAAW,CAACvoB,GAChB,OAAOi9B,EAAIC,OAAO,CAAC,YAAa,aAElC,GAAIl5B,EAAEsb,QAAQ,CAACtf,GAAQ,CACrB,IAAIo+B,EAAS,IAAOxK,KAAKxB,SAAS,CAACpyB,GAAOsF,OAAO,CAAC,SAAU,IAClBA,OAAO,CAAC,KAAM,OACdA,OAAO,CAAC,OAAQ,KAAO,IACjE,OAAO23B,EAAIC,OAAO,CAACkB,EAAQ,SAC7B,QACA,AAAIp6B,EAAEokB,QAAQ,CAACpoB,GACNi9B,EAAIC,OAAO,CAAC,GAAKl9B,EAAO,UAC7BgE,EAAE4jB,SAAS,CAAC5nB,GACPi9B,EAAIC,OAAO,CAAC,GAAKl9B,EAAO,WAE7BgE,EAAEqkB,MAAM,CAACroB,GACJi9B,EAAIC,OAAO,CAAC,OAAQ,cAE/B,CAGA,SAASW,EAAY79B,CAAK,EACxB,MAAO,IAAMoE,MAAMO,SAAS,CAAC/B,QAAQ,CAACyC,IAAI,CAACrF,GAAS,GACtD,CAGA,SAASi+B,EAAYhB,CAAG,CAAEj9B,CAAK,CAAEo9B,CAAY,CAAEK,CAAW,CAAEhwB,CAAI,EAE9D,IAAK,IADD4vB,EAAS,EAAE,CACN/I,EAAI,EAAGR,EAAI9zB,EAAMY,MAAM,CAAE0zB,EAAIR,EAAG,EAAEQ,EACrCtvB,EAAehF,EAAOwE,OAAO8vB,IAC/B+I,EAAO7xB,IAAI,CAAC0yB,EAAejB,EAAKj9B,EAAOo9B,EAAcK,EACjDj5B,OAAO8vB,GAAI,KAEf+I,EAAO7xB,IAAI,CAAC,IAShB,OANAiC,EAAK6V,OAAO,CAAC,SAASlgB,CAAG,EACnB,CAACA,EAAIoc,KAAK,CAAC,UACb6d,EAAO7xB,IAAI,CAAC0yB,EAAejB,EAAKj9B,EAAOo9B,EAAcK,EACjDr6B,EAAK,IAEb,GACOi6B,CACT,CAGA,SAASa,EAAejB,CAAG,CAAEj9B,CAAK,CAAEo9B,CAAY,CAAEK,CAAW,CAAEr6B,CAAG,CAAE3C,CAAK,EACvE,IAAIwc,EAAMqW,EAAK+K,EAsCf,GApCIA,AADJA,CAAAA,EAAO7+B,OAAO8+B,wBAAwB,CAACt+B,EAAOoD,IAAQ,CAAEpD,MAAOA,CAAK,CAACoD,EAAI,AAAC,GACjEsa,GAAG,CAER4V,EADE+K,EAAKzyB,GAAG,CACJqxB,EAAIC,OAAO,CAAC,kBAAmB,WAE/BD,EAAIC,OAAO,CAAC,WAAY,WAG5BmB,EAAKzyB,GAAG,EACV0nB,CAAAA,EAAM2J,EAAIC,OAAO,CAAC,WAAY,UAAS,EAGvC,CAACl4B,EAAey4B,EAAar6B,IAC/B6Z,CAAAA,EAAO,IAAM7Z,EAAM,GAAE,EAEnB,CAACkwB,IACC2J,AAA+B,EAA/BA,EAAI15B,IAAI,CAACjC,OAAO,CAAC+8B,EAAKr+B,KAAK,EAMzBszB,CAJFA,EADEtvB,EAAEqkB,MAAM,CAAC+U,GACLD,EAAYF,EAAKoB,EAAKr+B,KAAK,CAAE,MAE7Bm9B,EAAYF,EAAKoB,EAAKr+B,KAAK,CAAEo9B,EAAe,IAE5C97B,OAAO,CAAC,MAAQ,KAEpBgyB,EADE7yB,EACI6yB,EAAI/T,KAAK,CAAC,MAAMsE,GAAG,CAAC,SAAS8P,CAAI,EACrC,MAAO,KAAOA,CAChB,GAAGP,IAAI,CAAC,MAAMe,MAAM,CAAC,GAEf,KAAOb,EAAI/T,KAAK,CAAC,MAAMsE,GAAG,CAAC,SAAS8P,CAAI,EAC5C,MAAO,MAAQA,CACjB,GAAGP,IAAI,CAAC,OAIZE,EAAM2J,EAAIC,OAAO,CAAC,aAAc,YAGhCl5B,EAAEukB,WAAW,CAACtL,GAAO,CACvB,GAAIxc,GAAS2C,EAAIoc,KAAK,CAAC,SACrB,OAAO8T,EAGLrW,AADJA,CAAAA,EAAO2W,KAAKxB,SAAS,CAAC,GAAKhvB,EAAG,EACrBoc,KAAK,CAAC,iCACbvC,EAAOA,EAAKkX,MAAM,CAAC,EAAGlX,EAAKrc,MAAM,CAAG,GACpCqc,EAAOggB,EAAIC,OAAO,CAACjgB,EAAM,UAEzBA,EAAOA,EAAK3X,OAAO,CAAC,KAAM,OACdA,OAAO,CAAC,OAAQ,KAChBA,OAAO,CAAC,WAAY,KAChC2X,EAAOggB,EAAIC,OAAO,CAACjgB,EAAM,UAE7B,CAEA,OAAOA,EAAO,KAAOqW,CACvB,CAGA,SAAS6K,EAAqBd,CAAM,CAAES,CAAI,CAAEC,CAAM,EAChD,IAAIQ,EAAc,SAOlB,AAAI39B,AANSy8B,EAAOrZ,MAAM,CAAC,SAASwa,CAAI,CAAEC,CAAG,EAG3C,OAFAF,IACIE,EAAIn9B,OAAO,CAAC,OAAS,GAAGi9B,IACrBC,EAAOC,EAAIn5B,OAAO,CAAC,kBAAmB,IAAI1E,MAAM,CAAG,CAC5D,EAAG,GAEU,GACJm9B,CAAM,CAAC,EAAE,CACRD,CAAAA,AAAS,KAATA,EAAc,GAAKA,EAAO,KAAI,EAC/B,IACAT,EAAOjK,IAAI,CAAC,SACZ,IACA2K,CAAM,CAAC,EAAE,CAGXA,CAAM,CAAC,EAAE,CAAGD,EAAO,IAAMT,EAAOjK,IAAI,CAAC,MAAQ,IAAM2K,CAAM,CAAC,EAAE,AACrE,CAEA,SAASL,EAAYj9B,CAAK,EACxB,IAAIoL,EAAO,CAAC,EAMZ,OAJApL,EAAM6iB,OAAO,CAAC,SAASgO,CAAG,CAAEoN,CAAG,EAC7B7yB,CAAI,CAACylB,EAAI,CAAG,EACd,GAEOzlB,CACT,CAGA,SAAS7G,EAAeitB,CAAG,CAAE0M,CAAI,EAC/B,OAAOn/B,OAAOmF,SAAS,CAACK,cAAc,CAACK,IAAI,CAAC4sB,EAAK0M,EACnD,CA9RAt/B,EAAOH,OAAO,CAAG,SAAiBoyB,CAAG,EACnC,OAAO0L,EAAc3E,EAAU/G,EAAK,GAAM,IAC5C,C,uBCrDA,IAAIsN,EAAmB,EAAQ,KAmB/Bv/B,CAAAA,EAAOH,OAAO,CAAG,SAAoBc,CAAK,CAAE6+B,CAAS,CAAEC,CAAsB,CAAEC,CAAkB,CAAEC,CAAkB,EACnH,OAAOJ,EAAiB5+B,EAAO6+B,EAAWC,EAAwBC,EAAoBC,EACxF,C,qBCrBA,IAAIhH,EAAS,EAAQ,MACjBC,EAAQ,EAAQ,KASpB54B,CAAAA,EAAOH,OAAO,CAAG,SAAoBy6B,CAAQ,EAC3C,OAAO3B,EAAOC,EAAM0B,GACtB,C,uBCZA,IAAI31B,EAAI,EAAQ,MACZy1B,EAAW,EAAQ,MACnBpB,EAAY,EAAQ,MACpB4G,EAAsB,EAAQ,KASlC5/B,CAAAA,EAAOH,OAAO,CAAG,SAA6BggC,CAAU,EAGtD,IAAIC,EAAuB9G,EAAU6G,GAGrC,OAAOD,EACL,SAAqBG,CAAe,CAAEC,CAAgB,CAAEC,CAAa,EACnE,OAAOt7B,EAAEggB,MAAM,CAACob,EAAiB,SAAUG,CAAI,CAAEjO,CAAG,CAAEluB,CAAG,EACvD,IAAIo8B,EAAQF,EAAchO,EAAKluB,GAE/B,OADAm8B,CAAI,CAACn8B,EAAI,CAAGo8B,EACLD,CACT,EAAG,CAAC,EACN,EACA,SAAwBE,CAAY,CAAEJ,CAAgB,CAAEK,CAAgB,EAEtE,MAAO,CADOA,EAAiBD,CAAY,CAAC,EAAE,CAAE,GAC9B,AACpB,EACA,SAAuBE,CAAM,CAAEN,CAAgB,EAC7C,OAAO5F,EAAS,cAAcyC,WAAW,EAC3C,EACA,SAAwByD,CAAM,CAAEN,CAAgB,EAC9C,OAAO5F,EAAS,SAASyC,WAAW,EACtC,EACA,SAAiByD,CAAM,CAAEN,CAAgB,EACvC,OAAO5F,EAASkG,GAAQzD,WAAW,EACrC,GACAiD,EAEJ,C,uBCzCA,IAAIn7B,EAAI,EAAQ,MACZy0B,EAAS,EAAQ,KAqCrBp5B,CAAAA,EAAOH,OAAO,CAAG,SAA6B4L,CAAI,CAAE0a,CAAO,EAEzD,GAAI,AAAgB,UAAhB,OAAO1a,QAEJ,GAAI,AAAEA,GAAQ,AAAgB,UAAhB,OAAOA,EAE1BA,EAAO2tB,EAAO3tB,QAEd,MAAM,AAAI1G,MAAM,6ZAclB,GANAohB,EAAUA,GAAW,CAAC,EACtBA,EAAUxhB,EAAEC,QAAQ,CAACuhB,EAAS,CAC5B2U,OAAQ,GACRG,eAAgB,OAClB,GAEI,CAACt2B,EAAEqrB,QAAQ,CAAC,CAAC,QAAS,QAAS,WAAW,CAAE7J,EAAQ8U,cAAc,EACpE,MAAM,AAAIl2B,MAAM,uDAAuDohB,EAAQ8U,cAAc,CAA7E,8EAKlB,GAAIxvB,AAAS,WAATA,EACF,OAAQ0a,EAAQ8U,cAAc,EAC5B,IAAK,QACL,IAAK,QAAY,OAAO,AAAC9U,EAAQ2U,MAAM,CAAc,UAAX,QAC1C,KAAK,WAAY,OAAO,AAAC3U,EAAQ2U,MAAM,CAAc,UAAX,QAC5C,MAEG,GAAIrvB,AAAS,WAATA,EACP,OAAQ0a,EAAQ8U,cAAc,EAC5B,IAAK,QACL,IAAK,QAAY,OAAO,AAAC9U,EAAQ2U,MAAM,CAAc,UAAX,QAC1C,KAAK,WAAY,OAAO,AAAC3U,EAAQ2U,MAAM,CAAc,UAAX,QAC5C,MAEG,GAAIrvB,AAAS,YAATA,EACP,OAAQ0a,EAAQ8U,cAAc,EAC5B,IAAK,QACL,IAAK,QAAY,OAAO,AAAC9U,EAAQ2U,MAAM,CAAe,WAAZ,SAC1C,KAAK,WAAY,OAAO,AAAC3U,EAAQ2U,MAAM,CAAe,WAAZ,SAC5C,MAEG,GAAIrvB,AAAS,UAATA,EACP,OAAQ0a,EAAQ8U,cAAc,EAC5B,IAAK,QACL,IAAK,QAAa,OAAO,AAAC9U,EAAQ2U,MAAM,CAAgB,YAAb,UAC3C,KAAK,WAAa,OAAO,AAAC3U,EAAQ2U,MAAM,CAAgB,YAAb,UAC7C,MAEG,GAAIrvB,AAAS,eAATA,EACP,OAAQ0a,EAAQ8U,cAAc,EAC5B,IAAK,QACL,IAAK,QAAa,OAAO,AAAC9U,EAAQ2U,MAAM,CAAkB,eAAf,YAC3C,KAAK,WAAa,OAAO,AAAC3U,EAAQ2U,MAAM,CAAkB,eAAf,YAC7C,MAEG,GAAIrvB,AAAS,UAATA,EACP,OAAQ0a,EAAQ8U,cAAc,EAC5B,IAAK,QACL,IAAK,QAAa,OAAO,AAAC9U,EAAQ2U,MAAM,CAAa,SAAV,OAC3C,KAAK,WAAa,OAAO,AAAC3U,EAAQ2U,MAAM,CAAa,SAAV,OAC7C,MAEG,GAAIrvB,AAAS,SAATA,EACP,OAAQ0a,EAAQ8U,cAAc,EAC5B,IAAK,QAAa,OAAO,AAAC9U,EAAQ2U,MAAM,CAA6B,yBAA1B,uBAC3C,KAAK,QACL,IAAK,WAAa,OAAO,AAAC3U,EAAQ2U,MAAM,CAA6B,yBAA1B,uBAC7C,MAEG,GAAIrvB,AAAS,QAATA,EACP,OAAQ0a,EAAQ8U,cAAc,EAC5B,IAAK,QACL,IAAK,QADc,OAAO,AAAC9U,EAAQ2U,MAAM,CAAa,SAAV,OAE5C,KAAK,WAAc,OAAO,AAAC3U,EAAQ2U,MAAM,CAAa,SAAV,OAS9C,MAGA,MAAM,AAAI/1B,MAAM,kBAAkB0G,EAAK,IAIzC,OAAM,AAAI1G,MAAM,sFAElB,C,sBCzIA,IAAIJ,EAAI,EAAQ,MACZ47B,EAAQ,EAAQ,KAsBpBvgC,CAAAA,EAAOH,OAAO,CAAG,SAAwBoyB,CAAG,EAI1C,GAAIttB,EAAEukB,WAAW,CAAC+I,GAAM,MAAO,YAE/B,GAAIsO,EAAMnJ,IAAI,CAAC6F,UAAU,CAAChL,GAAM,MAAO,OACvC,GAAIsO,EAAMC,KAAK,CAACvD,UAAU,CAAChL,GAAM,MAAO,QACxC,GAAIsO,EAAME,GAAG,CAACxD,UAAU,CAAChL,GAAM,MAAO,MACtC,GAAIttB,EAAEgkB,OAAO,CAACsJ,EAAK+K,MAAar4B,EAAEgkB,OAAO,CAACsJ,EAAK,CAAC+K,MAAar4B,EAAEmkB,KAAK,CAACmJ,GACnE,MAAO,iBAET,GAAIttB,EAAEsb,QAAQ,CAACgS,GAAM,MAAO,SAC5B,GAAIttB,EAAEokB,QAAQ,CAACkJ,GAAM,MAAO,SAC5B,GAAIttB,EAAE4jB,SAAS,CAAC0J,GAAM,MAAO,UAC7B,GAAIttB,EAAEqkB,MAAM,CAACiJ,GAAM,MAAO,OAC1B,GAAIttB,EAAEuE,OAAO,CAAC+oB,GAAM,MAAO,QAC3B,GAAIttB,EAAE8N,UAAU,CAACwf,GAAM,MAAO,WAC9B,GAAIttB,EAAE6jB,MAAM,CAACyJ,GAAM,MAAO,OAC1B,GAAIttB,EAAEikB,OAAO,CAACqJ,GAAM,MAAO,QAC3B,GAAIttB,EAAEskB,QAAQ,CAACgJ,GAAM,MAAO,SAG5B,GAAIttB,EAAE2H,QAAQ,CAAC2lB,GAAM,CACnB,IAAIyO,EAAc,OAAOzO,EACzB,GAAI,CAEF,GAAIyO,AADJA,CAAAA,EAAczO,EAAI9T,WAAW,CAACP,IAAI,AAAD,EACjBuC,KAAK,CAAC,YAAcxb,EAAEqQ,aAAa,CAACid,GAClD,MAAO,aAGT,OAAOyO,CACT,CACA,MAAOzS,EAAE,CAAC,CACZ,CAGA,MAAO,SAET,C,uBC9DA,IAAItpB,EAAI,EAAQ,MACZy0B,EAAS,EAAQ,MACjBU,EAAsB,EAAQ,MAC9BC,EAAgB,EAAQ,MACxBC,EAAU,EAAQ,MAClBE,EAAmB,EAAQ,MAC3BR,EAAiB,EAAQ,IAiB7B15B,CAAAA,EAAOH,OAAO,CAAG,SAA8B8gC,CAAkB,CAAEC,CAAW,CAAEC,CAAQ,CAAEC,CAAiB,EAmBzG,MAAO,WAjBgB,AAAC,WACtB,GAAI,CAACA,EACH,MAAO,OAEP,IAAIC,EAAoBp8B,EAAEuE,OAAO,CAACy3B,GAC9BK,EAAWr8B,EAAEuE,OAAO,CAAC03B,GACrBK,EAAyBt8B,EAAE2H,QAAQ,CAACq0B,IAAuB,CAACM,EAC5DC,EAAgBv8B,EAAE2H,QAAQ,CAACs0B,IAAgB,CAACI,SAEhD,AAAI,AAACD,GAAmBC,GAAcD,GAAmBG,EAChDJ,EAAkB,IAAIhH,EAAoB6G,EAAoB3G,EAAQgB,QAAQ,EAE9E71B,OAAO27B,EAGpB,IAEmC,aACjCn8B,EAAE6d,OAAO,CAAC7d,EAAE6f,GAAG,CAACqc,EAASpD,MAAM,CAAE,SAAS0D,CAAM,EAC9C,GAAIA,AAAuB,IAAvBA,EAAOC,IAAI,CAAC7/B,MAAM,CAAQ,CAC5B,IAAI8/B,EAAmBnH,EAAiBR,EAAeyH,EAAO3D,MAAM,GACpE,OAAO,AACL2D,EAAO3D,MAAM,CADR,AAEL,YAGA,IAAIzD,EAAcoH,EAAO5D,QAAQ,CAAEvD,EAAQU,UAAU,EAErDyG,CAAAA,AAAgB9mC,KAAAA,IAAhB8mC,EAAO3D,MAAM,CACb,IAEA,aACE2D,CAAAA,EAAO3D,MAAM,GAAGR,KAAUmE,EAAO3D,MAAM,GAAG,CAACR,KAAUr4B,EAAEmkB,KAAK,CAACqY,EAAO3D,MAAM,EAC1E2D,EAAO3D,MAAM,CAEb6D,AAAmB,SAAnBA,GAA6BA,AAAmB,QAAnBA,EAC7B,cAActH,EAAcsH,EAAkBrH,EAAQ8B,mBAAmB,EAEzE/B,EAAcsH,EAAkBrH,EAAQ4B,mBAAmB,GAC3D,GAAE,CAER,CAEE,IAAI0F,EAAaH,EAAOC,IAAI,CAAClkB,KAAK,CAAC,EAAG,IAClCqkB,EAAiBD,EAAWvN,IAAI,CAAC,KAIrC,GAHmBpvB,EAAEmf,IAAI,CAAC+c,EAASpD,MAAM,CAAE,SAAS+D,CAAW,EAC7D,OAAOA,EAAYJ,IAAI,CAACrN,IAAI,CAAC,OAASwN,CACxC,GACoB,MAAO,GAE3B,IAAIE,EAAc,CAAC98B,EAAEmkB,KAAK,CAAC,CAAEqY,EAAOC,IAAI,CAAClkB,KAAK,CAAC,GAAG,CAAC,EAAE,EACjDwkB,EAActI,EAAO+H,EAAO5D,QAAQ,EACpCoE,EAAazH,EAAiBR,EAAeyH,EAAO3D,MAAM,GAC9D,MAAO,AACLiE,CAAAA,EACA,MAAM98B,EAAEggB,MAAM,CAAC2c,EAAY,SAASM,CAAkB,CAAEC,CAAG,EAMzD,MALI,CAACA,IAAMA,EACTD,GAAsB,IAAIC,EAAI,IAE9BD,GAAsB,IAAIC,EAErBD,CACT,EAAG,IAAI,IAAKT,EAAOC,IAAI,CAAClkB,KAAK,CAAC,IAAK,QAEnC,MAAQikB,EAAOC,IAAI,CAACrN,IAAI,CAAC,KAAO,MAAK,EAGrCoN,CAAAA,AAAgB9mC,KAAAA,IAAhB8mC,EAAO3D,MAAM,CACb,+BAA+BzD,EAAc2H,EAAa1H,EAAQU,UAAU,EAAE,IAE9E,aACE+G,CAAAA,EACA,yBAAyB1H,EAAc2H,EAAa1H,EAAQuB,iBAAiB,EAE7E,GAAGxB,EAAc2H,EAAa1H,EAAQU,UAAU,EAClD,EAGAyG,CAAAA,AAAgB9mC,KAAAA,IAAhB8mC,EAAO3D,MAAM,CACb,IAEA,SACCiE,CAAAA,EAAY,eAAe,KAAI,EAAG,IAEjCN,CAAAA,EAAO3D,MAAM,GAAGR,KAAUmE,EAAO3D,MAAM,GAAG,CAACR,KAAUr4B,EAAEmkB,KAAK,CAACqY,EAAO3D,MAAM,EAC1E2D,EAAO3D,MAAM,CAEbmE,AAAa,SAAbA,GAAuBA,AAAa,QAAbA,EACvB,cAAc5H,EAAc4H,EAAW3H,EAAQ8B,mBAAmB,EAElE/B,EAAc4H,EAAW3H,EAAQ4B,mBAAmB,GACpD,GAAE,CAGV,GAAI,IAAI7H,IAAI,CAAC,YAGjB,C,uBC1HA,IAAIpvB,EAAI,EAAQ,MACZm1B,EAAsB,EAAQ,MAC9BV,EAAS,EAAQ,KAoDrBp5B,CAAAA,EAAOH,OAAO,CAAG,SAAuB4L,CAAI,CAAE0a,CAAO,EACnD,GAAI,AAAgB,UAAhB,OAAO1a,QAEJ,GAAI,AAAEA,GAAQ,AAAgB,UAAhB,OAAOA,EAE1BA,EAAO2tB,EAAO3tB,QAEd,MAAM,AAAI1G,MAAM,iYAqBlB,GAbAohB,EAAUA,GAAW,CAAC,EAQK,OAAvBA,AAPJA,CAAAA,EAAUxhB,EAAEC,QAAQ,CAACuhB,EAAS,CAC5B2U,OAAQ,GACRK,iBAAkB,GAClBV,WAAY,AAACtU,EAAQ2U,MAAM,CAAS,GAAN,GAChC,EAAC,EAGWL,UAAU,EACpBtU,CAAAA,EAAQsU,UAAU,CAAG,GAAE,EAIrB,CAAC91B,EAAEqrB,QAAQ,CAAC,CAAC,MAAO,IAAK,MAAO,GAAG,CAAE7J,EAAQsU,UAAU,EACzD,MAAM,AAAI11B,MAAM,mDAAmDohB,EAAQsU,UAAU,CAArE,oFAKlB,GAAItU,EAAQ2U,MAAM,EAAI3U,AAAuB,MAAvBA,EAAQsU,UAAU,CACtC,MAAM,AAAI11B,MAAM,wHAOlB,IAOI+8B,EAPAC,EAAmBjI,EAAoBruB,EAAM,CAC/CwvB,eAAgB,WAChBH,OAAQ3U,EAAQ2U,MAAM,AACxB,GAKA,GAAIrvB,AAAS,WAATA,EACF,OAAQ0a,EAAQsU,UAAU,EACxB,IAAK,MAAOqH,EAAa,OAAOC,EAAkB,KAClD,KAAK,IAAOD,EAAa,KAAKC,EAAkB,KAChD,KAAK,MAAOD,EAAa,OAAOC,EAAkB,KAClD,KAAK,GAAOD,EAAaC,CAC3B,MAEG,GAAIt2B,AAAS,WAATA,EACP,OAAQ0a,EAAQsU,UAAU,EACxB,IAAK,MAAOqH,EAAa,OAAOC,EAAkB,KAClD,KAAK,IAAOD,EAAa,KAAKC,EAAkB,KAChD,KAAK,MAAOD,EAAa,OAAOC,EAAkB,KAClD,KAAK,GAAOD,EAAaC,CAC3B,MAEG,GAAIt2B,AAAS,YAATA,EACP,OAAQ0a,EAAQsU,UAAU,EACxB,IAAK,MAAOqH,EAAa,OAAOC,EAAkB,KAClD,KAAK,IAAOD,EAAa,KAAKC,EAAkB,KAChD,KAAK,MAAOD,EAAa,OAAOC,EAAkB,KAClD,KAAK,GAAOD,EAAaC,CAC3B,MAEG,GAAIt2B,AAAS,UAATA,EACP,OAAQ0a,EAAQsU,UAAU,EACxB,IAAK,MAAOqH,EAAa,OAAOC,EAAkB,KAClD,KAAK,IAAOD,EAAa,KAAKC,EAAkB,KAChD,KAAK,MAAOD,EAAa,OAAOC,EAAkB,KAClD,KAAK,GAAOD,EAAaC,CAC3B,MAEG,GAAIt2B,AAAS,eAATA,EACP,OAAQ0a,EAAQsU,UAAU,EACxB,IAAK,MAAOqH,EAAa,OAAOC,EAAkB,KAClD,KAAK,IAAOD,EAAa,KAAKC,EAAkB,KAChD,KAAK,MAAOD,EAAa,OAAOC,EAAkB,KAClD,KAAK,GAAOD,EAAaC,CAC3B,MAEG,GAAIt2B,AAAS,UAATA,EACP,OAAQ0a,EAAQsU,UAAU,EACxB,IAAK,MAAOqH,EAAa,OAAOC,EAAkB,KAClD,KAAK,IAAOD,EAAa,MAAMC,EAAkB,KACjD,KAAK,MAAOD,EAAa,OAAOC,EAAkB,KAClD,KAAK,GAAOD,EAAaC,CAC3B,MAEG,GAAIt2B,AAAS,SAATA,EACP,OAAQ0a,EAAQsU,UAAU,EACxB,IAAK,MAAOqH,EAAa,OAAOC,EAAkB,KAClD,KAAK,IAAOD,EAAa,KAAKC,EAAkB,KAChD,KAAK,MAAOD,EAAa,OAAOC,EAAkB,KAClD,KAAK,GAAOD,EAAaC,CAC3B,MAIG,GAAIt2B,AAAS,QAATA,EACP,OAAQ0a,EAAQsU,UAAU,EACxB,IAAK,MAAOqH,EAAa,OAAOC,EAAkB,KAClD,KAAK,IAAOD,EAAa,KAAKC,EAAkB,KAChD,KAAK,MAAOD,EAAa,OAAOC,EAAkB,KAClD,KAAK,GAAOD,EAAaC,CAC3B,MAGA,MAAM,AAAIh9B,MAAM,kBAAkB0G,EAAK,KAUzC,OANI0a,EAAQgV,gBAAgB,EAE1B2G,CAAAA,EADaA,CAAU,CAAC,EAAE,CAACxW,WAAW,GAAKwW,EAAW5kB,KAAK,CAAC,GAC9C,GAAE,EAIX4kB,CAET,C,uBCvLA,IAAIn9B,EAAI,EAAQ,MACZ47B,EAAQ,EAAQ,MAChBvH,EAAY,EAAQ,KAyBxBh5B,CAAAA,EAAOH,OAAO,CAAG,SAAsBygC,CAAM,CAAE3tB,CAAI,EAGjD,IAAIqvB,EAAmBhJ,EAAUsH,GAG7Bc,EAAO,AAACzuB,AAAS,KAATA,EAAe,EAAE,CAAGA,EAAKuN,KAAK,CAAC,KAGvC+hB,EAAkBD,EAElBE,EAAW,GA0Ff,OAvFAv9B,EAAE4qB,IAAI,CAAC6R,EAAM,SAAyBS,CAAG,EAEvC,GAAIl9B,EAAEuE,OAAO,CAAC+4B,GAAkB,CAC9B,GAAI,CAACt9B,EAAEyC,QAAQ,CAAC,CAACy6B,GAGf,MAAM,AAAC,WACL,IAAI7J,EAAM,AAAIjzB,MAAM,uBAAuB4N,EAAK,uBAAuBkvB,EAAI,iCAE3E,OADA7J,EAAI0F,IAAI,CAAG,mBACJ1F,CACT,IAKF,GAAIrzB,EAAEgkB,OAAO,CAACsZ,EAAiB,EAAE,EAC/BC,EAAW,GACXD,EAAkB1B,EAAMnJ,IAAI,CAACyF,WAAW,OAGrC,CAEH,GADAqF,EAAW,GACPv9B,EAAEukB,WAAW,CAAC+Y,CAAe,CAAC,EAAE,EAClC,MAAM,AAAC,WACL,IAAIjK,EAAM,AAAIjzB,MAAM,aAAa4N,EAAK,8BAEtC,OADAqlB,EAAI0F,IAAI,CAAG,gBACJ1F,CACT,IAGAiK,EAAkBA,CAAe,CAAC,EAAE,AAExC,CACF,MACK,GAAIt9B,EAAE2H,QAAQ,CAAC21B,IAElB,GAAIt9B,EAAEgkB,OAAO,CAACsZ,EAAiB,CAAC,GAC9BC,EAAW,GACXD,EAAkB1B,EAAMnJ,IAAI,CAACyF,WAAW,OAGrC,CAEH,GADAqF,EAAW,GACPv9B,EAAEukB,WAAW,CAAC+Y,CAAe,CAACJ,EAAI,EACpC,MAAM,AAAC,WACL,IAAI7J,EAAM,AAAIjzB,MAAM,aAAa4N,EAAK,8BAEtC,OADAqlB,EAAI0F,IAAI,CAAG,gBACJ1F,CACT,IAGAiK,EAAkBA,CAAe,CAACJ,EAAI,AAE1C,OAGG,GAAItB,EAAMnJ,IAAI,CAAC6F,UAAU,CAACgF,GAC7BC,EAAW,GACXD,EAAkB1B,EAAMnJ,IAAI,CAACyF,WAAW,QAIrC,GAAI0D,EAAME,GAAG,CAACxD,UAAU,CAACgF,GAC5BC,EAAW,GACXD,EAAkB1B,EAAME,GAAG,CAAC5D,WAAW,QAIpC,GAAI0D,EAAMC,KAAK,CAACvD,UAAU,CAACgF,GAC9B,MAAM,AAAC,WACL,IAAIjK,EAAM,AAAIjzB,MAAM,aAAa4N,EAAK,8BAEtC,OADAqlB,EAAI0F,IAAI,CAAG,gBACJ1F,CACT,SAKA,MAAM,AAAC,WACL,IAAIA,EAAM,AAAIjzB,MAAM,aAAa4N,EAAK,8BAEtC,OADAqlB,EAAI0F,IAAI,CAAG,gBACJ1F,CACT,GAEJ,GAGO,CACLsC,SAAU2H,EACVC,SAAUA,CACZ,CAEF,C,uBCrIA,IAAIv9B,EAAI,EAAQ,KAkBhB3E,CAAAA,EAAOH,OAAO,CAAG,SAAgCsiC,CAAa,EAE5D,GAAI,CAACx9B,EAAEuE,OAAO,CAACi5B,GACb,MAAM,AAAIp9B,MAAM,gEAAgE,OAAOo9B,EAAc,OAKvG,GAAIA,AAAyB,IAAzBA,EAAc5gC,MAAM,CACtB,MAAO,IAGJ,GAAI4gC,AAAyB,IAAzBA,EAAc5gC,MAAM,CAC3B,OAAO4gC,CAAa,CAAC,EAAE,AAIvB,OAAM,AAAIp9B,MAAM,wFAAwFo9B,EAAc5gC,MAAM,CAAC,KAGjI,C,mBCrBAvB,EAAOH,OAAO,CAAG,SAAgBggC,CAAU,EAKzC,GACEA,AAAe,WAAfA,GACAA,AAAe,WAAfA,GACAA,AAAe,YAAfA,GACAA,AAAe,UAAfA,GACAA,AAAe,SAAfA,GACAA,AAAe,QAAfA,EAEA,OAAOA,EACF,GAAI,AAAEA,GAAc,AAAsB,UAAtB,OAAOA,EAChC,OAAOn7B,MAAMwE,OAAO,CAAC22B,GAAa,QAAU,YAE5C,OAAM,AAAI96B,MAAM,8CAA8C86B,EAAW,IAG7E,C,uBCrCA,IAAIl7B,EAAI,EAAQ,KAsChB3E,CAAAA,EAAOH,OAAO,CAAG,SAAuBuiC,CAAW,CAAEC,CAAc,CAAEC,CAAa,CAAEC,CAAc,CAAEC,CAAO,EAOzG,SAASC,EAAUC,CAAS,CAAEC,CAAU,EACtC,GAAIh+B,EAAEuE,OAAO,CAACw5B,UACZ,AAAI/9B,EAAEgkB,OAAO,CAAC+Z,EAAW,EAAE,EAClBH,EAAeG,EAAWC,GAE5BN,EAAeK,EAAWC,EAAY,SAAUC,CAAU,CAAEC,CAAS,EAC1E,OAAOJ,EAAUG,EAAYC,EAC/B,GAEG,IAAIl+B,EAAE2H,QAAQ,CAACo2B,GASlB,OAAOF,EAAQE,EAAWC,UAR1B,AAAIh+B,EAAEgkB,OAAO,CAAC+Z,EAAW,CAAC,GACjBJ,EAAcI,EAAWC,GAE3BP,EAAYM,EAAWC,EAAY,SAAUC,CAAU,CAAEE,CAAO,EACrE,OAAOL,EAAUG,EAAYE,EAC/B,EAKJ,CAMA,OAAO,SAAUC,CAAe,EAC9B,OAAON,EAAUM,EACnB,CACF,C,uBC1EA,IAAIp+B,EAAI,EAAQ,MACZ47B,EAAQ,EAAQ,KAoBpBvgC,CAAAA,EAAOH,OAAO,CAAG,SAAoCo9B,CAAU,CAAEmF,CAAW,CAAEC,CAAc,CAAEC,CAAa,CAAEC,CAAc,CAAES,CAAM,CAAEC,CAAK,CAAEC,CAAO,CAAEC,CAAQ,CAAEC,CAAQ,CAAEC,CAAS,EAOhL,SAASC,EAAWhD,CAAM,EACxB,MAAO,CACLiD,GAAI,WACF,IAAIC,EAAkB9+B,MAAMY,SAAS,CAAC4X,KAAK,CAAClX,IAAI,CAACoR,kBACjD,AAAK6lB,EAGEt4B,EAAEorB,GAAG,CAACyT,EAAiB,SAAUC,CAAQ,EAC9C,OAAOlD,CAAK,CAACkD,EAAS,CAACxG,UAAU,CAACqD,EACpC,GAJS37B,EAAEqrB,QAAQ,CAACwT,EAAiBlD,EAKvC,CACF,CACF,CAEA,SAASmC,EAAUiB,CAAU,CAAEC,CAAU,CAAEhB,CAAU,EACnD,GAAIh+B,EAAEuE,OAAO,CAACw6B,UACZ,AAAI/+B,EAAEgkB,OAAO,CAAC+a,EAAY,EAAE,EACnBnB,EAAemB,EAAYC,EAAYhB,GAEzCN,EAAeqB,EAAYC,EAAYhB,EAAY,SAAUE,CAAS,EAG3E,OAAOJ,EAFWiB,CAAU,CAACb,EAAU,CACrBc,CAAU,CAACd,EAAU,CACIA,EAC7C,GAEG,GAAIl+B,EAAE2H,QAAQ,CAACo3B,UAClB,AAAI/+B,EAAEgkB,OAAO,CAAC+a,EAAY,CAAC,GAClBpB,EAAcoB,EAAYC,EAAYhB,GAExCP,EAAYsB,EAAYC,EAAYhB,EAAY,SAAUG,CAAO,EAGtE,OAAOL,EAFWiB,CAAU,CAACZ,EAAQ,CACnBa,CAAU,CAACb,EAAQ,CACMA,EAC7C,GAEG,GAAKQ,EAAWI,GAAYH,EAAE,CAAC,QAClC,OAAOP,EAAOU,EAAYC,EAAYhB,QAEnC,GAAKW,EAAWI,GAAYH,EAAE,CAAC,WAClC,OAAOF,EAAUK,EAAYC,EAAYhB,QAEtC,GAAKW,EAAWI,GAAYH,EAAE,CAAC,UAClC,OAAOH,EAASM,EAAYC,EAAYhB,QAErC,GAAKW,EAAWI,GAAYH,EAAE,CAAC,UAClC,OAAOJ,EAASO,EAAYC,EAAYhB,QAErC,GAAKW,EAAWI,GAAYH,EAAE,CAAC,SAClC,OAAOL,EAAQQ,EAAYC,EAAYhB,QAEpC,GAAKW,EAAWI,GAAYH,EAAE,CAAC,OAClC,OAAON,EAAMS,EAAYC,EAAYhB,QAGrC,MAAM,AAAI59B,MAAM,qBAEpB,CAOA,OAlEAk4B,EAAa,CAAC,CAACA,EAkER,SAAU2G,CAAgB,CAAEC,CAAgB,EACjD,OAAOpB,EAAUmB,EAAkBC,EACrC,CAEF,C,uBC/FA,IAAIC,EAAO,EAAQ,MACfn/B,EAAI,EAAQ,KAShB3E,CAAAA,EAAOH,OAAO,CAAG,SAA4B49B,CAAM,CAAEsG,CAAS,EAG5D,GAAItG,AAAkB,IAAlBA,EAAOl8B,MAAM,EAKjB,IAAIyiC,EAAer/B,EAAEwd,IAAI,CAACsb,EAAQ,SAAoCzF,CAAG,EACvE,IAAIxrB,EAAO,GAWX,OAVKwrB,EAAI0F,IAAI,CAGS,qBAAb1F,EAAI0F,IAAI,EAA2B1F,AAAa,yBAAbA,EAAI0F,IAAI,EAClDlxB,CAAAA,GAAQwrB,EAAI0F,IAAI,AAAD,EAHflxB,GAAQ,IAKVA,GAAQwrB,EAAIuF,QAAQ,CAChBvF,EAAIoJ,IAAI,EACV50B,CAAAA,GAAQwrB,EAAIoJ,IAAI,CAACrN,IAAI,CAAC,IAAG,EAEpBvnB,CACT,GASIwrB,EAAM,AAAIjzB,MAPD++B,EAAKG,MAAM,CACtB,gBACAD,EAAaziC,MAAM,CAAGyiC,AAAsB,IAAtBA,EAAaziC,MAAM,CAAK,IAAI,GAAMwiC,EAAW,IAAIA,EAAW,GAEhF,QAASp/B,EAAE+f,KAAK,CAACsf,EAAc,WAAWjQ,IAAI,CAAC,WA4BnD,OAtBIpvB,EAAEorB,GAAG,CAACiU,EAAc,CAAEtG,KAAM,gBAAiB,GAC/C1F,EAAI0F,IAAI,CAAG,iBAGX1F,EAAI0F,IAAI,CAAG,YAIb1F,EAAIkM,KAAK,CAAGv/B,EAAEggB,MAAM,CAAC8Y,EAAQ,SAASyC,CAAI,CAAEiE,CAAQ,QAClD,EAAKjE,KAASiE,EAASD,KAAK,EACnB,EAGX,EAAG,IAEC,CAAClM,EAAIkM,KAAK,EACZ,OAAOlM,EAAIkM,KAAK,CAIlBlM,EAAIyF,MAAM,CAAGuG,EAENhM,EACT,C,uBClEA,IAAIoM,EAAQ,EAAQ,KAYpBpkC,CAAAA,EAAOH,OAAO,CAAG,SAAwBwkC,CAAE,EAGzC,GAAID,EAAM3D,GAAG,CAACxD,UAAU,CAACoH,GACvB,MAAO,MAGJ,GAAID,EAAM5D,KAAK,CAACvD,UAAU,CAACoH,GAC9B,MAAO,QAGJ,GAAID,EAAMhN,IAAI,CAAC6F,UAAU,CAACoH,GAC7B,MAAO,YAGJ,GAAID,EAAMriC,MAAM,CAACk7B,UAAU,CAACoH,GAC/B,MAAO,cAGJ,GAAID,EAAM9mB,MAAM,CAAC2f,UAAU,CAACoH,GAC/B,MAAO,cAGJ,GAAID,EAAME,OAAO,CAACrH,UAAU,CAACoH,GAChC,MAAO,eAIP,MAEJ,C,uBC1CA,IAAIP,EAAO,EAAQ,MACfn/B,EAAI,EAAQ,MACZ4/B,EAAW,iBACXpL,EAAiB,EAAQ,IA6B7Bn5B,CAAAA,EAAOH,OAAO,CAAG,SAA0BoyB,CAAG,CAAEuS,CAAmB,CAAEC,CAAwB,EAE3F,GAAI,CAAC9/B,EAAE8N,UAAU,CAAC+xB,GAChB,MAAM,AAAIz/B,MAAM,yGAAyG++B,EAAKzJ,OAAO,CAACmK,EAAqB,CAACE,MAAM,IAAI,IAIxK,IAAI//B,EAAEukB,WAAW,CAAC+I,GAMlB,OAAO,AAAC,WACN,IAAI0S,EAAQ,EAAE,CACVv2B,EAAO,EAAE,CAITw2B,EAAgB,SAASC,CAAM,CAAElkC,CAAK,SACxC,AAAIgkC,CAAK,CAAC,EAAE,GAAKhkC,EAAgB,eAC1B,eAAiByN,EAAK8O,KAAK,CAAC,EAAGynB,EAAM1iC,OAAO,CAACtB,IAAQozB,IAAI,CAAC,KAAO,GAC1E,EAGA,OAAO,AAAC,SAAS+Q,EAAqBC,CAAO,CAAEhhC,CAAG,EAGhD,GAAI4gC,EAAMpjC,MAAM,CAAG,EAAG,CACpB,IAAIlB,EAAO,IAAI,CACX2kC,EAAUL,EAAM1iC,OAAO,CAAC5B,EAC5B,EAAC2kC,EAAUL,EAAMj+B,MAAM,CAACs+B,EAAU,GAAKL,EAAMx4B,IAAI,CAAC9L,GAClD,CAAC2kC,EAAU52B,EAAK1H,MAAM,CAACs+B,EAAShI,IAAUj5B,GAAOqK,EAAKjC,IAAI,CAACpI,GACvD,CAAC4gC,EAAM1iC,OAAO,CAAC8iC,IACjBA,CAAAA,EAAUH,EAAc5+B,IAAI,CAAC3F,EAAM0D,EAAKghC,EAAO,CAEnD,MACOJ,EAAMx4B,IAAI,CAAC44B,GAIlB,GAAIpgC,EAAEuE,OAAO,CAAC67B,GAMZ,MAJI,CAACpgC,EAAEukB,WAAW,CAACub,IACjBM,CAAAA,EAAUN,EAAyBM,EAAS,QAAO,EAG9CpgC,EAAEggB,MAAM,CAACogB,EAAQ,SAAU7E,CAAI,CAAE1N,CAAI,CAAEyC,CAAC,EAI7C,MAHI,CAACtwB,EAAEukB,WAAW,CAACsJ,IACjB0N,EAAK/zB,IAAI,CAAC24B,EAAoB9+B,IAAI,CAAC++B,EAASvS,EAAMyC,IAE7CiL,CACT,EAAG,EAAE,EAMF,GAAIv7B,EAAEikB,OAAO,CAACmc,GAEjBA,EAAUP,EADVO,EAAUA,EAAQJ,KAAK,CACgB,eAEpC,GAAIhgC,EAAEskB,QAAQ,CAAC8b,GAElBA,EAAUP,EADVO,EAAUA,EAAQxhC,QAAQ,GACa,eAEpC,GAAIoB,EAAE6jB,MAAM,CAACuc,GAEhBA,EAAUP,EADVO,EAAUA,EAAQnT,MAAM,GACe,eAKpC,GAAIjtB,EAAE8N,UAAU,CAACsyB,GACpBA,EAAUP,EAAoBO,EAAS,cAEpC,GAAKpgC,EAAE2H,QAAQ,CAACy4B,GAgChB,IAAIpgC,EAAE2H,QAAQ,CAACy4B,UAElB,AAAIA,aAAmBR,GAInBQ,aAAmB7S,QAMnBvtB,EAAE2H,QAAQ,CAACy4B,EAAQ5mB,WAAW,GAAK4mB,AAA6B,uBAA7BA,EAAQ5mB,WAAW,CAACP,IAAI,CATtD,MAgBL,CAACjZ,EAAEukB,WAAW,CAACub,IACjBM,CAAAA,EAAUN,EAAyBM,EAAS,aAAY,EAGnDpgC,EAAEggB,MAAM,CAAChgB,EAAEyJ,IAAI,CAAC22B,GAAS,SAAU7E,CAAI,CAAEn8B,CAAG,EACjD,IAAIkhC,EAASF,CAAO,CAAChhC,EAAI,CAIzB,MAHI,CAACY,EAAEukB,WAAW,CAAC+b,IACjB/E,CAAAA,CAAI,CAACn8B,EAAI,CAAG+gC,EAAoB9+B,IAAI,CAAC++B,EAASE,EAAQlhC,EAAG,EAEpDm8B,CACT,EAAG,CAAC,GACN,MAvDI6E,EAFEpgC,EAAEmkB,KAAK,CAACic,GAEAP,EADVO,EAAU,EAC6B,UAEhCA,IAAY/H,IAETwH,EADVO,EAAU,EAC6B,UAEhCA,IAAY,CAAC/H,IAEVwH,EADVO,EAAU,EAC6B,UAEhCA,AAAY,IAAZA,EAGGP,EADVO,EAAU,EAC6B,UAM7BP,EAAoBO,EAAS5L,EAAe4L,IAuD1D,MAdIpgC,CAAAA,EAAEukB,WAAW,CAAC6b,IAAYpgC,EAAE8N,UAAU,CAACsyB,EAAO,GAChDA,CAAAA,EAAU,IAAG,EAaRA,CACT,EAAG9S,EAAK,GAGV,GACF,C,uBClMA,IAAIttB,EAAI,EAAQ,MACZ4/B,EAAW,iBA4Df,SAASW,EAASjT,CAAG,CAAEuN,CAAS,CAAEC,CAAsB,CAAEC,CAAkB,CAAEC,CAAkB,EAC9F,IAAIgF,EAAQ,EAAE,CACVv2B,EAAO,EAAE,CAITw2B,EAAgB,SAASC,CAAM,CAAElkC,CAAK,SACxC,AAAIgkC,CAAK,CAAC,EAAE,GAAKhkC,EAAgB,eAC1B,eAAiByN,EAAK8O,KAAK,CAAC,EAAGynB,EAAM1iC,OAAO,CAACtB,IAAQozB,IAAI,CAAC,KAAO,GAC1E,EAEA,SAASoR,EAAgClT,CAAG,CAAEluB,CAAG,EAG/C,GAAI4gC,EAAMpjC,MAAM,CAAG,EAAG,CACpB,IAAIlB,EAAO,IAAI,CACX2kC,EAAUL,EAAM1iC,OAAO,CAAC5B,EAC5B,EAAC2kC,EAAUL,EAAMj+B,MAAM,CAACs+B,EAAU,GAAKL,EAAMx4B,IAAI,CAAC9L,GAClD,CAAC2kC,EAAU52B,EAAK1H,MAAM,CAACs+B,EAAShI,IAAUj5B,GAAOqK,EAAKjC,IAAI,CAACpI,GACvD,CAAC4gC,EAAM1iC,OAAO,CAACgwB,IACjBA,CAAAA,EAAM2S,EAAc5+B,IAAI,CAAC3F,EAAM0D,EAAKkuB,EAAG,CAE3C,MACO0S,EAAMx4B,IAAI,CAAC8lB,GAKlB,GAAIttB,EAAEuE,OAAO,CAAC+oB,GACZ,OAAOttB,EAAEggB,MAAM,CAACsN,EAAI,SAAUiO,CAAI,CAAE1N,CAAI,CAAEyC,CAAC,EAIzC,MAHI,CAACtwB,EAAEukB,WAAW,CAACsJ,IAAUgN,CAAAA,GAAa,CAAC76B,EAAEqkB,MAAM,CAACwJ,EAAI,GACtD0N,EAAK/zB,IAAI,CAACg5B,EAA+Bn/B,IAAI,CAACisB,EAAKO,EAAMyC,IAEpDiL,CACT,EAAG,EAAE,EAIF,GAAIv7B,EAAEikB,OAAO,CAACqJ,GAEfA,EADE0N,GAAsBh7B,EAAE8N,UAAU,CAACwf,EAAIL,MAAM,EACzCK,EAAIL,MAAM,GAEVK,EAAI0S,KAAK,MAGd,GAAIhgC,EAAEskB,QAAQ,CAACgJ,GAClBA,EAAMA,EAAI1uB,QAAQ,QAEf,GAAIoB,EAAE6jB,MAAM,CAACyJ,GAChBA,EAAMA,EAAIL,MAAM,QAEb,GAAIjtB,EAAE8N,UAAU,CAACwf,GAChB,CAACwN,GACHxN,CAAAA,EAAMA,EAAI1uB,QAAQ,EAAC,OAGlB,GAAKoB,EAAE2H,QAAQ,CAAC2lB,GAoBhB,IAAIttB,EAAE2H,QAAQ,CAAC2lB,UAElB,AAAIA,aAAesS,GAIftS,aAAeC,QAMfvtB,EAAE2H,QAAQ,CAAC2lB,EAAI9T,WAAW,GAAK8T,AAAyB,uBAAzBA,EAAI9T,WAAW,CAACP,IAAI,CAT9C,KAaL+hB,GAAsBh7B,EAAE8N,UAAU,CAACwf,EAAIL,MAAM,EACxCK,EAAIL,MAAM,GAGZjtB,EAAEggB,MAAM,CAAChgB,EAAEyJ,IAAI,CAAC6jB,GAAK,SAAUiO,CAAI,CAAEn8B,CAAG,EAC7C,IAAIkhC,EAAShT,CAAG,CAACluB,EAAI,CAIrB,MAHI,CAACY,EAAEukB,WAAW,CAAC+b,IAAYzF,CAAAA,GAAa,CAAC76B,EAAEqkB,MAAM,CAACic,EAAM,GAC1D/E,CAAAA,CAAI,CAACn8B,EAAI,CAAGohC,EAA+Bn/B,IAAI,CAACisB,EAAKgT,EAAQlhC,EAAG,EAE3Dm8B,CACT,EAAG,CAAC,EACN,KA5CM,CAACR,IACC/6B,EAAEmkB,KAAK,CAACmJ,GACVA,EAAM,EAECA,IAAQ+K,IACf/K,EAAM,EAECA,IAAQ,CAAC+K,KAChB/K,CAAAA,EAAM,IAKE,IAARA,GACFA,CAAAA,EAAM,GAiCV,OAAOA,CACT,CAIA,OAAOkT,EAA+BlT,EAAK,GAC7C,CAzJAjyB,EAAOH,OAAO,CAAG,SAA0BoyB,CAAG,CAAEuN,CAAS,CAAEC,CAAsB,CAAEC,CAAkB,CAAEC,CAAkB,EAKvH,GAAIh7B,EAAEukB,WAAW,CAAC+I,UAChB,AAAIuN,EAAoB,KACjB,OAGT,OAAO0F,EAASjT,EAAKuN,EAAWC,EAAwBC,EAAoBC,EAC9E,C,uBC/BA,IAAI4E,EAAW,eACX5/B,EAAI,EAAQ,MAWZ47B,EAAQ,CAkBVx+B,OAAQ,CACN8kB,GAAI,SACJue,YAAa,WACbC,YAAa,WACX,MAAO,CAAC,MAAO,MAAO,MAAM,AAC9B,EACA9B,GAAI5+B,EAAEsb,QAAQ,CACdqlB,GAAI,SAASC,CAAC,EAEZ,GAAG5gC,EAAEsb,QAAQ,CAACslB,GAAM,OAAOA,EAG3B,GAAG5gC,EAAE6jB,MAAM,CAAC+c,GACV,OAAOA,EAAE3T,MAAM,GAGjB,GAAIjtB,EAAEukB,WAAW,CAACqc,IAIfA,aAAavgC,UAIbugC,aAAaplC,QAIbolC,aAAa7gC,OAMZC,EAAE2H,QAAQ,CAACi5B,IAAMA,AAAuB,uBAAvBA,EAAEpnB,WAAW,CAACP,IAAI,EAIpC2nB,IAAMvI,KAINuI,IAAM,CAACvI,KAIPr4B,EAAEmkB,KAAK,CAACyc,IAIR5gC,EAAEqkB,MAAM,CAACuc,GAjCV,MAAM,AAAIxgC,MAAM,mCAqClB,OAAOI,OAAOogC,EAChB,EACAC,QAAS,WACP,MAAO,EACT,EACA3I,YAAa,WACX,MAAO,UACT,EACAI,WAAY,SAAUoH,CAAE,EACtB,OAAO9D,EAAMtM,GAAG,CAACsP,EAAE,CAACc,IAAO,CAAC9D,EAAMC,KAAK,CAACvD,UAAU,CAACoH,IAAO,CAAC9D,EAAMnJ,IAAI,CAAC6F,UAAU,CAACoH,IAAO,CAAC9D,EAAME,GAAG,CAACxD,UAAU,CAACoH,EAChH,CACF,EAiBA/mB,OAAQ,CACNuJ,GAAI,SACJue,YAAa,gBACbC,YAAa,WACX,MAAO,CAAC,IAAK,GAAI,IAAK,OAAO,AAC/B,EACA9B,GAAI,SAASgC,CAAC,EACZ,OAAO5gC,EAAEokB,QAAQ,CAACwc,IAAM,CAAC5gC,EAAEmkB,KAAK,CAAC1iB,WAAWm/B,KAAOA,IAAIvI,KAAYuI,IAAI,CAACvI,GAC1E,EACAsI,GAAI,SAASC,CAAC,EAGZ,GAAIA,IAAMvI,KAAYuI,IAAM,CAACvI,KACzBr4B,EAAEmkB,KAAK,CAACyc,IAGR5gC,EAAEqkB,MAAM,CAACuc,IACT5gC,EAAEukB,WAAW,CAACqc,GALuB,MAAM,AAAIxgC,MAAM,mCAQzD,GAAIJ,EAAE6jB,MAAM,CAAC+c,GAAM,OAAOA,EAAEhgB,OAAO,GAGnC,GAAI5gB,EAAE2H,QAAQ,CAACi5B,GAAM,MAAM,AAAIxgC,MAAM,mCAErC,GAAGw7B,EAAMjjB,MAAM,CAACimB,EAAE,CAACgC,GAAM,OAAOA,EAChC,GAAGhF,EAAM+D,OAAO,CAACf,EAAE,CAACgC,GAAM,OAAOA,EAAI,EAAI,EACzC,GAAGhF,EAAMx+B,MAAM,CAACwhC,EAAE,CAACgC,GAAI,CAiBrB,GAAI,CAdgC,AAAC,SAA2C5kC,CAAK,QACnF,EAAI,CAACgE,EAAEsb,QAAQ,CAACtf,IAGZA,AAAU,KAAVA,GAAgBA,EAAMwf,KAAK,CAAC,OAG3Bxb,EAAEmkB,KAAK,CAAC,CAACnoB,KACT,CAACA,GAASq8B,KACV,CAACr8B,GAAS,CAACq8B,KAET,EACT,EAAGuI,IAOCA,AAAM,aAANA,GAAoBA,AAAM,cAANA,EAJtB,MAAM,AAAIxgC,MAAM,mCAOlB,MAAO,CAACwgC,CACV,CAEA,IAAIE,EAAMF,AAAI,EAAJA,EACV,GAAG,CAAC5gC,EAAEokB,QAAQ,CAAC0c,GACb,MAAM,AAAI1gC,MAAM,mCAElB,OAAO,AAAC0gC,AAAQ,IAARA,GAAcF,EAAEplB,KAAK,CAAC,QAAeslB,EAAJ,CAC3C,EACAD,QAAS,WACP,OAAO,CACT,EACA3I,YAAa,WACX,OAAO,GACT,EACAI,WAAY,SAAUoH,CAAE,EACtB,OAAO9D,EAAMjjB,MAAM,CAACimB,EAAE,CAACc,EACzB,CACF,EAkBAC,QAAS,CACPzd,GAAI,UACJue,YAAa,gBACbC,YAAa,WACX,MAAO,CAAC,GAAM,GAAM,AACtB,EACA9B,GAAI5+B,EAAE4jB,SAAS,CACf+c,GAAI,SAASC,CAAC,EACZ,GAAG5gC,EAAE4jB,SAAS,CAACgd,GAAM,OAAOA,EAC5B,GAAI5gC,EAAEokB,QAAQ,CAACwc,GAAG,CAChB,GAAGA,AAAM,IAANA,EAAW,MAAO,GACrB,GAAGA,AAAM,IAANA,EAAW,MAAO,EACvB,CACA,GAAI5gC,EAAEsb,QAAQ,CAACslB,GAAI,CACjB,GAAGA,AAAM,SAANA,EAAgB,MAAO,GAC1B,GAAGA,AAAM,UAANA,EAAiB,MAAO,GAC3B,GAAGA,AAAM,MAANA,EAAa,MAAO,GACvB,GAAGA,AAAM,MAANA,EAAa,MAAO,EACzB,CAEA,MAAM,AAAIxgC,MAAM,kCAClB,EACAygC,QAAS,WACP,MAAO,EACT,EACA3I,YAAa,WACX,MAAO,EACT,EACAI,WAAY,SAAUoH,CAAE,EACtB,OAAO9D,EAAM+D,OAAO,CAACf,EAAE,CAACc,EAC1B,CACF,EAmBAqB,WAAY,CACV7e,GAAI,aACJue,YAAa,uBACbC,YAAa,SAAUxF,CAAU,EAC/B,MAAO,CAAC,CAAC,EAAG,CAAC8F,IAAK,KAAK,EAAG,CAACA,IAAK,CAACC,IAAK,CAAC,CAACC,IAAK,EAAI,EAAE,CAAC,EAAE,AACxD,EACAtC,GAAI,SAASgC,CAAC,QACZ,EAAI,CAAC5gC,EAAE2H,QAAQ,CAACi5B,IACZhF,EAAMn/B,KAAK,CAACmiC,EAAE,CAACgC,IACf,CAAC5gC,EAAEqQ,aAAa,CAACuwB,IAEjBA,aAAahB,GAIbgB,aAAarT,QAKbvtB,EAAE2H,QAAQ,CAACi5B,EAAEpnB,WAAW,GAAKonB,AAAuB,uBAAvBA,EAAEpnB,WAAW,CAACP,IAAI,GAG5C,EACT,EACA0nB,GAAI,SAASC,CAAC,EAGZ,GAAI,CAAC5gC,EAAE2H,QAAQ,CAACi5B,IAAM5gC,EAAEuE,OAAO,CAACq8B,IAAM5gC,EAAE6jB,MAAM,CAAC+c,IAAM5gC,EAAEskB,QAAQ,CAACsc,IAAM5gC,EAAEikB,OAAO,CAAC2c,IAAM5gC,EAAE8N,UAAU,CAAC8yB,GACjG,MAAM,AAAIxgC,MAAM,mCASlB,GAAIJ,EAAEqQ,aAAa,CAACuwB,GAClB,OAAOA,EAIT,GAAIA,aAAahB,GAKbgB,aAAarT,QAMbvtB,EAAE2H,QAAQ,CAACi5B,IAAMA,AAAuB,uBAAvBA,EAAEpnB,WAAW,CAACP,IAAI,CAVrC,MAAM,AAAI7Y,MAAM,mCAgBlB,OAAOwgC,CAET,EACAC,QAAS,WACP,MAAO,CAAC,CACV,EACA3I,YAAa,WACX,MAAO,CAAC,CACV,EACAI,WAAY,SAAUoH,CAAE,EACtB,OAAO9D,EAAMmF,UAAU,CAACnC,EAAE,CAACc,EAC7B,CACF,EAiBAjjC,MAAO,CACLylB,GAAI,QACJue,YAAa,mBACbC,YAAa,SAAUxF,CAAU,EAC/B,MAAO,CAAC,EAAE,CAAE,CAAC,MAAM,CAAE,CAAC,CAAC,MAAM,CAAC,CAAE,CAAC,CAAC8F,IAAK,KAAK,EAAE,CAAE,CAAC,EAAE,EAAE,EAAE,CAAE,CAAC,GAAK,CAAC,AAClE,EACApC,GAAI5+B,EAAEuE,OAAO,CACbo8B,GAAI,SAASC,CAAC,EACZ,GAAI,CAAC5gC,EAAEuE,OAAO,CAACq8B,GACb,MAAM,AAAIxgC,MAAM,mCAElB,OAAOwgC,CACT,EACAC,QAAS,WACP,MAAO,EAAE,AACX,EACA3I,YAAa,WACX,MAAO,EAAE,AACX,EACAI,WAAY,SAAUoH,CAAE,EACtB,OAAO9D,EAAMn/B,KAAK,CAACmiC,EAAE,CAACc,EACxB,CACF,EAuBA5D,IAAK,CACH5Z,GAAI,MACJue,YAAa,4BACbC,YAAa,WACX,MAAO,CAAC,KAAM,QAAS,KAAM,GAAM,CAACM,IAAK,CAACC,IAAK,CAAC,CAACC,IAAK,EAAI,EAAE,CAAC,EAAG,EAAE,CAAE,CAAC,EAAG,CAAC,CAACC,EAAE,EAAEC,EAAE,CAAC,EAAE,CAAC,AACtF,EACAxC,GAAI,SAASgC,CAAC,EACZ,MAAO,CAAC5gC,EAAEukB,WAAW,CAACqc,EACxB,EACAD,GAAI,SAASC,CAAC,EAEZ,GAAG5gC,EAAEukB,WAAW,CAACqc,GACf,MAAM,AAAIxgC,MAAM,mCAGlB,OAAOwgC,CACT,EACAC,QAAS,WACP,OAAO,IACT,EACA3I,YAAa,WACX,MAAO,KACT,EACAI,WAAY,SAAUoH,CAAE,EACtB,MAAO,AAAQ,QAAPA,GAAiB1/B,EAAEukB,WAAW,CAACmb,EACzC,EACAnH,uBAAwB,WACtB,MAAO,eACT,CACF,EAwBA9F,KAAM,CACJvQ,GAAI,OACJue,YAAa,8BACbC,YAAa,WACX,MAAO,CAAC,KAAM,QAAS,KAAM,GAAM,CAACM,IAAK,CAACC,IAAK,CAAC,CAACC,IAAK,EAAI,EAAE,CAAC,EAAG,EAAE,CAAE,CAAC,EAAG,CAAC,CAACC,EAAE,EAAEC,EAAE,CAAC,EAAE,CAAC,AACtF,EACAxC,GAAI,SAASgC,CAAC,QAEZ,EAAIA,IAAIvI,KAAYuI,IAAI,CAACvI,KAAYr4B,EAAEmkB,KAAK,CAACyc,IAIzCA,aAAahB,GAIbgB,aAAarT,QAKbvtB,EAAE2H,QAAQ,CAACi5B,IAAMA,AAAuB,uBAAvBA,EAAEpnB,WAAW,CAACP,IAAI,MAGnCjZ,CAAAA,EAAEsb,QAAQ,CAACslB,IAAM5gC,EAAEokB,QAAQ,CAACwc,IAAM5gC,EAAE4jB,SAAS,CAACgd,IAAM5gC,EAAEqQ,aAAa,CAACuwB,IAAM5gC,EAAEuE,OAAO,CAACq8B,IAAM5gC,EAAEqkB,MAAM,CAACuc,EAAC,GAGjG,GACT,EACAD,GAAI,SAASC,CAAC,EAEZ,GAAG5gC,EAAEukB,WAAW,CAACqc,IAIb5gC,EAAE2H,QAAQ,CAACi5B,KAGTA,aAAahB,GAKbgB,aAAarT,QAKbvtB,EAAE2H,QAAQ,CAACi5B,IAAMA,AAAuB,uBAAvBA,EAAEpnB,WAAW,CAACP,IAAI,EAhBvC,MAAM,AAAI7Y,MAAM,mCAqBlB,OAAOwgC,CACT,EACAC,QAAS,WACP,OAAO,IACT,EACA3I,YAAa,WACX,MAAO,GACT,EACAI,WAAY,SAAUoH,CAAE,EACtB,MAAOA,AAAO,MAAPA,CACT,EACAnH,uBAAwB,WACtB,MAAO,eACT,CACF,EAqBAsD,MAAO,CACL3Z,GAAI,QACJue,YAAa,kBACbC,YAAa,WACX,MAAO,CAAC,WAAY,EAAG,SAAgBW,CAAK,CAACC,CAAI,CAACp1B,CAAI,EAAG,MAAO,kCAAoC,EAAE,AACxG,EACA0yB,GAAI,SAASgC,CAAC,QACZ,EAAI5gC,EAAE8N,UAAU,CAAC8yB,IAGV,EACT,EACAD,GAAI,SAASC,CAAC,EACZ,GAAI5gC,EAAE8N,UAAU,CAAC8yB,GACf,OAAOA,CAET,OAAM,AAAIxgC,MAAM,kCAClB,EACAygC,QAAS,WACP,OAAO,WAAc,MAAM,AAAIzgC,MAAM,sEAAwE,CAC/G,EACA83B,YAAa,WACX,MAAO,IACT,EACAI,WAAY,SAAUoH,CAAE,EACtB,OAAO1/B,EAAEsb,QAAQ,CAACokB,IAAOA,EAAGlkB,KAAK,CAAC,kCACpC,EACA+c,uBAAwB,WACtB,MAAO,iBACT,CACF,CAIF,CAQAqD,CAAAA,EAAMtM,GAAG,CAAGsM,EAAMx+B,MAAM,CACxBw+B,EAAMkF,GAAG,CAAGlF,EAAMjjB,MAAM,CACxBijB,EAAM2F,IAAI,CAAG3F,EAAM+D,OAAO,CAC1B/D,EAAMhO,GAAG,CAAGgO,EAAMn/B,KAAK,CACvBm/B,EAAM4F,IAAI,CAAG5F,EAAMmF,UAAU,CAG7BnF,EAAM6F,MAAM,CAAG7F,EAAMC,KAAK,CAG1BD,EAAMhM,IAAI,CAAGgM,EAAMnJ,IAAI,CAEvBp3B,EAAOH,OAAO,CAAG0gC,C,uBCnkBN,EAAQ,MACnB,IAAI57B,EAAI,EAAQ,MACZy/B,EAAQ,EAAQ,MAChB7E,EAAmB,EAAQ,MAC3BtG,EAAU,EAAQ,MAClBE,EAAiB,EAAQ,IAY7Bn5B,CAAAA,EAAOH,OAAO,CAAG,SAASwmC,EAAoB9I,CAAQ,CAAEC,CAAM,CAAEC,CAAM,CAAE2D,CAAI,CAAEkF,CAAM,EA2ClF,GAvBI3hC,EAAEuE,OAAO,CAACq0B,IAAaA,AAAoB,IAApBA,EAASh8B,MAAM,CACxCglC,EAAgB,GAGT5hC,EAAEqQ,aAAa,CAACuoB,IAAa54B,AAA4B,IAA5BA,EAAEyJ,IAAI,CAACmvB,GAAUh8B,MAAM,CAC3DilC,EAAqB,GAGdjJ,AAAa,QAAbA,EACPkJ,EAAsB,GAGF,SAAblJ,GACPmJ,CAAAA,EAAyB,EAAG,EAU1B/hC,EAAEuE,OAAO,CAACq0B,GACZoJ,EAAevC,EAAMhjC,KAAK,CAC1BwlC,EAAmB,QAGhB,GAAIjiC,EAAE2H,QAAQ,CAACixB,GAClBoJ,EAAevC,EAAMsB,UAAU,CAC/BmB,EAAwB,QAQxB,GAJAF,EAAevC,CAAK,CAAC7G,EAAS,CAI1B54B,EAAEukB,WAAW,CAACyd,GAMhB,OALAlJ,EAAOtxB,IAAI,CAAC,AAAC,WACX,IAAI6rB,EAAM,AAAIjzB,MAAM,iBAAiBw4B,GAErC,OADAvF,EAAI0F,IAAI,CAAG,iBACJ1F,CACT,KACOoM,EAAMriC,MAAM,CAACyjC,OAAO,GAK/B,IAlEImB,EACAC,EACAC,EACAJ,EACAF,EACAC,EACAE,EA4DAI,EAAetJ,EASnB,GALG74B,EAAEukB,WAAW,CAACsU,IACfsJ,CAAAA,EAAeH,EAAanB,OAAO,EAAC,EAIlC,CAACmB,EAAapD,EAAE,CAAC/F,GAAQ,CAI3B,IAAIuJ,EAAS,AAAC,WACZ,IAAIC,EAAM,GACNriC,EAAEukB,WAAW,CAACsU,GAChBwJ,GAAO,aAAe/N,EAAQsE,GAAY,yBAI1CyJ,GADO,sBAAwB7N,EAAeqE,GAAU,KAAM,CAACA,IAASR,KAAUQ,IAAS,CAACR,KAAUr4B,EAAEmkB,KAAK,CAAC0U,GAASA,EAAOvE,EAAQuE,EAAM,EAAG,KACxI,+BAAgC74B,CAAAA,EAAE2H,QAAQ,CAACixB,GAAUpE,EAAeoE,GAAU,IAAI,EAAC,EAAG,OAAQ54B,CAAAA,EAAE2H,QAAQ,CAACixB,GAAU,WAAW,EAAC,EAAI,KAAOtE,EAAQsE,EAAQ,EAE/J6D,EAAK7/B,MAAM,CAAG,GAChBylC,CAAAA,EAAM,MAAM5F,EAAKrN,IAAI,CAAC,KAAK,MAAQiT,CAAE,EAEvC,IAAIhP,EAAM,AAAIjzB,MAAMiiC,EACpBhP,CAAAA,EAAIoJ,IAAI,CAAGA,EACXpJ,EAAIwF,MAAM,CAAGA,EACbxF,EAAIuF,QAAQ,CAAGA,EACfvF,EAAI0F,IAAI,CAAG,uBAIX,GAAI,CACFiJ,EAAarB,EAAE,CAAC9H,GAChBxF,EAAIkM,KAAK,CAAG,EACd,CACA,MAAOjW,EAAG,CAAC,CACX,OAAO+J,CACT,IAGI,EAAC+O,EAAO7C,KAAK,EAAKoC,GAAUS,EAAO7C,KAAK,GAC1CzG,EAAOtxB,IAAI,CAAC46B,GAKd,GAAI,CACFD,EAAeH,EAAarB,EAAE,CAAC9H,EACjC,CACA,MAAOvP,EAAG,CAGR6Y,EAAeH,EAAanB,OAAO,GAGnC/H,EAAOtxB,IAAI,CAAC,AAAC,WACX,IAAI66B,EAAM,GACNriC,EAAEukB,WAAW,CAACsU,GAChBwJ,GAAO,aAAe/N,EAAQsE,GAAY,yBAI1CyJ,GADO,sBAAwB7N,EAAeqE,GAAU,KAAKvE,EAAQuE,GAAS,KACvE,+BAAgC74B,CAAAA,EAAE2H,QAAQ,CAACixB,GAAUpE,EAAeoE,GAAU,IAAI,EAAC,EAAG,OAAQ54B,CAAAA,EAAE2H,QAAQ,CAACixB,GAAU,WAAW,EAAC,EAAI,KAAOtE,EAAQsE,EAAQ,EAEnKyJ,GAAO,yGACH5F,EAAK7/B,MAAM,CAAG,GAChBylC,CAAAA,EAAM,MAAM5F,EAAKrN,IAAI,CAAC,KAAK,MAAQiT,CAAE,EAEvC,IAAIhP,EAAM,AAAIjzB,MAAMiiC,GAKpB,OAJAhP,EAAIoJ,IAAI,CAAGA,EACXpJ,EAAIwF,MAAM,CAAGA,EACbxF,EAAIuF,QAAQ,CAAGA,EACfvF,EAAI0F,IAAI,CAAG,mBACJ1F,CACT,IACF,CACF,CAMA,GAAIyO,EAEF,OAAOK,EAIT,GAAIJ,EAEF,OAAOnH,EAAiBuH,EAAc,IAGxC,GAAIF,EAAkB,CAGpB,GAAIL,EACF,OAAOhH,EAAiBuH,EAAc,IAIxC,IAAIG,EAAe1J,CAAQ,CAAC,EAAE,CAC9B,OAAO54B,EAAEggB,MAAM,CAACmiB,EAAc,SAAU5G,CAAI,CAAEgH,CAAU,CAAEjS,CAAC,SAGzD,AAAItwB,EAAEukB,WAAW,CAACge,GACThH,GAETA,EAAK/zB,IAAI,CAACk6B,EAAmBY,EAAcC,EAAYzJ,EAAQ2D,EAAK1P,MAAM,CAACuD,GAAIqR,IACxEpG,EACT,EAAG,EAAE,CACP,CAEA,GAAI2G,SAGF,AAAIL,EACKjH,EAAiBuH,EAAc,IAGjCniC,EAAEggB,MAAM,CAAC4Y,EAAU,SAAU2C,CAAI,CAAEiH,CAAW,CAAEC,CAAW,EAEhE,OADAlH,CAAI,CAACkH,EAAY,CAAGf,EAAmB9I,CAAQ,CAAC6J,EAAY,CAAEN,CAAY,CAACM,EAAY,CAAE3J,EAAQ2D,EAAK1P,MAAM,CAAC0V,GAAcd,GACpHpG,CACT,EAAG,CAAC,GAIN,OAAO4G,CACT,C,qECxNA,IAAIniC,EAAI,oBAAQ,KAWhB3E,CAAAA,OAAOH,OAAO,CAAG,SAASk5B,QAASp4B,KAAK,CAAEk/B,UAAU,EAElD,GAAIl7B,EAAEukB,WAAW,CAAC2W,YAChB,MAAM,AAAI96B,MAAM,gEAYlB,AAAI86B,AAAe,UAAfA,YACD,EAACl7B,EAAE2H,QAAQ,CAACuzB,aAAel7B,EAAEgkB,OAAO,CAACkX,WAAY,EAAE,GAAKl7B,EAAEgkB,OAAO,CAACkX,WAAY,CAAC,EAAC,EAC1El/B,MAGF,AAAC,SAAS0mC,sBAAsBpV,GAAG,CAAEqV,SAAS,EAEnD,IAyDQluB,GAzDJmuB,SAAWD,UAAU/lC,MAAM,CAAG,EAAIoD,EAAE0Z,GAAG,CAACwhB,WAAYyH,UAAUvT,IAAI,CAAC,MAAQ8L,WAO/E,GAAIl7B,EAAEuE,OAAO,CAACq+B,iBAKZ,AAAK5iC,EAAEuE,OAAO,CAAC+oB,MAKXsV,AAAoB,IAApBA,SAAShmC,MAAM,CAMZoD,EAAEggB,MAAM,CAACsN,IAAK,SAAUiO,CAAI,CAAE2E,CAAM,CAAErjC,CAAK,EAEhD,OADA0+B,EAAK/zB,IAAI,CAACk7B,sBAAsBpV,GAAG,CAACzwB,EAAM,CAAE8lC,UAAU5V,MAAM,CAAC,OACtDwO,CACT,EAAG,EAAE,EAbIjO,IAeN,GAAIttB,EAAE2H,QAAQ,CAACi7B,iBAKlB,AAAK5iC,EAAE2H,QAAQ,CAAC2lB,MAKZttB,AAA4B,IAA5BA,EAAEyJ,IAAI,CAACm5B,UAAUhmC,MAAM,CAIpBoD,EAAEggB,MAAM,CAAC4iB,SAAU,SAAUrH,CAAI,CAAE2E,CAAM,CAAE2C,CAAM,EAEtD,GAAI,AAAC,IAAGA,CAAK,EAAGrnB,KAAK,CAAC,MACpB,MAAM,AAAIpb,MAAM,iGAGlB,OADAm7B,CAAI,CAACsH,EAAO,CAAGH,sBAAsBpV,GAAG,CAACuV,EAAO,CAAEF,UAAU5V,MAAM,CAAC8V,IAC5DtH,CACT,EAAG,CAAC,GAfKjO,IAqBN,GAAIsV,AAAa,UAAbA,UAAwB5iC,EAAEsb,QAAQ,CAACgS,KAC1C,GAAI,CAaF,OATIA,IAAI9R,KAAK,CAAC,gBACZsnB,KAAK,MAAMxV,KAMXwV,KAAK,mCAAmCxV,IAAI,KAEvC7Y,EACT,CACA,MAAO6U,EAAE,CAIT,CAIF,OAAOgE,GACT,EAAGtxB,MAAO,EAAE,CAEd,C,uBCnHA,IAAIyjC,EAAQ,EAAQ,MAChBsD,EAAiB,EAAQ,KA0B7B1nC,CAAAA,EAAOH,OAAO,CAAG,SAA0By6B,CAAQ,EAMjD,GAAI,AAAoB,SAAbA,EACT,MAAO,GAKT,GAAG,AAAC8J,EAAMsB,UAAU,CAACnC,EAAE,CAACjJ,IAAc8J,EAAMhjC,KAAK,CAACmiC,EAAE,CAACjJ,IAchD,GAAG8J,EAAMhjC,KAAK,CAACmiC,EAAE,CAACjJ,GACrB,MAAO,aAGJ,GAAG8J,EAAMsB,UAAU,CAACnC,EAAE,CAACjJ,GAC1B,MAAO,kBAGP,MAAM,AAAIv1B,MAAM,0DArBhB,IAAI27B,EAAcgH,EAAepN,UAEjC,AAAI,AAAuB,SAAhBoG,EACFA,EAMA,EAcb,C,uBC/DA,IAAI/7B,EAAI,EAAQ,MACZy/B,EAAQ,EAAQ,MAChBsD,EAAiB,EAAQ,KAS7B1nC,CAAAA,EAAOH,OAAO,CAAG,SAAS+4B,EAAMyL,CAAE,EAIhC,GAAG,CAACD,EAAMsB,UAAU,CAACnC,EAAE,CAACc,IAAO,CAACD,EAAMhjC,KAAK,CAACmiC,EAAE,CAACc,GAC7C,OAAOqD,EAAerD,GAGnB,GAAGD,EAAMhjC,KAAK,CAACmiC,EAAE,CAACc,UAGrB,AAAIA,AAAc,IAAdA,EAAG9iC,MAAM,CACJ8iC,EAKA,CAAEzL,EAAMyL,CAAE,CAAC,EAAE,EAAG,CAQzB,GAAI1/B,AAAsB,IAAtBA,EAAEyJ,IAAI,CAACi2B,GAAI9iC,MAAM,CACnB,OAAO8iC,EAMP,IAAIsD,EAAuB,CAAC,EAK5B,OAJAhjC,EAAE4qB,IAAI,CAAC5qB,EAAEyJ,IAAI,CAACi2B,GAAK,SAAStgC,CAAG,EAE7B4jC,CAAoB,CAAC5jC,EAAI,CAAG60B,EAAMyL,CAAE,CAACtgC,EAAI,CAC3C,GACO4jC,CAGb,C,uBCnDA,IAAIhjC,EAAI,EAAQ,MACZijC,EAA6B,EAAQ,MACrCrH,EAAQ,EAAQ,KAqBpBvgC,CAAAA,EAAOH,OAAO,CAAG,SAAuBgoC,CAAO,CAAEC,CAAO,CAAE7K,CAAU,CAAEhrB,CAAQ,EAG5E,SAASqxB,EAAWhD,CAAM,EACxB,MAAO,CACLiD,GAAI,WACF,IAAIC,EAAkB9+B,MAAMY,SAAS,CAAC4X,KAAK,CAAClX,IAAI,CAACoR,kBACjD,AAAK6lB,EAGEt4B,EAAEorB,GAAG,CAACyT,EAAiB,SAAUC,CAAQ,EAC9C,OAAOlD,CAAK,CAACkD,EAAS,CAACxG,UAAU,CAACqD,EACpC,GAJS37B,EAAEqrB,QAAQ,CAACwT,EAAiBlD,EAKvC,CACF,CACF,CAKA,IAAIyH,EAAkBH,EAIpB,CAAC,CAAC3K,EAEF,SAAqB4K,CAAO,CAAEC,CAAO,CAAE9H,CAAgB,CAAEK,CAAgB,EAEvE,GAAKiD,EAAWwE,GAASvE,EAAE,CAAC,OAAQ,OAClC,OAAOsE,EAIT,IADIG,EACAC,EAAuBtjC,EAAEggB,MAAM,CAACkjB,EAAS,SAAU3H,CAAI,CAAEjO,CAAG,CAAEluB,CAAG,EAInE,GAAIY,EAAE2H,QAAQ,CAACw7B,IAAY,CAACnjC,EAAEuE,OAAO,CAAC4+B,IAAY,CAACnjC,EAAEgkB,OAAO,CAACmf,EAAS,CAAC,IACjEnjC,CAAAA,EAAEukB,WAAW,CAAC4e,CAAO,CAAC/jC,EAAI,GAAKY,EAAEqkB,MAAM,CAAC8e,CAAO,CAAC/jC,EAAI,GAEtD,OADAm8B,CAAI,CAACn8B,EAAI,CAAGkuB,EACLiO,EAIX,IAAIgI,EAAmB7H,EAAiBt8B,UACxC,AAAIY,EAAEqkB,MAAM,CAACkf,IACXF,EAAiB,GACV9H,IAGTA,CAAI,CAACn8B,EAAI,CAAGmkC,EACLhI,EACT,EAAG,CAAC,UAEJ,AAAI8H,EACK,MAKLrjC,EAAE2H,QAAQ,CAACw7B,IAAY,CAACnjC,EAAEuE,OAAO,CAAC4+B,IAAY,CAACnjC,EAAEgkB,OAAO,CAACmf,EAAS,CAAC,IACrEnjC,EAAE4qB,IAAI,CAACuY,EAAS,SAAU7V,CAAG,CAAEluB,CAAG,EAC5BY,CAAAA,EAAEukB,WAAW,CAAC2e,CAAO,CAAC9jC,EAAI,GAAKY,EAAEqkB,MAAM,CAAC6e,CAAO,CAAC9jC,EAAI,IACtDkkC,CAAAA,CAAoB,CAAClkC,EAAI,CAAGkuB,CAAE,CAElC,GAGKgW,EACT,EACA,SAAwBJ,CAAO,CAAEC,CAAO,CAAE9H,CAAgB,CAAEK,CAAgB,EAC1E,GAAKiD,EAAWwE,GAASvE,EAAE,CAAC,OAAQ,OAClC,OAAOsE,EAGT,GAAI,CAACljC,EAAEuE,OAAO,CAAC4+B,GACb,OAAO,KAET,IAAIK,EAAqB9H,EAAiB,UAC1C,AAAI17B,EAAEqkB,MAAM,CAACmf,GACJ,KAEF,CAAEA,EAAoB,AAC/B,EACA,SAAuBN,CAAO,CAAEC,CAAO,CAAE9H,CAAgB,SACvD,AAAKsD,EAAWwE,GAASvE,EAAE,CAAC,OAAQ,OAC3BsE,EAGL,CAACljC,EAAEuE,OAAO,CAAC4+B,IAAYnjC,EAAE2H,QAAQ,CAACw7B,GAC7BA,EAEF,IACT,EACA,SAAwBD,CAAO,CAAEC,CAAO,CAAE9H,CAAgB,SACxD,AAAKsD,EAAWwE,GAASvE,EAAE,CAAC,OAAQ,OAC3BsE,EAGLljC,EAAEuE,OAAO,CAAC4+B,GACLA,EAEF,IACT,EACA,SAAgBD,CAAO,CAAEC,CAAO,CAAE9H,CAAgB,SAEhD,AAAIr7B,EAAEuE,OAAO,CAAC4+B,IAGVnjC,EAAE2H,QAAQ,CAACw7B,GAFNA,EAMJxE,EAAWwE,GAASvE,EAAE,CAAC,MAAO,QAC1BsE,EAEJvE,EAAWwE,GAASvE,EAAE,CAAC,SAAU,SAAU,WACvCuE,EAGF,IACT,EACA,SAAeD,CAAO,CAAEC,CAAO,CAAE9H,CAAgB,EAC/C,OAAO8H,CACT,EACA,SAAiBD,CAAO,CAAEC,CAAO,CAAE9H,CAAgB,SACjD,AAAKsD,EAAWwE,GAASvE,EAAE,CAAC,SACnBuE,EAEJxE,EAAWwE,GAASvE,EAAE,CAAC,OACnBsE,EAEF,IACT,EACA,SAAkBA,CAAO,CAAEC,CAAO,CAAE9H,CAAgB,SAClD,AAAKsD,EAAWwE,GAASvE,EAAE,CAAC,UACnBuE,EAEJxE,EAAWwE,GAASvE,EAAE,CAAC,OAAQ,OAC3BsE,EAEL,CAAC51B,GACEqxB,EAAWwE,GAASvE,EAAE,CAAC,SAAU,WAC7BuE,EAGJ,IACT,EACA,SAAkBD,CAAO,CAAEC,CAAO,CAAE9H,CAAgB,EAClD,GAAKsD,EAAWwE,GAASvE,EAAE,CAAC,UAC1B,OAAOuE,EAET,GAAKxE,EAAWwE,GAASvE,EAAE,CAAC,OAAQ,OAClC,OAAOsE,EAET,GAAI,CAAC51B,EAAS,CACZ,GAAKqxB,EAAWwE,GAASvE,EAAE,CAAC,UAC1B,OAAOsE,EAET,GAAKvE,EAAWwE,GAASvE,EAAE,CAAC,WAC1B,OAAOuE,CAEX,CACA,OAAO,IACT,EACA,SAAmBD,CAAO,CAAEC,CAAO,CAAE9H,CAAgB,SACnD,AAAKsD,EAAWwE,GAASvE,EAAE,CAAC,WACnBuE,EAEJxE,EAAWwE,GAASvE,EAAE,CAAC,OAAQ,QAGhC,CAACtxB,GACEqxB,EAAWwE,GAASvE,EAAE,CAAC,SAAU,UAH/BsE,EAOF,IACT,GAMF,GAAI5K,GAAct4B,EAAEqkB,MAAM,CAAC6e,IAAYljC,EAAEqkB,MAAM,CAAC8e,GAC9C,OAAO,KAKT,IAAIllC,EAASmlC,EAAgBF,EAASC,GAEtC,GAAInjC,EAAEukB,WAAW,CAACtmB,GAChB,MAAM,AAAImC,MAAM,uFAGlB,OAAOnC,CAET,C,uBC7NA,IAAI+B,EAAI,EAAQ,KAchB3E,CAAAA,EAAOH,OAAO,CAAG,SAAkBuoC,CAAU,CAAEC,CAAW,CAAExI,CAAU,SAGpE,AAAIl7B,EAAEukB,WAAW,CAAC2W,GACTl7B,EAAEgkB,OAAO,CAACyf,EAAYC,GAmBxB,AAAC,SAASC,EAAkBF,CAAU,CAAEC,CAAW,CAAEE,CAAc,CAAEC,CAAY,CAAE7F,CAAU,EAGlG,GAAI,AAAC,IAAGA,CAAS,EAAGxiB,KAAK,CAAC,MACxB,MAAM,AAAIpb,MAAM,oIAIdJ,EAAEuE,OAAO,CAACs/B,IACZA,CAAAA,EAAe7jC,EAAE6F,KAAK,CAACg+B,EAAY,EAKjC,CAAC7jC,EAAEukB,WAAW,CAACyZ,IAGjB6F,EAAar8B,IAAI,CAACw2B,GAIpB,IAAI8F,EAAoBD,AAAwB,IAAxBA,EAAajnC,MAAM,CAAS6mC,EAAazjC,EAAE0Z,GAAG,CAAC+pB,EAAYI,EAAazU,IAAI,CAAC,MACjG2U,EAAqBF,AAAwB,IAAxBA,EAAajnC,MAAM,CAAS8mC,EAAc1jC,EAAE0Z,GAAG,CAACgqB,EAAaG,EAAazU,IAAI,CAAC,MAMxG,GAAIpvB,EAAEuE,OAAO,CAACq/B,UAGZ,AAAI5jC,EAAEgkB,OAAO,CAAC4f,EAAgB,EAAE,EACvB5jC,EAAEgkB,OAAO,CAAC8f,EAAmBC,KAIlC,CAAC/jC,EAAEuE,OAAO,CAACu/B,IAAuB9jC,EAAEuE,OAAO,CAACw/B,EAAkB,GAG3D/jC,EAAEmrB,GAAG,CAAC2Y,EAAmB,SAAiC5D,CAAM,CAAE5P,CAAC,EACxE,OAAOqT,EAAkBF,EAAYC,EAAaE,CAAc,CAAC,EAAE,CAAEC,EAAcvT,EACrF,IACAtwB,EAAEmrB,GAAG,CAAC4Y,EAAoB,SAAiC7D,CAAM,CAAE5P,CAAC,EAClE,OAAOqT,EAAkBF,EAAYC,EAAaE,CAAc,CAAC,EAAE,CAAEC,EAAcvT,EACrF,GAEG,GAAItwB,EAAE2H,QAAQ,CAACi8B,UAElB,AAAI5jC,EAAEgkB,OAAO,CAAC4f,EAAgB,CAAC,GACtB5jC,EAAEgkB,OAAO,CAAC8f,EAAmBC,IAKlC/jC,CAAAA,EAAEuE,OAAO,CAACu/B,IAAsB,CAAC9jC,EAAE2H,QAAQ,CAACm8B,IAAsB9jC,EAAEuE,OAAO,CAACw/B,EAAkB,IAAK,CAAC/jC,EAAE2H,QAAQ,CAACo8B,IAG5G/jC,EAAEmrB,GAAG,CAAC2Y,EAAmB,SAAgC5D,CAAM,CAAE9gC,CAAG,EACzE,OAAOukC,EAAkBF,EAAYC,EAAaE,CAAc,CAACxkC,EAAI,CAAEykC,EAAczkC,EACvF,IACAY,EAAEmrB,GAAG,CAAC4Y,EAAoB,SAAgC7D,CAAM,CAAE9gC,CAAG,EACnE,OAAOukC,EAAkBF,EAAYC,EAAaE,CAAc,CAACxkC,EAAI,CAAEykC,EAAczkC,EACvF,GAIG,GAAIwkC,AAAmB,UAAnBA,EASP,OAAO5jC,EAAEgkB,OAAO,CAAC8f,EAAmBC,cAPpC,EAAI,CAACD,GAAsBC,GAAuB/jC,EAAE8N,UAAU,CAACg2B,EAAkBllC,QAAQ,GAAMoB,EAAE8N,UAAU,CAACi2B,EAAmBnlC,QAAQ,IAG/HklC,EAAkBllC,QAAQ,KAAOmlC,EAAmBnlC,QAAQ,EAOxE,EAAG6kC,EAAYC,EAAaxI,EAAY,EAAE,CAC5C,C,uBCpHA,IAAIl7B,EAAI,EAAQ,MACZi0B,EAAQ,EAAQ,KAkBpB54B,CAAAA,EAAOH,OAAO,CAAG,SAA0B8oC,CAAO,CAAEC,CAAuB,EAEzE,GAAIjkC,EAAEukB,WAAW,CAACyf,GAChB,OAAO,AAAI5jC,MAAM,wDAEnB,GAAI,CACF,IAAI86B,EAAajH,EAAM+P,GACvB,GAAIhkC,EAAEukB,WAAW,CAAC2W,IAAel7B,EAAEqkB,MAAM,CAAC6W,GACxC,OAAO,AAAI96B,MAAM,gDAErB,CACA,MAAOkpB,EAAG,CACR,OAAOA,CACT,CAEA,MAAO,EACT,C,uBCnCA,IAAItpB,EAAI,EAAQ,MACZi7B,EAAsB,EAAQ,KAoBlC5/B,CAAAA,EAAOH,OAAO,CAAG,SAAqBygC,CAAM,CAAEuI,CAAgB,CAAE5L,CAAU,EAgCxE,OAAO6L,AA7BSlJ,EACd,SAAqBG,CAAe,CAAEC,CAAgB,CAAEC,CAAa,QACnE,CAAK4I,GAGElkC,EAAEggB,MAAM,CAACob,EAAiB,SAAU1G,CAAU,CAAEpH,CAAG,CAAEluB,CAAG,EAC7D,OAAOs1B,GAAc4G,EAAchO,EAAKluB,EAC1C,EAAG,GACL,EACA,SAAwBq8B,CAAY,CAAEJ,CAAgB,CAAEK,CAAgB,QACtE,CAAKwI,GAGExI,EAAiBD,CAAY,CAAC,EAAE,CAAE,EAC3C,EACA,SAAuBE,CAAM,CAAEN,CAAgB,EAC7C,MAAO,EACT,EACA,SAAwBM,CAAM,CAAEN,CAAgB,EAC9C,MAAO,EACT,EACA,SAAiBM,CAAM,CAAEN,CAAgB,SACvC,AAAI/C,EACMqD,AAAW,MAAXA,GAAkBA,AAAW,QAAXA,EAEpBA,AAAW,SAAXA,GAAqBA,AAAW,QAAXA,CAC/B,GAGcA,EAElB,C,uBCvDA,IAAIwD,EAAO,EAAQ,MACfn/B,EAAI,EAAQ,MACZy/B,EAAQ,EAAQ,MAChB3L,EAAW,EAAQ,MACnB5F,EAAQ,EAAQ,KAChBkG,EAAU,EAAQ,KAwBtB/4B,CAAAA,EAAOH,OAAO,CAAG,SAAqBkpC,CAAW,CAAEpI,CAAkB,CAAEqI,CAAU,EAE/E,GAAI,CAACrkC,EAAEsb,QAAQ,CAAC8oB,GACd,MAAM,AAAIhkC,MAAM,mDAAmD,OAAOgkC,EAAY,kBAAkBjF,EAAKzJ,OAAO,CAAC0O,EAAa,GAAO,OAG3I,GAAIC,GAAcrkC,EAAEukB,WAAW,CAACyX,GAC9B,MAAM,AAAI57B,MAAM,+FAMlB,GAAIJ,EAAEukB,WAAW,CAACyX,GAAqB,CACrC,GAAI,CACF,OAAOyD,EAAM9mB,MAAM,CAACgoB,EAAE,CAACyD,EACzB,CACA,MAAO9a,EAAE,CAAC,CACV,GAAI,CACF,OAAOmW,EAAME,OAAO,CAACgB,EAAE,CAACyD,EAC1B,CACA,MAAO9a,EAAE,CAAC,CACV,OAAO8a,CACT,CAOA,GAAIpI,AAAuB,WAAvBA,GAAmCA,AAAuB,WAAvBA,GAAmCA,AAAuB,YAAvBA,EAGxE,OAAOlI,EAASkI,EAAoBoI,GAMtC,GAAIpI,AAAuB,UAAvBA,SACF,AAAKqI,EACEjQ,EAAQgQ,EAAapI,GADFoI,EAO5B,OAAOtQ,EAASkI,EAAoB9N,EAAMkW,EAAapI,EAAoBqI,GAE7E,C,sBC9EA,IAAIlF,EAAO,EAAQ,MACfn/B,EAAI,EAAQ,MACZo0B,EAAU,EAAQ,KActB/4B,CAAAA,EAAOH,OAAO,CAAG,SAAgBc,CAAK,CAAEk/B,CAAU,CAAEmJ,CAAU,MAYxDC,EAPJ,GAFAD,EAAaA,GAAc,GAEvB,CAACrkC,EAAEsb,QAAQ,CAACtf,GACd,MAAM,AAAIoE,MAAM,+CAA+C,OAAOpE,EAAM,iBAAiBmjC,EAAKzJ,OAAO,CAAC15B,EAAO,GAAO,OAE1H,GAAIqoC,GAAcrkC,EAAEukB,WAAW,CAAC2W,GAC9B,MAAM,AAAI96B,MAAM,mFAMlB,GAAI,CACFkkC,EAAkB1U,KAAK1B,KAAK,CAAClyB,EAC/B,CACA,MAAOstB,EAAG,CACR,MAAM,AAAIlpB,MAAM,0CAA0CpE,EAC5D,CAaA,OAJIqoC,GACFC,CAAAA,EAAkBlQ,EAAQkQ,EAAiBpJ,EAAU,EAGhDoJ,CACT,C,uBClDA,IAAIC,EAAmB,EAAQ,KA8C/BlpC,CAAAA,EAAOH,OAAO,CAAG,SAAiBoyB,CAAG,CAAEuS,CAAmB,CAAEC,CAAwB,EAClF,OAAOyE,EAAiBjX,EAAKuS,EAAqBC,EACpD,C,uBChDA,IAAI9/B,EAAI,EAAQ,MACZi7B,EAAsB,EAAQ,KAclC5/B,CAAAA,EAAOH,OAAO,CAAG,SAAgBggC,CAAU,EAkDzC,OAAOsJ,AA9CcvJ,EACnB,SAAqBG,CAAe,CAAEC,CAAgB,CAAEC,CAAa,EACnE,IAAImJ,EAAezkC,EAAEggB,MAAM,CAACob,EAAiB,SAAUG,CAAI,CAAEjO,CAAG,CAAEluB,CAAG,EACnE,IAAIo8B,EAAQF,EAAchO,EAAKluB,GAK/B,MAHI,CAACY,EAAEukB,WAAW,CAACiX,IACjBD,CAAAA,CAAI,CAACn8B,EAAI,CAAGo8B,CAAI,EAEXD,CACT,EAAG,CAAC,GAIJ,IAAIv7B,EAAEgkB,OAAO,CAAC,CAAC,EAAGygB,GAIlB,OAAOA,CACT,EACA,SAAwBhJ,CAAY,CAAEJ,CAAgB,CAAEK,CAAgB,EACtE,IAAIrS,EAAUqS,EAAiBD,CAAY,CAAC,EAAE,CAAE,GAGhD,IAAIz7B,EAAEukB,WAAW,CAAC8E,GAGlB,MAAO,CAAEA,EAAS,AACpB,EACA,SAAuBsS,CAAM,CAAEN,CAAgB,EAE/C,EACA,SAAwBM,CAAM,CAAEN,CAAgB,EAEhD,EACA,SAAiBM,CAAM,CAAEN,CAAgB,EACvC,GAAe,SAAXM,GAGAA,AAAW,QAAXA,EAGJ,OAAOA,CACT,GAIoBT,EAExB,C,uBCnEA,IAAIl7B,EAAI,EAAQ,MACZy1B,EAAW,EAAQ,MACV,EAAQ,MACrB,IAAIpB,EAAY,EAAQ,MACpBrQ,EAAU,EAAQ,MAClBiX,EAAsB,EAAQ,KAUlC5/B,CAAAA,EAAOH,OAAO,CAAG,SAAiBggC,CAAU,CAAEpf,CAAC,EAM7C,GAAIA,AAHJA,CAAAA,EAAI9b,EAAEukB,WAAW,CAACzI,GAAK,EAAIA,CAAAA,EAGnB,GAAK,CAAC9b,EAAEokB,QAAQ,CAACtI,GACvB,MAAM,AAAI1b,MAAM,oHAIlB,IAAI+6B,EAAuB9G,EAAU6G,GAGjCwJ,EAAoBzJ,EACtB,SAAqBG,CAAe,CAAEC,CAAgB,CAAEC,CAAa,EACnE,OAAOt7B,EAAEggB,MAAM,CAACob,EAAiB,SAAUG,CAAI,CAAEjO,CAAG,CAAEluB,CAAG,EACvD,IAAIo8B,EAAQF,EAAchO,EAAKluB,GAE/B,OADAm8B,CAAI,CAACn8B,EAAI,CAAGo8B,EACLD,CACT,EAAG,CAAC,EACN,EACA,SAAwBE,CAAY,CAAEJ,CAAgB,CAAEK,CAAgB,EAEtE,MAAO,CADOA,EAAiBD,CAAY,CAAC,EAAE,CAAE,GAC9B,AACpB,EACA,SAAuBE,CAAM,CAAEN,CAAgB,EAC7C,MAAO,CAAC,CACV,EACA,SAAwBM,CAAM,CAAEN,CAAgB,EAC9C,MAAO,EAAE,AACX,EACA,SAAiBM,CAAM,CAAEN,CAAgB,EAGvC,OADcr7B,EAAEmgB,MAAM,CAACsV,EAASkG,GAAQ+E,WAAW,GAErD,GAIEiE,EAAU3kC,EAAEggB,MAAM,CAAChgB,EAAEgqB,KAAK,CAAClO,GAAI,SAAU8oB,CAAY,CAAEtU,CAAC,EAC1D,IAAIuU,EAAYH,EAAkBvJ,GAOlC,OANen7B,EAAEggB,MAAM,CAAC4kB,EAAc,SAAyBE,CAAQ,CAAEC,CAAc,EACrF,OAAOD,GAAY,CAAC9gB,EAAQ+gB,EAAgBF,EAAW3J,EACzD,EAAG,KAED0J,EAAap9B,IAAI,CAACq9B,GAEbD,CACT,EAAG,EAAE,EAGL,OAAO5kC,EAAEsgB,OAAO,CAACqkB,EACnB,C,uBCpEA,IAAI3kC,EAAI,EAAQ,MACZq0B,EAAY,EAAQ,MACpBjG,EAAY,EAAQ,MACpB2F,EAAiB,EAAQ,MACzBC,EAAS,EAAQ,MACjBhQ,EAAU,EAAQ,KAgBtB3oB,CAAAA,EAAOH,OAAO,CAAG,SAAyBc,CAAK,CAAEggC,CAAkB,EAEjE,GAAI,CAACA,EACH,MAAM,AAAI57B,MAAM,4EAIlB,GAAI,CACF2zB,EAAeiI,EAAoBhgC,EACrC,CACA,MAAOstB,EAAG,CACR,MAAM,AAAIlpB,MAAM,wGAAwGkpB,EAAE0W,KAAK,CACjI,CASA,IAAIgF,EAAkB3Q,EAAUr4B,EAAO,IACvC,GAAI,CAACgoB,EAAQghB,EAAiBhpC,EAAOggC,GACnC,MAAM,AAAI57B,MAAM,4GAKlB,AAAIJ,CAAAA,EAAE2H,QAAQ,CAACq0B,IAAwBh8B,EAAEgkB,OAAO,CAACgY,EAAoB,CAAC,IAAOh8B,EAAEgkB,OAAO,CAACgY,EAAoB,EAAE,EAIpGA,AAAuB,UAAvBA,GAAkCA,AAAuB,WAAvBA,GAAmCA,AAAuB,WAAvBA,GAAmCA,AAAuB,YAAvBA,EACxGhI,EAAO,SAAUgR,IAKpBhJ,AAAuB,QAAvBA,EAGG5N,EAAU4W,EAAiB,KAZ3B5W,EAAU4W,EAAiB,GActC,C,uBChEQ,EAAQ,MAChB,IAAIpK,EAAmB,EAAQ,KAe/Bv/B,CAAAA,EAAOH,OAAO,CAAG,SAAoBc,CAAK,CAAE6+B,CAAS,EAEnD,OAAOjL,KAAKxB,SAAS,CAACwM,EAAiB5+B,EAAM6+B,GAC/C,C,uBCnBA,IAAI76B,EAAI,EAAQ,MACZy/B,EAAQ,EAAQ,MAChBjL,EAAiB,EAAQ,IAgB7Bn5B,CAAAA,EAAOH,OAAO,CAAG,SAAkB4L,CAAI,EAErC,GAAI9G,EAAEuE,OAAO,CAACuC,GACZ,OAAO9G,EAAEyjB,SAAS,CAACgc,EAAMhjC,KAAK,EAEhC,GAAIuD,EAAE2H,QAAQ,CAACb,IACT0tB,AAAyB,eAAzBA,EAAe1tB,GACjB,OAAO9G,EAAEyjB,SAAS,CAACgc,EAAMsB,UAAU,EAGvC,GAAI/gC,EAAEsb,QAAQ,CAACxU,IAAS24B,CAAK,CAAC34B,EAAK,CACjC,OAAO9G,EAAEyjB,SAAS,CAACgc,CAAK,CAAC34B,EAAK,CAEhC,OAAM,AAAI1G,MAAM,kBAAkB0G,EAAK,IAEzC,C,sBChCA,IAAI9G,EAAI,EAAQ,MACZijC,EAA6B,EAAQ,MACrCrH,EAAQ,EAAQ,MACR,EAAQ,MACpB,IAAIrH,EAAqB,EAAQ,KAkBjCl5B,CAAAA,EAAOH,OAAO,CAAG,SAAgBgoC,CAAO,CAAEC,CAAO,CAAE7K,CAAU,CAAEhrB,CAAQ,EAoFrE,SAASqxB,EAAWhD,CAAM,EACxB,MAAO,CACLiD,GAAI,WACF,IAAIC,EAAkB9+B,MAAMY,SAAS,CAAC4X,KAAK,CAAClX,IAAI,CAACoR,kBACjD,AAAK6lB,EAGEt4B,EAAEorB,GAAG,CAACyT,EAAiB,SAAUC,CAAQ,EAC9C,OAAOlD,CAAK,CAACkD,EAAS,CAACxG,UAAU,CAACqD,EACpC,GAJS37B,EAAEqrB,QAAQ,CAACwT,EAAiBlD,EAKvC,EAEAsJ,aAAc,WACZ,IAAIC,EAAoBnlC,MAAMY,SAAS,CAAC4X,KAAK,CAAClX,IAAI,CAACoR,WACnD,OAAOzS,EAAEorB,GAAG,CAAC8Z,EAAmB,SAAUpG,CAAQ,EAChD,GAAI,CAAC9+B,EAAE2H,QAAQ,CAACg0B,GACd,MAAO,GAET,GAAI37B,EAAEuE,OAAO,CAACo3B,SACZ,CAAIA,CAAAA,EAAO/+B,MAAM,CAAG,KAGfoD,EAAE2H,QAAQ,CAACg0B,CAAM,CAAC,EAAE,EAGlBgD,EAAWhD,CAAM,CAAC,EAAE,EAAEsJ,YAAY,CAACnG,GAFjCH,EAAWhD,CAAM,CAAC,EAAE,EAAEiD,EAAE,CAACE,IAIpC,OAAO9+B,EAAEggB,MAAM,CAAC2b,EAAQ,SAAUJ,CAAI,CAAEv/B,CAAK,CAAEoD,CAAG,SAChD,AAAKY,EAAE2H,QAAQ,CAAC3L,GAGTu/B,GAAQoD,EAAW3iC,GAAOipC,YAAY,CAACnG,GAFrCvD,GAAQoD,EAAW3iC,GAAO4iC,EAAE,CAACE,EAGxC,EAAG,GACL,EACF,CACF,CACF,CAEA,SAASqG,EAAgBr+B,CAAI,SAC3B,AAAKwxB,EAGE/D,EAAmBztB,GAFjBA,CAGX,CAoMA,IAAI7I,EAASmlC,AA9LSH,EAIpB,CAAC,CAAC3K,EAEF,SAAqB4K,CAAO,CAAEC,CAAO,CAAE9H,CAAgB,CAAEK,CAAgB,EACvE,GAAKiD,EAAWwE,GAASvE,EAAE,CAAC,MAAO,SACjC,OAAOuG,EAAgB,OAEzB,GAAInlC,EAAEuE,OAAO,CAAC4+B,IAAY,CAACnjC,EAAE2H,QAAQ,CAACw7B,UAIpC,AAAIxE,EAAWwE,GAAS8B,YAAY,CAAC,MAAO,SACnCE,EAAgB,OAElBA,EAAgB,QAGzB,IAAIC,EAAaplC,EAAEyc,YAAY,CAACzc,EAAEyJ,IAAI,CAACy5B,GAAUljC,EAAEyJ,IAAI,CAAC05B,IAMxD,GAAIkC,AADUrlC,EAAE4b,UAAU,CAAC5b,EAAEud,KAAK,CAACvd,EAAEyJ,IAAI,CAACy5B,GAAUljC,EAAEyJ,IAAI,CAAC05B,IAAWiC,GAC1DxoC,MAAM,CAAG,SAInB,AAAI+hC,EAAWwE,GAAS8B,YAAY,CAAC,MAAO,UAAYtG,EAAWuE,GAAS+B,YAAY,CAAC,MAAO,SACvFE,EAAgB,OAElB,CAAC,EAEV,OAAOnlC,EAAEggB,MAAM,CAAColB,EAAY,SAAU7J,CAAI,CAAEn8B,CAAG,EAE7C,OADAm8B,CAAI,CAACn8B,EAAI,CAAGs8B,EAAiBt8B,GACtBm8B,CACT,EAAG,CAAC,EACN,EACA,SAAwB2H,CAAO,CAAEC,CAAO,CAAE9H,CAAgB,CAAEK,CAAgB,EAC1E,GAAKiD,EAAWwE,GAASvE,EAAE,CAAC,MAAO,SACjC,OAAOuG,EAAgB,OAEzB,GAAI,CAACnlC,EAAEuE,OAAO,CAAC4+B,UAIb,AAAIxE,EAAWwE,GAAS8B,YAAY,CAAC,MAAO,SACnCE,EAAgB,OAElBA,EAAgB,eAEzB,AAAInlC,EAAEgkB,OAAO,CAACmf,EAAS,EAAE,EAChB,EAAE,CAEJ,CAAEzH,EAAiB,GAAI,AAChC,EACA,SAAuBwH,CAAO,CAAEC,CAAO,CAAE9H,CAAgB,SACvD,AAAKsD,EAAWwE,GAASvE,EAAE,CAAC,MAAO,UAM/BD,EAAWwE,GAAS8B,YAAY,CAAC,MAAO,SALnCE,EAAgB,OAQrB,CAACnlC,EAAEuE,OAAO,CAAC4+B,IAAYnjC,EAAE2H,QAAQ,CAACw7B,GAC7B,CAAC,EAEHgC,EAAgB,OACzB,EACA,SAAwBjC,CAAO,CAAEC,CAAO,CAAE9H,CAAgB,SACxD,AAAKsD,EAAWwE,GAASvE,EAAE,CAAC,MAAO,UAM/BD,EAAWwE,GAAS8B,YAAY,CAAC,MAAO,SALnCE,EAAgB,OAQrBnlC,EAAEuE,OAAO,CAAC4+B,GACL,EAAE,CAEJgC,EAAgB,OACzB,EACA,SAAgBjC,CAAO,CAAEC,CAAO,CAAE9H,CAAgB,SAChD,AAAKsD,EAAWwE,GAASvE,EAAE,CAAC,MAAO,UAM/BD,EAAWwE,GAAS8B,YAAY,CAAC,MAAO,SALnCE,EAAgB,OAQlBA,EAAgB,OACzB,EACA,SAAejC,CAAO,CAAEC,CAAO,CAAE9H,CAAgB,EAC/C,OAAO8J,EAAgB,MACzB,EACA,SAAiBjC,CAAO,CAAEC,CAAO,CAAE9H,CAAgB,SACjD,AAAKsD,EAAWwE,GAASvE,EAAE,CAAC,SACnBuG,EAAgB,SAElBA,EAAgB,MACzB,EACA,SAAkBjC,CAAO,CAAEC,CAAO,CAAE9H,CAAgB,SAClD,AAAKsD,EAAWwE,GAASvE,EAAE,CAAC,UACnBuE,EAKLxE,EAAWwE,GAAS8B,YAAY,CAAC,MAAO,SACnCE,EAAgB,OAErB,CAAC73B,GACEqxB,EAAWwE,GAASvE,EAAE,CAAC,SAAU,WAC7BsE,EAITvE,EAAWwE,GAASvE,EAAE,CAAC,SAAU,UAAW,SAC5C5+B,EAAEuE,OAAO,CAAC4+B,IACVnjC,EAAE2H,QAAQ,CAACw7B,GAEJgC,EAAgB,QAGlBA,EAAgB,MACzB,EACA,SAAkBjC,CAAO,CAAEC,CAAO,CAAE9H,CAAgB,EAClD,GAAKsD,EAAWwE,GAASvE,EAAE,CAAC,UAC1B,OAAOuE,EAKT,GAAIxE,EAAWwE,GAAS8B,YAAY,CAAC,MAAO,SAC1C,OAAOE,EAAgB,OAEzB,GAAI,CAAC73B,EAAS,CACZ,GAAKqxB,EAAWwE,GAASvE,EAAE,CAAC,UAC1B,OAAOuE,EAET,GAAKxE,EAAWwE,GAASvE,EAAE,CAAC,WAC1B,OAAOsE,CAEX,QACA,AACEvE,EAAWwE,GAASvE,EAAE,CAAC,SAAU,UAAW,SAC5C5+B,EAAEuE,OAAO,CAAC4+B,IACVnjC,EAAE2H,QAAQ,CAACw7B,GAEJgC,EAAgB,QAElBA,EAAgB,MACzB,EACA,SAAmBjC,CAAO,CAAEC,CAAO,CAAE9H,CAAgB,SACnD,AAAKsD,EAAWwE,GAASvE,EAAE,CAAC,WACnBuE,EAKLxE,EAAWwE,GAAS8B,YAAY,CAAC,MAAO,SACnCE,EAAgB,OAGrB,CAAC73B,GACEqxB,EAAWwE,GAASvE,EAAE,CAAC,SAAU,UAC7BuE,EAKTxE,EAAWwE,GAASvE,EAAE,CAAC,SAAU,SAAU,SAC3C5+B,EAAEuE,OAAO,CAAC4+B,IACVnjC,EAAE2H,QAAQ,CAACw7B,GAEJgC,EAAgB,QAElBA,EAAgB,MACzB,GAI2BjC,EAASC,UAGtC,AAAI7K,GACEt4B,EAAEukB,WAAW,CAACtmB,GACT29B,EAAME,GAAG,CAAC5D,WAAW,GAIzBj6B,CACT,C,uBCpWA,IAAI+B,EAAI,EAAQ,MACZk1B,EAAU,EAAQ,KA2CtB75B,CAAAA,EAAOH,OAAO,CAAG,SAAiCoqC,CAAgB,CAAEC,CAAmB,EAMrF,GAAIvlC,EAAEukB,WAAW,CAAC+gB,GAGhB,KADAjS,AADAA,CAAAA,EAAM,AAAIjzB,MAAM,8DAA6D,EACzE24B,IAAI,CAAG,qBACL1F,EAER,GAAIrzB,EAAEqkB,MAAM,CAACihB,GAGX,KADAjS,AADAA,CAAAA,EAAM,AAAIjzB,MAAM,yDAAwD,EACpE24B,IAAI,CAAG,qBACL1F,EAER,GAAIkS,GAAuBvlC,EAAEgkB,OAAO,CAACshB,EAAkB,EAAE,EAGvD,KADAjS,AADAA,CAAAA,EAAM,AAAIjzB,MAAM,mRAAoR,EAChS24B,IAAI,CAAG,sBACL1F,EAIR,IApBIA,EAoBAmS,EAAkBtQ,EAEpBoQ,EAEA,SAA6BhY,CAAG,EAC9B,GAAIttB,EAAEqkB,MAAM,CAACiJ,GAGX,KADA+F,AADAA,CAAAA,EAAM,AAAIjzB,MAAM,wEAAuE,EACnF24B,IAAI,CAAG,qBACL1F,EAER,OAAO/F,CACT,EAEA,SAA8BA,CAAG,CAAExmB,CAAI,EACrC,GAAIA,AAAS,UAATA,GAAoBwmB,AAAe,IAAfA,EAAI1wB,MAAM,EAAU2oC,EAG1C,KADAlS,AADAA,CAAAA,EAAM,AAAIjzB,MAAM,mRAAoR,EAChS24B,IAAI,CAAG,sBACL1F,EAEH,GAAIvsB,AAAS,UAATA,IAAoBwmB,CAAAA,EAAI1wB,MAAM,CAAG,GAKnC,OAAO0wB,CAFZ,MADA+F,AADAA,CAAAA,EAAM,AAAIjzB,MAAM,0FAAyF,EACrG24B,IAAI,CAAG,qBACL1F,CAGV,GAOF,GAAI,CAACrzB,EAAEgkB,OAAO,CAACshB,EAAkBE,GAG/B,KADAnS,AADAA,CAAAA,EAAM,AAAIjzB,MAAM,6FAA4F,EACxG24B,IAAI,CAAG,qBACL1F,CAGV,C,uBCzGA,IAAIqF,EAAoB,EAAQ,MAC5BC,EAAoB,EAAQ,KAShCt9B,CAAAA,EAAOH,OAAO,CAAG,SAAyB09B,CAAQ,CAAEC,CAAM,EAExD,IAAIC,EAAS,EAAE,CACfJ,EAAkBE,EAAUC,EAAQC,EAAQ,EAAE,CAAE,IAKhD,IAAIzF,EAAMsF,EAAkBG,EAAQ,oBACpC,GAAIzF,EACF,MAAMA,CAEV,C,uBCtBA,IAAIqF,EAAoB,EAAQ,MAC5BC,EAAoB,EAAQ,KAahCt9B,CAAAA,EAAOH,OAAO,CAAG,SAAmB09B,CAAQ,CAAEC,CAAM,EAElD,IAAIC,EAAS,EAAE,CACX76B,EAASy6B,EAAkBE,EAAUC,EAAQC,EAAQ,EAAE,CAAE,IAKzDzF,EAAMsF,EAAkBG,EAAQ,oBACpC,IAAIzF,EAGF,OAAOp1B,CAFP,OAAMo1B,CAIV,C,uBC5BA,IAAIoS,EAAK,EAAQ,KAcjBpqC,CAAAA,EAAOH,OAAO,CAAGuqC,C,uBCdjB,IAAIzlC,EAAI,EAAQ,MACZ0lC,EAAW,EAAQ,MACnBD,EAAK,EAAQ,MACb3N,EAAO,EAAQ,IASnBz8B,CAAAA,EAAOH,OAAO,CAAG,SAASyqC,CAAS,EAMjC,IAAIC,EAAOH,EAHXE,EAAYA,GAAa,SAerBvb,EAASub,EAAY,IAGrB7V,EAAI1F,EAAOxtB,MAAM,CAGrBoD,EAAE4qB,IAAI,CAAC6D,QAAQ6D,GAAG,CAAE,SAAShF,CAAG,CAAEluB,CAAG,EAGnC,GAAG,AAA0B,IAAzBA,EAAI9B,OAAO,CAAC8sB,GAAgB,CAG9B,IAAImJ,EAAUn0B,EAAI+pB,SAAS,CAAC2G,GAAGxuB,OAAO,CAAC,MAAM,KAG7C,GAAI,CACFgsB,EAAMwK,EAAK5D,UAAU,CAAC5G,EAAK,OAC7B,CAEA,MAAMuY,EAAW,CACfvY,EAAMwK,EAAK5D,UAAU,CAAC5G,EACxB,CAIAttB,EAAE4H,GAAG,CAACg+B,EAAMrS,EAASjG,EAEvB,CAEF,GAGA,IAAI+D,EAAOqU,EAASjX,QAAQ4C,IAAI,CAAC9Y,KAAK,CAAC,IAMvC,OAFAqtB,EAAO5lC,EAAE2a,KAAK,CAACirB,EAAMvU,EAIvB,C,gCCzEA,IAAIyU,EAAgB,EAChBC,EAAe,EAEnB,SAASC,IACR,MAAO,EACR,CAEA,SAASC,EAAoB3W,CAAG,CAAEjpB,CAAK,CAAEC,CAAG,EAC3C,OAAOgpB,EAAI/W,KAAK,CAAClS,EAAOC,GAAKhF,OAAO,CAAC,MAAO,IAC7C,CAEAjG,EAAOH,OAAO,CAAG,SAAUo0B,CAAG,CAAEqB,CAAI,EAWnC,IAAK,IARDuV,EACAC,EACAC,EAAe,GACfC,EAAgB,GAChBz9B,EAAS,EACT0wB,EAAM,GACNgN,EAAQ3V,AAAoB,KAApBA,AARZA,CAAAA,EAAOA,GAAQ,CAAC,GAQC5B,UAAU,CAAaiX,EAAyBC,EAExD3V,EAAI,EAAGA,EAAIhB,EAAI1yB,MAAM,CAAE0zB,IAAK,CAWpC,GAVA4V,EAAc5W,CAAG,CAACgB,EAAE,CACpB6V,EAAW7W,CAAG,CAACgB,EAAI,EAAE,CAEjB,CAAC+V,GAAiBH,AAAgB,MAAhBA,GAEjB,CADU5W,CAAAA,AAAe,OAAfA,CAAG,CAACgB,EAAI,EAAE,EAAahB,AAAe,OAAfA,CAAG,CAACgB,EAAI,EAAE,AAAQ,GAEtD8V,CAAAA,EAAe,CAACA,CAAW,GAIzBA,EAIJ,GAAI,AAACC,GAAiBH,EAAcC,IAAa,MAK1C,GAAIE,IAAkBP,GAAiBI,EAAcC,IAAa,OAAQ,CAEhFE,EAAgB,GAChB/M,GAAOgN,EAAMhX,EAAK1mB,IAAQ0nB,GAC1B1nB,EAAS0nB,EACT,QACD,MAAO,GAAI+V,IAAkBP,GAAiBI,AAAgB,OAAhBA,EAC7CG,EAAgB,GAChB/M,GAAOgN,EAAMhX,EAAK1mB,EAAQ0nB,GAC1B1nB,EAAS0nB,OACH,GAAI,AAAC+V,GAAiBH,EAAcC,IAAa,KAMjD,IAAIE,IAAkBN,GAAgBG,EAAcC,IAAa,KAAM,CAE7EE,EAAgB,GAChB/M,GAAOgN,EAAMhX,EAAK1mB,EAAQ0nB,EAAAA,EAAI,GAC9B1nB,EAAS0nB,EAAI,EACb,QACD,MAZ8D,CAC7DgJ,GAAOhK,EAAI/W,KAAK,CAAC3P,EAAQ0nB,GACzB1nB,EAAS0nB,EACT+V,EAAgBN,EAChBzV,IACA,QACD,OApBCgJ,GAAOhK,EAAI/W,KAAK,CAAC3P,EAAQ0nB,GACzB1nB,EAAS0nB,EACT+V,EAAgBP,EAChBxV,GAwBF,CAEA,OAAOgJ,EAAO+M,CAAAA,EAAgBC,EAAMhX,EAAIa,MAAM,CAACvnB,IAAW0mB,EAAIa,MAAM,CAACvnB,EAAM,CAC5E,C,qsBCzCI29B,EACAd,EAJJhX,QAAQ+X,KAAK,CAACC,WAKd,GAAI,CACFF,EAAQ,oBAAQ,MAChBd,EAAK,oBAAQ,KACf,CAAE,MAAOpS,EAAK,CACZqT,QAAQC,KAAK,CAAC,6DACdD,QAAQC,KAAK,CAACtT,EAAI2M,KAAK,EACvB0G,QAAQC,KAAK,CAAC,MACdD,QAAQC,KAAK,CACX,uEAEFD,QAAQC,KAAK,CACX,wEAEFD,QAAQC,KAAK,CAAC,4DACdD,QAAQC,KAAK,GACbD,QAAQC,KAAK,CACX,wEAEFD,QAAQC,KAAK,CACX,wEAEFD,QAAQC,KAAK,CACX,wEAEFD,QAAQC,KAAK,CACX,yEAEF,MACF,CAGAJ,EAAMK,IAAI,CAACnB,EAAG,S"}